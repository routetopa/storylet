(this["webpackJsonpstorylet-creator"]=this["webpackJsonpstorylet-creator"]||[]).push([[0],{327:function(e,t,n){e.exports=n(661)},336:function(e,t,n){},411:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},494:function(e,t){},495:function(e,t,n){},496:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},652:function(e,t,n){},653:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){},659:function(e,t,n){},661:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(7),r=n.n(i),c=n(5),l=n(4),s=(n(336),n(23)),u=n(29);function d(e){var t=e.hideSettings;return o.a.createElement("div",{className:"info"},o.a.createElement(s.a,{onClick:t,icon:u.f,className:"icon"}))}var p=n(49),m=n.n(p);function f(e,t){return g[e+"_"+t]?g[e+"_"+t]:g[e+"_en"]?g[e+"_en"]:e+"_"+t}var g=[];g.newText_it="Nuovo testo",g.newSpeech_it="Bla bla bla...",g.keyword_it="Parola chiave",g.addText_it="Aggiungi testo",g.addBalloon_it="Aggiungi discorso",g.addBackground_it="Aggiungi sfondo",g.addImage_it="Aggiungi immagine",g.addDatalet_en="Aggiungi datalet",g.undo_it="Annulla (Ctrl+Z)",g.redo_it="Ripeti (Ctrl+Y)",g.playStoryPreview_it="Riproduci anteprima storia",g.fantasyHelper_it="Aiuta la tua fantasia!",g.moveUpSlide_it="Sposta su scena",g.moveDownSlide_it="Sposta gi\xf9 scena",g.removeSlide_it="Rimuovi scena",g.duplicateSlide_it="Duplica scena",g.addSlide_it="Aggiungi scena",g.save_it="Salva",g.autosave_it="Autosave",g.language_it="Lingua",g.exit_it="Esci",g.saveBeforeExit_it="Salva prima di uscire?",g.yes_it="Si",g.no_it="No",g.saved_it="Salvataggio riuscito!",g.hasBeenSuccessfullySaved_it="La storia \xe8 stata salvata con successo!",g.error_it="Qualcosa \xe8 andato storto :(",g.analogies_it="Analogie",g.synonyms_it="Sinonimi",g.rhymes_it="Rime",g.path_it="PERCORSO",g.fullLemma_it="Lista sinonimi",g.word_it="Parola",g.score_it="Punteggio",g.frequency_it="Frequenza",g.syllables_it="Sillabe",g.component_it="Componente",g.slide_it="Scena",g.title_it="Titolo",g.description_it="Descrizione",g.template_it="Template",g.linear_it="lineare",g.snail_it="chiocciola",g.cube_it="cubo",g.autoplay_it="Autoplay",g.text_it="Testo",g.size_it="Dim.",g.position_it="Posizione",g.scale_it="Scala",g.rotate_it="Ruota",g.balloon_it="Discorso",g.balloonType_it="Tipo",g.balloonPlacement_it="Pos.",g.BL_it="BL",g.BR_it="BR",g.TL_it="TL",g.TR_it="TR",g.noneOpt_it="No",g.speechOpt_it="Discorso",g.thoughtOpt_it="Pensiero",g.width_it="W",g.height_it="H",g.top_it="X",g.left_it="Y",g.zIndex_it="Z",g.scaleX_it="X",g.scaleY_it="Y",g.degrees_it="Deg.",g.delete_it="Elimina",g.keepRatio_it="Mantenere proporzion",g.bringsUp_it="Porta in primo piano",g.flipH_it="Capovolgi orizzontalmente",g.flipV_it="Flip verticalmente",g.selectBackground_it="Seleziona sfondo",g.selectImage_it="Seleziona immagine",g.uploadImage_it="Carica immagine",g.selectColor_it="Seleziona colore",g.buttonOk_it="Ok",g.buttonCancel_it="Chiudi",g.optionUploads_it="Consigliate",g.optionBG1_it="Sfondi 1",g.optionBG2_it="Sfondi 2",g.fantasticCharacters_it="Personaggi fantastici",g.seaLife_it="Mondo marino",g.newText_en="Nex Text",g.newSpeech_en="Blah, blah blah...",g.keyword_en="Keyword",g.addText_en="Add Text",g.addBalloon_en="Add Speech",g.addBackground_en="Add Background",g.addImage_en="Add Image",g.addDatalet_en="Add Datalet",g.undo_en="Undo (Ctrl+Z)",g.redo_en="Redo (Ctrl+Y)",g.playStoryPreview_en="Play Story Preview",g.fantasyHelper_en="Help your Imagination!",g.moveUpSlide_en="Move Up Slide",g.moveDownSlide_en="Move Down Slide",g.removeSlide_en="Remove Slide",g.duplicateSlide_en="Duplicate Slide",g.addSlide_en="Add Slide",g.save_en="Save",g.autosave_en="Autosave",g.language_en="Language",g.exit_en="Exit",g.saveBeforeExit_en="Save before exit?",g.yes_en="Yes",g.no_en="No",g.saved_en="Saving successful!",g.hasBeenSuccessfullySaved_en="The Story has been successfully saved!",g.error_en="Something went wrong :(",g.analogies_en="Analogies",g.synonyms_en="Synonyms",g.rhymes_en="Rhymes",g.path_en="PATH",g.fullLemma_en="Word",g.word_en="Word",g.score_en="Score",g.frequency_en="Frequency",g.syllables_en="Syllables",g.component_en="Component",g.slide_en="Slide",g.title_en="Title",g.description_en="Description",g.template_en="Template",g.linear_en="linear",g.snail_en="snail",g.cube_en="cube",g.autoplay_en="Autoplay",g.text_en="Text",g.size_en="Size",g.position_en="Position",g.scale_en="Scale",g.rotate_en="Rotate",g.balloon_en="Balloon",g.balloonType_en="Type",g.balloonPlacement_en="Pos.",g.BL_en="BL",g.BR_en="BR",g.TL_en="TL",g.TR_en="TR",g.noneOpt_en="No",g.speechOpt_en="Speech",g.thoughtOpt_en="Thought",g.width_en="W",g.height_en="H",g.top_en="X",g.left_en="Y",g.zIndex_en="Z",g.scaleX_en="X",g.scaleY_en="Y",g.degrees_en="Deg.",g.delete_en="Delete",g.keepRatio_en="Keep Aspect Ratio",g.bringsUp_en="Brings Up",g.flipH_en="Flip Horizontal",g.flipV_en="Flip Vertical",g.selectBackground_en="Select background",g.selectImage_en="Select image",g.uploadImage_en="Upload image",g.selectColor_en="Select color",g.buttonOk_en="Ok",g.buttonCancel_en="Close",g.optionUploads_en="Recommended ",g.optionBG1_en="Backgrounds 1",g.optionBG2_en="Backgrounds 2",g.fantasticCharacters_en="Fantastic Characters",g.seaLife_en="Sea Life",g.save_es="Guardar",g.autosave_es="Autosave",g.language_es="Idioma",g.analogies_es="Analogie",g.synonyms_es="Sinonimi",g.rhymes_es="Rime",g.path_es="PERCORSO",g.fullLemma_es="Parola",g.word_es="Parola",g.score_es="Punteggio",g.frequency_es="Frequenza",g.syllables_es="Sillabe",g.save_fr="Sauver",g.autosave_fr="Autosave",g.language_fr="Langue",g.analogies_fr="Analogie",g.synonyms_fr="Sinonimi",g.rhymes_fr="Rime",g.path_fr="PERCORSO",g.fullLemma_fr="Parola",g.word_fr="Parola",g.score_fr="Punteggio",g.frequency_fr="Frequenza",g.syllables_fr="Sillabe",g.save_de="Speichern",g.autosave_de="Autosave",g.language_de="Sprache",g.analogies_de="Analogie",g.synonyms_de="Sinonimi",g.rhymes_de="Rime",g.path_de="PERCORSO",g.fullLemma_de="Parola",g.word_de="Parola",g.score_de="Punteggio",g.frequency_de="Frequenza",g.syllables_de="Sillabe";var E=n(11),h=n.n(E),b=(n(411),function(e){return{type:"SELECT_LANGUAGE",payload:e}}),A=function(e){return{type:"SET_STORYLET",payload:e}},_=n(681),w=n(668),v=n(119),T=n(669);function S(){var e=Object(l.c)(),t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],d=Object(a.useState)(!1),p=Object(c.a)(d,2),g=p[0],E=p[1],S=Object(a.useState)("it"),I=Object(c.a)(S,2),C=I[0],y=I[1],O=Object(l.d)((function(e){return e.selectedLanguage})),k=Object(l.d)((function(e){return e.slidesData})),x=Object(l.d)((function(e){return e.storylet})),j=function(e){"success"===e?_.a[e]({message:f("saved",C),description:f("hasBeenSuccessfullySaved",C)}):"error"===e&&_.a[e]({message:f("error",C)})};Object(a.useEffect)((function(){if(x){if(x.language)y(x.language),e(b(x.language));else{var t=window.location.href,n=new URL(t).searchParams.get("ln");n||(n=navigator.language.split("-")[0]),-1===["en","it","es","fr","de"].indexOf(n)&&(n="en"),e(b(n))}x.autosave&&E(x.autosave)}}),[x,e]),Object(a.useEffect)((function(){k&&x&&g&&B()}),[k,x]);var B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.a.put(window.API_ENDPOINT.SAVE_STORYLET,{storyletid:window.STORY.DATA.id,story:k,metadata:x}).then((function(t){!0===e&&(window.location.href=window.STATIC.EXIT_URL),g||j("success")}),(function(e){j("error"),console.log(e)}))};return o.a.createElement("div",{className:"menu"},o.a.createElement(s.a,{icon:u.c,className:"icon",onClick:function(){r(""===i?"open":"")}}),o.a.createElement("div",{className:"sidebar ".concat(i)},o.a.createElement("div",{className:"sidebarBody"},o.a.createElement("div",{className:"menu-item menu-btn",onClick:function(){return B()}},f("save",O)),o.a.createElement("div",{className:"menu-item"},f("autosave",C),o.a.createElement(w.a,{checked:g,size:"small",onChange:function(){var t=h()(x);t.autosave=!g,Object(l.b)((function(){e(A(t))})),E(!g),g&&B()}})),o.a.createElement("div",{className:"menu-item"},f("language",O),o.a.createElement(v.a,{value:C,onChange:function(t){var n=h()(x);n.language=t,Object(l.b)((function(){e(A(n))})),e(b(t))}},o.a.createElement(v.a.Option,{value:"it"},"IT"),o.a.createElement(v.a.Option,{value:"en"},"EN"),o.a.createElement(v.a.Option,{value:"es"},"ES"),o.a.createElement(v.a.Option,{value:"fr"},"FR"),o.a.createElement(v.a.Option,{value:"de"},"DE"))),o.a.createElement("div",{className:"menu-item menu-btn"},o.a.createElement(T.a,{placement:"right",title:f("saveBeforeExit",C),onConfirm:function(e){B(!0)},onCancel:function(e){window.location.href=window.STATIC.EXIT_URL},okText:f("yes",C),cancelText:f("no",C)},o.a.createElement("div",{className:""},f("exit",C)))))))}n(480);function I(e){var t=e.hideSettings;return o.a.createElement("div",{className:"header"},o.a.createElement(S,null),o.a.createElement("div",{className:"logo"}," "),o.a.createElement(d,{hideSettings:t}))}var C=n(151),y=n(152);n(481);function O(){var e=Object(C.a)(["\n        top:                ",";\n        left:               ",";\n        width:              ",";\n        height:             ",";\n        transform:          ",";\n        z-index:            ",";\n        \n        font-family:         ",";\n        font-size:           ",";\n        color:               ",";\n        font-weight:         ",";\n        font-style:          ",";\n        text-decoration:     ",";\n        text-align:          ",";\n        background-color:    ",";\n        \n        & > div {\n            overflow: hidden\n        }\n        \n        &.balloon {\n            border:             ",";\n            padding:            ",";\n            border-radius:      ",";\n            background-color:   ",";\n            overflow: visible;\n            \n            white-space: break-spaces;\n            font-size:          ",";\n            text-align: center\n        }\n        \n        &.balloon:before, &.balloon:after {\n            content: ' ';\n            position: absolute;\n            width: 0;\n            height: 0;\n        }\n        \n        &.balloon.speech:before {\n            left:               ",";\n            bottom:             ",";\n            border:             ",";\n            border-color:       #212121 transparent transparent #212121;\n        }\n        \n        &.balloon.speech:after {\n            left:               ",";\n            bottom:             ",";\n            border:             ",";\n            border-color:       ",";\n        }\n        \n        &.balloon.speech.BR:before {\n            left:               initial\n            right:              ",";\n            border-color:       #212121 #212121 transparent transparent;\n        }\n        \n        &.balloon.speech.BR:after {\n            left:               initial\n            right:              ",";\n            border-color:       ",";\n        }\n        \n        &.balloon.speech.TL:before {\n            bottom:             initial\n            top:                ",";\n            border-color:       transparent transparent #212121 #212121;\n        }\n        \n        &.balloon.speech.TL:after {\n            bottom:             initial\n            top:                ",";\n            border-color:       ",";\n        }\n        \n        &.balloon.speech.TR:before {\n            left:               initial\n            right:              ",";\n            bottom:             initial\n            top:                ",";\n            border-color:       transparent #212121 #212121 transparent;\n        }\n        \n        &.balloon.speech.TR:after {\n            left:               initial\n            right:              ",";\n            bottom:             initial\n            top:                ",";\n            border-color:       ",";\n        }\n        \n        &.balloon.thought {\n            border-radius:      ",";\n            padding:            ",";\n        }\n        \n        &.balloon.thought:before, .balloon.thought:after {\n            left:               ",";\n            bottom:             ",";\n            width:              ",";\n            height:             ",";\n            background-color:   ",";\n            border:             ",";\n            border-radius: 50%;\n        }\n        \n        &.balloon.thought:after {\n            left:               ",";\n            bottom:             ",";\n            width:              ",";\n            height:             ",";\n            background-color:   ",";\n            border:             ",";\n            border-radius: 50%;\n        }\n        \n        &.balloon.thought.BR:before, .balloon.thought:after {\n            left:               initial\n            right:               ",";\n        }\n        \n        &.balloon.thought.BR:after {\n            left:               initial\n            right:               ",";\n        }\n        \n        &.balloon.thought.TL:before, .balloon.thought:after {\n            bottom:             initial\n            top:                ",";\n        }\n        \n        &.balloon.thought.TL:after {\n            bottom:             initial\n            top:                ",";\n        }\n        \n        &.balloon.thought.TR:before, .balloon.thought:after {\n            left:               initial\n            right:               ",";\n            bottom:             initial\n            top:                ",";\n        }\n        \n        &.balloon.thought.TR:after {\n            left:               initial\n            right:               ",";\n            bottom:             initial\n            top:                ",";\n        }\n    "]);return O=function(){return e},e}function k(e){var t=e.component,n=e.onClick,a=e.isEditable,i=t.fontSize*t.w*.002,r=y.a.div(O(),(function(e){return e.y+"%"}),(function(e){return e.x+"%"}),(function(e){return e.w+"%"}),(function(e){return e.h+"%"}),(function(e){return"scale("+e.scale[0]+","+e.scale[1]+") rotate("+e.rotate+"deg)"}),(function(e){return e.zIndex}),(function(e){return e.fontFamily}),(function(e){return.1*(a?e.fontSize:e.fontSize/2)+"vw"}),(function(e){return e.color}),(function(e){return e.fontWeight}),(function(e){return e.fontStyle}),(function(e){return e.textDecoration}),(function(e){return e.textAlign}),(function(e){return e.backgroundColor}),(a?.5:.25)+"vw solid #212121",(a?.5:.25)+"vw",(a?1.5:.75)+"vw",(function(e){return e.backgroundColor?e.backgroundColor:"#fff"}),(a?i:i/2)+"vw",(a?1.5:.75)+"vw",-(a?2.5:1.25)+"vw",(a?1.25:.625)+"vw solid",(a?1.9:.95)+"vw",-(a?1.4:.7)+"vw",(a?.75:.375)+"vw solid",(function(e){return(e.backgroundColor?e.backgroundColor:"#fff")+" transparent transparent "+(e.backgroundColor?e.backgroundColor:"#fff")}),(a?1.5:.75)+"vw",(a?1.9:.95)+"vw",(function(e){return(e.backgroundColor?e.backgroundColor+" "+e.backgroundColor:"#fff #fff")+" transparent transparent"}),-(a?2.5:1.25)+"vw",-(a?1.4:.7)+"vw",(function(e){return" transparent transparent "+(e.backgroundColor?e.backgroundColor+" "+e.backgroundColor:"#fff #fff")}),(a?1.5:.75)+"vw",-(a?2.5:1.25)+"vw",(a?1.9:.95)+"vw",-(a?1.4:.7)+"vw",(function(e){return"transparent "+(e.backgroundColor?e.backgroundColor+" "+e.backgroundColor:"#fff #fff")+" transparent"}),(a?10:5)+"vw",(a?1:.5)+"vw",(a?.5:.25)+"vw",-(a?1.75:.875)+"vw",(a?3:1.5)+"vw",(a?3:1.5)+"vw",(function(e){return e.backgroundColor?e.backgroundColor:"#fff"}),(a?.5:.25)+"vw solid #212121",(a?.25:.125)+"vw",-(a?2.35:1.175)+"vw",(a?2:1)+"vw",(a?2:1)+"vw",(function(e){return e.backgroundColor?e.backgroundColor:"#fff"}),(a?.5:.25)+"vw solid #212121",(a?.5:.25)+"vw",(a?.25:.125)+"vw",-(a?1.75:.875)+"vw",-(a?2.35:1.175)+"vw",(a?.5:.25)+"vw",-(a?1.75:.875)+"vw",(a?.25:.125)+"vw",-(a?2.35:1.175)+"vw");return o.a.createElement(r,Object.assign({},t,{className:"text-moveable-container "+(t.balloon?t.balloon:"")+" "+(t.placement?t.placement:""),onClick:n,id:a?"component-"+t.index:""}),o.a.createElement("div",{className:"inner_text",dangerouslySetInnerHTML:{__html:t.value}}))}n(482);function x(e){var t=e.component,n=e.onClick,a=e.isEditable;return o.a.createElement("div",{className:"image-moveable-container",onClick:n,id:a?"component-"+t.index:"",style:{top:t.y+"%",left:t.x+"%",width:t.w+"%",height:t.h+"%",transform:"scale("+t.scale[0]+","+t.scale[1]+") rotate("+t.rotate+"deg)",zIndex:t.zIndex}},o.a.createElement("img",{src:t.src,alt:t.src}))}function j(){var e=Object(C.a)(["\n  width: ",";\n  padding-top: ",";\n  margin: 40px auto;\n  position: relative;\n  background: url(",");\n  background-size: cover;\n  background-color: ",";\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  cursor: ","; \n  \n  cursor: ",";\n  border: ",";\n  background-origin: border-box;\n  \n  .pageCount {\n    color: var(--storylet-white);\n    position: absolute;\n    \n    //right: 0;\n    //bottom: -28px;\n    \n    //bottom: 4px;\n    //right: 4px;\n    \n    top: -10px;\n    right: -10px;\n    \n    font-weight: 700;\n    font-size: 12px;\n    background: red;\n    border-radius: 50%;\n    height: 20px;\n    width: 20px;\n    background:  var(--storylet-driver);\n    text-align: center;\n    line-height: 20px;\n  }\n"]);return j=function(){return e},e}var B=y.a.div(j(),(function(e){return e.isSettingVisible?"80%":"50%"}),(function(e){return e.isSettingVisible?"80%":"50%"}),(function(e){return e.background}),(function(e){return e.backgroundColor||"var(--storylet-white)"}),(function(e){return e.cursor}),(function(e){return e.isEditable?"auto":"pointer"}),(function(e){return e.isEditable?"none":e.selected?"2px solid var(--storylet-driver)":"2px solid transparent"})),P=function(e){return{type:"SELECT_COMPONENT",payload:e}};var H=function(e){var t=e.parameters,n=e.isEditable,a=e.onClick,i=e.isSettingVisible,r=e.selected,c=Object(l.c)();return o.a.createElement(B,{selected:r,id:"slide_"+t.id,isSettingVisible:i,background:t.background,backgroundColor:t.backgroundColor,isEditable:n,onClick:a},t.components?t.components.map((function(e,t){switch(e.type){case"text":return o.a.createElement(k,{key:t,isEditable:n,component:e,onClick:n?function(){c(P(e))}:null});case"image":return o.a.createElement(x,{key:t,isEditable:n,component:e,onClick:n?function(){c(P(e))}:null})}})):null,console.log("render slide"),n?"":o.a.createElement("div",{className:"pageCount"},t.index+1))},M=(n(483),function(e){return{type:"SELECT_SLIDE",payload:e}});function G(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.slidesData})),n=Object(l.d)((function(e){return e.selectedSlide}));return o.a.createElement("div",{className:"slide-container"},t.map((function(a,i){return o.a.createElement(H,{selected:a.id===n.id,isSettingVisible:!0,key:i,parameters:a,isEditable:!1,onClick:function(){Object(l.b)((function(){e(P(null)),e(M(t[i]))}))}})})))}var N=n(78),R=n.n(N),L=n(115),z=n(680),D=(n(279),n(670)),V=n(161);n(495);function W(e){var t=e.startingWord,n=Object(l.d)((function(e){return e.selectedLanguage})),i={noun:"#4CAF50",adjective:"#F44336",verb:"#FF9800",adverb:"#2196F3"},s=Object(a.useState)([]),u=Object(c.a)(s,2),d=u[0],p=u[1],g=Object(a.useState)(null),E=Object(c.a)(g,2),h=E[0],b=E[1],A=Object(a.useState)(null),_=Object(c.a)(A,2),w=_[0],v=_[1];function T(e){m.a.get("https://api.wordassociations.net/associations/v1.0/json/search?apikey=ebb2ab66-af3f-42c9-bc24-8072f0c413d5&text="+e+"&lang="+n+"&limit=50").then((function(e){for(var t=e.data.response[0].items,n=[],a=0;a<t.length;a++)n.push({text:t[a].item,value:t[a].weight,color:i[t[a].pos]});p(n)}),(function(e){console.log(e)}))}Object(a.useEffect)((function(){t&&0!==t.length&&(b(t.slice()),T(t[0]))}),[t]),Object(a.useEffect)((function(){if(h&&0!==h.length){for(var e=[],t=function(t){e.push(o.a.createElement("span",{onClick:function(){!function(e){var t=h[e],n=h.slice();n.splice(e+1);var a=n.slice();b(a),T(t)}(t)},key:t},h[t])),e.push(" / ")},n=0;n<h.length;n++)t(n);r.a.render(e,document.getElementById("selected-words"))}}),[h]),Object(a.useEffect)((function(){if(h&&0!==h.length){var e=h.slice();e.push(w),b(e)}}),[w]);var S={getWordColor:function(e){return e.color},getWordTooltip:function(e){return'La parola "'.concat(e.text,'" ha una rilevanza pari a ').concat(e.value,".")},onWordClick:I("onWordClick"),onWordMouseOut:I("onWordMouseOut"),onWordMouseOver:I("onWordMouseOver")};function I(e){return function(t,n){var a="onWordMouseOut"!==e,o=n.target;Object(D.a)(o).on("click",(function(){v(t.text),T(t.text)})).attr("text-decoration",a?"underline":"none")}}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"path"},f("path",n),":\xa0",o.a.createElement("div",{id:"selected-words"}," ")),o.a.createElement("div",{id:"wordcloud"},o.a.createElement(V.a,{callbacks:S,options:{fontSizes:[20,100],rotations:3,rotationAngles:[0,90],fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',padding:10,transitionDuration:1e3},words:d})))}var Y=n(676);n(496);function F(e){var t=e.startingWord,n=Object(l.d)((function(e){return e.selectedLanguage})),i=Object(a.useState)([]),r=Object(c.a)(i,2),s=r[0],u=r[1],d=[{title:f("word",n),dataIndex:"word",key:"word",sorter:function(e,t){return e.word.localeCompare(t.word)}},{title:f("score",n),dataIndex:"score",key:"score",sorter:function(e,t){return e.score-t.score}},{title:f("syllables",n),dataIndex:"syllables",key:"syllables",sorter:function(e,t){return e.syllables-t.syllables}}];return Object(a.useEffect)((function(){t&&0!==t.length&&m.a.get("https://rhymebrain.com/talk?function=getRhymes&word="+t+"&lang="+n).then((function(e){u(e.data)}),(function(e){console.log(e)}))}),[t]),o.a.createElement("div",{className:"rhymebrain-container"},o.a.createElement(Y.a,{dataSource:s,columns:d,rowKey:"word",size:"middle"}))}n(524);function U(e){var t=e.startingWord,n=Object(l.d)((function(e){return e.selectedLanguage})),i="91373219-3631-4c81-8c7b-5f8ae29776ee",r=n,s=Object(a.useState)([]),u=Object(c.a)(s,2),d=u[0],p=u[1],g=[{title:f("fullLemma",n),dataIndex:"properties.fullLemma",key:"fullLemma",render:function(e,t,n){return t.properties.fullLemma+" ("+t.properties.source+")"},sorter:function(e,t){return e.properties.fullLemma.localeCompare(t.properties.fullLemma)}}];Object(a.useEffect)((function(){t&&0!==t.length&&function(e,t,n,a,o){m.a.get("https://babelnet.io/v5/getSenses?lemma="+e+"&searchLang="+t+"&targetLang="+n+(a?"&source="+a:"")+(o?"&source="+o:"")+"&key="+i).then((function(e){for(var t=[],n=[],a=0;a<e.data.length;a++)t.indexOf(e.data[a].properties.synsetID.id)>-1||(t.push(e.data[a].properties.synsetID.id),n.push(e.data[a]));console.log(n),p(n)}),(function(e){console.log(e)}))}(t,r,r,null,null)}),[t]);var E=Object(a.useState)([]),h=Object(c.a)(E,2),b=h[0],A=h[1],_=Object(a.useState)([]),w=Object(c.a)(_,2),v=w[0],T=w[1];return o.a.createElement("div",{className:"babelnet-container"},o.a.createElement("div",{className:"babelnet-table"},o.a.createElement(Y.a,{dataSource:d,columns:g,rowKey:function(e){return e.properties.synsetID.id},size:"middle",onRow:function(e,t){return{onClick:function(e){var t,n;t=e.currentTarget.dataset.rowKey,n=r,m.a.get("https://babelnet.io/v5/getSynset?id="+t+"&targetLang="+n+"&key="+i).then((function(e){for(var t=e.data.senses,n=[],a=0;a<t.length;a++)n.push({text:t[a].properties.fullLemma,value:t[a].properties.frequency+1,color:"#000000"});A(n);var o="";if(e.data.glosses){for(var i=0;i<e.data.glosses.length;i++)o+=" "+e.data.glosses[i].gloss;T(o)}}),(function(e){console.log(e)}))},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){},onMouseLeave:function(e){}}}})),o.a.createElement("div",{className:"babelnet-wordcloud"},o.a.createElement("div",{id:"babelnet-gloss"},o.a.createElement("div",{id:"gloss"},v)),o.a.createElement("div",{id:"babelnet-words"},o.a.createElement(V.a,{callbacks:{},options:{fontSizes:[20,100],rotations:3,rotationAngles:[0,90],fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',padding:10,transitionDuration:1e3},words:b}))))}n(525);var X=n(87);function q(e){var t=e.startingWord,n=Object(l.d)((function(e){return e.selectedLanguage})),i=Object(a.useRef)(!1),r=Object(a.useState)(0),d=Object(c.a)(r,2),p=d[0],m=d[1];function g(e){m(e._targetInst.index-1)}return Object(a.useEffect)((function(){t&&0!==t.length&&(m(0),i.current.style.visibility="visible")}),[t]),o.a.createElement("div",{id:"cover-container",ref:i},o.a.createElement("div",{id:"wordcloud-container"},o.a.createElement(s.a,{id:"wordcloud-close",icon:u.j,className:"icon",onClick:function(){i.current.style.visibility="hidden"}}),o.a.createElement("div",{className:"word-tabs"},o.a.createElement("div",{className:"word-tab"},o.a.createElement(s.a,{icon:X.d,className:"icon"})," ",t),o.a.createElement("div",{className:0===p?"word-tab selected":"word-tab",onClick:g},f("analogies",n)),o.a.createElement("div",{className:1===p?"word-tab selected":"word-tab",onClick:g},f("synonyms",n)),o.a.createElement("div",{className:2===p?"word-tab selected":"word-tab",onClick:g},f("rhymes",n))),o.a.createElement("div",{className:"word-body"},o.a.createElement("div",{className:0===p?"tab-content selected":"tab-content"},o.a.createElement(W,{startingWord:t})),o.a.createElement("div",{className:1===p?"tab-content selected":"tab-content"},o.a.createElement(U,{startingWord:t})),o.a.createElement("div",{className:2===p?"tab-content selected":"tab-content"},o.a.createElement(F,{startingWord:t})))))}var K=n(679),J=n(30),Z=n(671),$=n(672),Q=n(673),ee=n(684),te=n(685),ne=n(117),ae=n(678),oe=n(683);function ie(e){e.name;var t=e.value,n=e.onChange,i=e.max,r=void 0===i?1:i,s=Object(l.d)((function(e){return e.selectedLanguage})),u=Object(a.useState)([]),d=Object(c.a)(u,2),p=d[0],m=d[1],g=Object(a.useState)(!1),E=Object(c.a)(g,2),h=E[0],b=E[1],A=Object(a.useState)(null),_=Object(c.a)(A,2),w=_[0],v=_[1],T=Object(a.useRef)(!1);Object(a.useEffect)((function(){if(t&&!T.current&&(T.current=!0,!t.isFile)){var e=[];Array.isArray(t)?t.forEach((function(t,n){return e.push({uid:n,url:"".concat(window.global.base_path).concat(t)})})):e.push({uid:1,url:"".concat(window.global.base_path).concat(t)}),m(e)}}),[t]);var S=function(){var e=Object(L.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,I(t.originFileObj);case 3:t.preview=e.sent;case 4:v(t.url||t.preview),b(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},C=o.a.createElement("div",null,o.a.createElement(oe.a,null),o.a.createElement("div",{className:"ant-upload-text"},f("uploadImage",s)));return o.a.createElement("div",{className:"ant-upload-container"},o.a.createElement(ae.a,{fileList:p,multiple:!0,onChange:function(e){e.file;var t=e.fileList;m(t),n&&n(t.length>0?{isFile:!0,fileList:t}:"")},onPreview:S,customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},listType:"picture-card"},!p||p.length<r?C:null),o.a.createElement(K.a,{visible:h,footer:null,onCancel:function(){b(!1)}},o.a.createElement("img",{alt:"example",style:{width:"100%"},src:w})))}n(647);function re(e){var t=e.isOpened,n=e.closeGallery,i=e.type,r=Object(l.d)((function(e){return e.selectedLanguage})),s=[{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/forest.png"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/sky.png"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/anchor-156720_960_720.png",_id:"156720_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/astronaut-background-cartoon-cosmonaut.jpg",_id:"cosmonaut"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/astronaut-cartoon-earth-exploration.jpg",_id:"exploration"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/atmosphere-vehicle-space-circle-outer-space-earth-1405991-pxhere.com.png",_id:"1405991"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/beach-4496830_960_720.png",_id:"4496830_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/cartoon-background-nature.jpg",_id:"nature"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/cartoon-livingroom.png",_id:"livingroom"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/cartoon-nature-lake.jpg",_id:"lake"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/cartoon-nature_2.jpg",_id:"nature_2"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/country-32248_960_720.png",_id:"32248_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/forest.jpg",_id:"forestforest"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/globe-308991_960_720.png",_id:"308991_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/kitchen-294596_960_720.png",_id:"294596_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/mare-molo.jpg",_id:"mare-molo"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/nature.jpg",_id:"naturecccc"}],u=[{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/nature-2679131_1280.jpg",_id:"2679131_1280"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/nature-2829157_1280.png",_id:"2829157_1280"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/nature-4407819_960_720.png",_id:"4407819_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/night-rocket-sky-astronomy-blue-bright-1574183-pxhere.com.jpg",_id:"1574183"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/ocean-background-4090017_960_720.jpg",_id:"4090017_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/playground-2108649_960_720.png",_id:"2108649_960_720"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/seascape-backdrop.jpg",_id:"seascape-backdrop."},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/sunset.JPG",_id:"sunset"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/the-house-in-the-field.jpg",_id:"house-in-the-fie"},{path:window.STATIC.IMAGE_BASE_PATH+"backgrounds/tree-sky-air-balloon-hot-air-balloon-wind-1210393-pxhere.com.jpg",_id:"1210393"}],d=[{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/001-centaur.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/002-kraken.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/003-dinosaur.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/004-tree-1.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/005-hand.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/006-echidna.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/007-robot.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/008-mushroom.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/009-harpy.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/010-phoenix.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/011-dragon-1.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/012-devil.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/013-troll.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/014-alien.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/015-minotaur.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/016-madre-monte.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/017-satyr.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/018-karakasakozou.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/019-pirate.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/020-werewolf.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/021-scarecrow.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/022-valkyrie.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/023-curupira.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/024-loch-ness-monster.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/025-tree.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/026-cerberus.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/027-gryphon.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/028-mermaid.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/029-vampire.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/030-goblin.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/031-yeti.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/032-leprechaun.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/033-medusa.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/034-chimera.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/035-elf.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/036-hydra.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/037-cyclops.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/038-pegasus.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/039-narwhal.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/040-woodcutter.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/041-zombie.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/042-dragon.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/043-frankenstein.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/044-witch.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/045-fairy.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/046-genie.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/047-pinocchio.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/048-ghost.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/049-wizard.png"},{path:window.STATIC.IMAGE_BASE_PATH+"fantastic-characters/050-unicorn.png"}],p=[{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/001-octopus.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/002-crab.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/003-oyster.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/004-dolphin.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/005-starfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/006-flounder.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/007-shark.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/008-whale.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/009-fish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/010-swordfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/011-turtle.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/012-jellyfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/013-seahorse.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/014-puffer-fish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/015-sea-cow.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/016-orca.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/017-squid.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/018-coral.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/019-manta-ray.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/020-lobster.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/021-clam.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/022-seaweed.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/023-tuna.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/024-stingray.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/025-seal.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/026-eel.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/027-seagull.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/028-shrimp.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/029-anglerfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/030-beluga.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/031-walrus.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/032-narwhal.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/033-diver.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/034-penguin.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/035-hammerhead-fish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/036-hermit-crab.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/037-clownfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/038-surgeon-fish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/039-angelfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/040-sunfish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/041-sea-anemone.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/042-coral-1.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/043-fish-1.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/044-fish-2.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/045-cod.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/046-cuttlefish.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/047-nautilus.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/048-puffin.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/049-mussel.png"},{path:window.STATIC.IMAGE_BASE_PATH+"sea-life/050-sea-urchin.png"}],m=Object(a.useState)([]),g=Object(c.a)(m,2),E=g[0],h=g[1],b=Object(a.useState)([]),A=Object(c.a)(b,2),_=A[0],w=A[1],T=Object(a.useState)("#fafafa"),S=Object(c.a)(T,2),I=S[0],C=S[1],y=Object(a.useState)({}),O=Object(c.a)(y,2),k=O[0],x=O[1];Object(a.useEffect)((function(){if(i){var e=[];if(window.RESOURCES&&window.RESOURCES.IMAGES)for(var t=0;t<window.RESOURCES.IMAGES.length;t++)window.RESOURCES.IMAGES[t].type===i&&e.push(window.RESOURCES.IMAGES[t]);E[0]=e,"background"===i?(E[1]=s,E[2]=u):"image"===i&&(E[1]=d,E[2]=p),h(E),w(e.length?E[0]:E[1])}}),[i]);var j=function(){return E[0]&&E[0].length},B=v.a.Option,P=function(e){return k._id?k._id===e:k.path===e},H=function(e){x(e)};return o.a.createElement(K.a,{title:f("image"===i?"selectImage":"selectBackground",r),visible:t,width:"60vw",bodyStyle:{maxHeight:"60vh",overflowX:"auto",backgroundColor:"transparent",padding:8},onOk:function(){return n(k,I,i)},onCancel:function(){return n({_id:"@close"})},footer:[o.a.createElement(v.a,{key:"select",defaultValue:j()?"0":"1",onChange:function(e){w(E[e])}},function(){var e=[];return j()&&e.push(o.a.createElement(B,{key:0,value:"0"},f("optionUploads",r))),"background"===i?(e.push(o.a.createElement(B,{key:1,value:"1"},f("optionBG1",r))),e.push(o.a.createElement(B,{key:2,value:"2"},f("optionBG2",r)))):"image"===i&&(e.push(o.a.createElement(B,{key:1,value:"1"},f("fantasticCharacters",r))),e.push(o.a.createElement(B,{key:2,value:"2"},f("seaLife",r)))),e}()),o.a.createElement(J.a,{key:"cancel",onClick:function(){return n({_id:"@close"})}},f("buttonCancel",r)),o.a.createElement(J.a,{key:"ok",type:"primary",onClick:function(){return n(k,I,i)}},f("buttonOk",r))]},o.a.createElement(Z.a,{className:"ant-image-grid",gutter:[8,8]},o.a.createElement($.a,{key:"@upload",span:8},o.a.createElement("div",{className:"upload"+(P("@upload")?" selected":""),onClick:function(){return H({_id:"@upload"})}},o.a.createElement(ie,{max:1}),o.a.createElement(ee.a,{className:"check"}))),"background"===i?o.a.createElement($.a,{key:"@color",span:8},o.a.createElement(Q.a,{content:o.a.createElement(ne.SketchPicker,{color:I,onChangeComplete:function(e){C("rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")")}}),trigger:"click"},o.a.createElement("div",{className:"select-color"+(P("@color")?" selected":""),onClick:function(){return H({_id:"@color"})},style:{backgroundColor:I}},o.a.createElement("div",{className:"select-color-label"},o.a.createElement(te.a,null),o.a.createElement("div",null,f("selectColor",r))),o.a.createElement(ee.a,{className:"check"})))):"",_.map((function(e,t){return o.a.createElement($.a,{key:t,span:8},o.a.createElement("div",{className:"img-preview"+(P(e._id||e.path)?" selected":""),style:{backgroundImage:"url("+e.path+")"},onClick:function(){return H(e)}},e.name?o.a.createElement("div",{className:"name"},e.name):"",o.a.createElement(ee.a,{className:"check"})))}))))}n(648),n(649);var ce=function(e){return{type:"SET_SLIDES_DATA",payload:e}};function le(){var e=Object(l.d)((function(e){return e.selectedLanguage})),t=Object(l.c)(),n=Object(l.d)((function(e){return e.slidesData})),i=Object(l.d)((function(e){return e.selectedSlide})),r=Object(l.d)((function(e){return e.selectedComponent})),d=Object(a.useState)(null),p=Object(c.a)(d,2),m=p[0],g=p[1],E=Object(a.useState)([]),b=Object(c.a)(E,2),A=b[0],_=b[1],w=Object(a.useRef)(null),v=Object(a.useState)(!1),T=Object(c.a)(v,2),S=T[0],I=T[1],C=Object(a.useState)(!1),y=Object(c.a)(C,2),O=y[0],k=y[1],x=Object(a.useState)(0),j=Object(c.a)(x,2),B=j[0],H=j[1];Object(a.useEffect)((function(){i&&g(i.index)}),[i]),Object(a.useEffect)((function(){}),[r]);var G=function(){var e=Object(L.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open(window.STATIC.SITE_URL+"storylet-viewer/"+window.STORY.DATA.id,"_blank");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(L.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_([w.current.state.value]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(a){var o=h()(n),i={index:o[m].components.length,type:"text",subType:"balloon",value:f(a?"newSpeech":"newText",e),x:0,y:0,w:40,h:20,scale:[1,1],rotate:0,keepRatio:!1,zIndex:1,fontSize:24,color:"#000000",fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',balloon:a?"balloon speech":"",placement:"BL"};o[m].components.push(i),Object(l.b)((function(){t(ce(o)),t(M(o[m])),t(P(i))}))},V=function(e){k(e),I(!0)},W=function(e,t){for(var n=t;n<e.length;n++)e[n].index+=1};Object(a.useEffect)((function(){return document.removeEventListener("keydown",Y),document.addEventListener("keydown",Y),function(){document.removeEventListener("keydown",Y)}}),[B]),Object(a.useEffect)((function(){if(n&&0!==n.length&&0!==r){var e=h()(n),t=h()(window.HISTORY.DATA);window.HISTORY.DATA=t.slice(0,B+1),window.HISTORY.DATA.push({slidesData:e,slideIdx:m||e[0].index}),window.HISTORY.DATA.length>6&&window.HISTORY.DATA.shift(),H(window.HISTORY.DATA.length-1)}}),[n]);var Y=function(e){var n=e.which||e.keyCode,a=e.ctrlKey?e.ctrlKey:17===n;if("@undo"===e||90===n&&a){if(0===B)return;var o=h()(window.HISTORY.DATA[B-1]);H((function(e){return e-1})),Object(l.b)((function(){t(ce(o.slidesData)),t(M(o.slidesData[o.slideIdx])),t(P(0))}))}else if("@redo"===e||89===n&&a){if(B===window.HISTORY.DATA.length-1)return;var i=h()(window.HISTORY.DATA[B+1]);H((function(e){return e+1})),Object(l.b)((function(){t(ce(i.slidesData)),t(M(i.slidesData[i.slideIdx])),t(P(0))}))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"menu-container"},o.a.createElement("div",{className:"component-buttons-container"},o.a.createElement("div",{"data-tooltip":f("addText",e)},o.a.createElement(s.a,{icon:u.e,className:"icon add-text",onClick:function(){D(!1)}})),o.a.createElement("div",{"data-tooltip":f("addBalloon",e)},o.a.createElement(s.a,{icon:X.a,className:"icon add-balloon",onClick:function(){D(!0)}})),o.a.createElement("div",{"data-tooltip":f("addImage",e)},o.a.createElement(s.a,{icon:X.b,className:"icon add-image",onClick:function(){return V("image")}})),o.a.createElement("div",{"data-tooltip":f("addBackground",e)},o.a.createElement(s.a,{icon:X.c,className:"icon add-bg",onClick:function(){return V("background")}})),o.a.createElement("div",{className:"menu-separator"}," "),o.a.createElement("div",{"data-tooltip":f("undo",e)},o.a.createElement(s.a,{icon:u.l,className:"icon undo",onClick:function(){return Y("@undo")}})),o.a.createElement("div",{"data-tooltip":f("redo",e)},o.a.createElement(s.a,{icon:u.i,className:"icon undo",onClick:function(){return Y("@redo")}})),o.a.createElement("div",{className:"menu-separator"}," "),o.a.createElement("div",{"data-tooltip":f("playStoryPreview",e)},o.a.createElement(s.a,{icon:u.g,className:"icon open-preview",onClick:G}))),o.a.createElement("div",{className:"slide-buttons-container"},o.a.createElement("div",{"data-tooltip":f("moveUpSlide",e)},o.a.createElement(s.a,{icon:u.b,className:"icon move-up-slide",onClick:function(){var e=h()(n);if(0!==m){e[m].index-=1,e[m-1].index+=1;var a=e[m];e[m]=e[m-1],e[m-1]=a;var o=m-1;Object(l.b)((function(){t(ce(e)),t(M(e[o])),t(P(null))}))}}})),o.a.createElement("div",{"data-tooltip":f("moveDownSlide",e)},o.a.createElement(s.a,{icon:u.a,className:"icon move-down-slide",onClick:function(){var e=h()(n);if(m!==e.length-1){e[m].index+=1,e[m+1].index-=1;var a=e[m];e[m]=e[m+1],e[m+1]=a;var o=m+1;Object(l.b)((function(){t(ce(e)),t(M(e[o])),t(P(null))}))}}})),o.a.createElement("div",{"data-tooltip":f("removeSlide",e)},o.a.createElement(s.a,{icon:u.k,className:"icon remove-slide",onClick:function(){var e=h()(n);if(1!==e.length){e.splice(m,1);for(var a=0;a<e.length;a++)e[a].index=a;var o=0===m?0:m-1;Object(l.b)((function(){t(ce(e)),t(M(e[o])),t(P(null))}))}else alert("Impossibile eliminare la scena")}})),o.a.createElement("div",{"data-tooltip":f("duplicateSlide",e)},o.a.createElement(s.a,{icon:u.d,className:"icon duplicate-slide",onClick:function(){var e=h()(n),a=h()(e[m]);a.id=Math.random().toString(36).substr(2,8).toUpperCase(),W(e,m),e.splice(m,0,a),Object(l.b)((function(){t(ce(e)),t(M(e[m+1])),t(P(null))}))}})),o.a.createElement("div",{"data-tooltip":f("addSlide",e)},o.a.createElement(s.a,{icon:u.h,className:"icon add-slide",onClick:function(){var e=h()(n),a={id:Math.random().toString(36).substr(2,8).toUpperCase(),index:e.length,background:"",components:[],type:""};null!==m?(a.index=m+1,W(e,m+1),e.splice(m+1,0,a)):e.push(a),Object(l.b)((function(){t(ce(e)),t(M(e[m+1])),t(P(null))}))}}))),o.a.createElement("div",{className:"find-ideas"},o.a.createElement("div",{"data-tooltip":f("fantasyHelper",e)},o.a.createElement(s.a,{icon:X.d,className:"icon",onClick:N})),o.a.createElement(z.a,{placeholder:f("keyword",e),id:"SearchKey",ref:w,onKeyPress:function(e){"Enter"===e.key&&N()}}))),o.a.createElement(q,{startingWord:A}),o.a.createElement(re,{isOpened:S,type:O,closeGallery:function(e,a,o){if("@close"===e._id)I(!1);else if("@color"===e._id){var i=h()(n);i[m].background=void 0,i[m].backgroundColor=a,Object(l.b)((function(){t(ce(i)),t(M(i[m]))})),I(!1)}else if("@upload"===e._id)alert("Aloha Andrea!");else if("background"===o){var r=h()(n);r[m].background=e.path,Object(l.b)((function(){t(ce(r)),t(M(r[m]))})),I(!1)}else if("image"===o){var c=h()(n),s={index:c[m].components.length,type:"image",x:0,y:0,w:40,h:40,scale:[1,1],rotate:0,keepRatio:!0,zIndex:0,src:e.path};c[m].components.push(s),Object(l.b)((function(){t(ce(c)),t(M(c[m])),t(P(s))})),I(!1)}}}))}n(652);function se(e){var t=e.isSettingVisible,n=Object(l.c)(),i=Object(l.d)((function(e){return e.selectedSlide})),r=Object(l.d)((function(e){return e.copiedComponent})),c=Object(l.d)((function(e){return e.slidesData}));Object(a.useEffect)((function(){if(document.removeEventListener("keydown",s),r&&i)return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[i,r]);var s=function(e){var t=e.which||e.keyCode,a=e.ctrlKey?e.ctrlKey:17===t;if(86===t&&a){var o=h()(c),s=h()(r);s.index=i.components.length,o[i.index].components.push(s),Object(l.b)((function(){n(ce(o)),n(M(o[i.index])),n(P(s))}))}};return o.a.createElement("div",{id:"stage-container"},o.a.createElement(le,null),o.a.createElement("div",{id:"slide-wrapper",onClick:function(e){("slide-wrapper"===e.target.id||e.target.id.indexOf("slide_")>-1)&&n(P(null))}},i?o.a.createElement(H,{isSettingVisible:t,parameters:i,isEditable:!0}):null))}var ue=n(677),de=n(674),pe=n(682),me=n(74),fe=n(686),ge=n(687),Ee=n(688),he=n(689),be=n(690),Ae=n(691),_e=n(692),we=n(693),ve=n(694),Te=n(695),Se=n(696),Ie=n(697),Ce=(n(653),function(e){return{type:"COPY_COMPONENT",payload:e}});function ye(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.selectedLanguage})),n=Object(l.d)((function(e){return e.slidesData})),i=Object(l.d)((function(e){return e.selectedSlide})),r=Object(l.d)((function(e){return e.selectedComponent})),s=Object(a.useState)({startIndex:0,length:0}),u=Object(c.a)(s,2),d=u[0],p=u[1],m=ue.a.useForm(),g=Object(c.a)(m,1)[0],E=window.screen.width<=1280?"small":"middle ",b=window.screen.width<=1280?4:0;Object(a.useEffect)((function(){if(n&&i&&r){var e=n[i.index].components[r.index];A(e)}}),[n]),Object(a.useEffect)((function(){if(document.removeEventListener("keydown",_),document.removeEventListener("keydown",w),r)return A(r),document.addEventListener("keydown",_),document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",_),document.removeEventListener("keydown",w)}}),[r]);var A=function(e){g.setFieldsValue({width:Math.round(10*e.w)/10,height:Math.round(10*e.h)/10,keepRatio:r.keepRatio,top:Math.round(10*e.x)/10,left:Math.round(10*e.y)/10,zIndex:e.zIndex,scaleX:Math.round(10*e.scale[0])/10,scaleY:Math.round(10*e.scale[1])/10,rotate:Math.round(10*e.rotate)/10,textValue:e.value?e.value.replace(/<\/?[^>]+(>|$)/g,""):null,fontFamily:r.fontFamily,fontSize:r.fontSize,color:r.color,fontWeight:r.fontWeight,fontStyle:r.fontStyle,textDecoration:r.textDecoration,textAlign:r.textAlign,backgroundColor:r.backgroundColor,balloon:r.balloon,placement:r.placement})},_=function(t){if(r){var n=t.which||t.keyCode,a=t.ctrlKey?t.ctrlKey:17===n;if(67===n&&a){var o=h()(r);o.index=null,o.x=0,o.y=0,e(Ce(o))}}},w=function(e){46===e.keyCode&&"BODY"===document.activeElement.tagName&&T()},T=function(){var t=h()(n);t[i.index].components.splice(r.index,1);for(var a=0;a<t[i.index].components.length;a++)t[i.index].components[a].index=a;var o=h()(i);o.components.splice(r.index,1);for(var c=0;c<o.components.length;c++)o.components[c].index=c;Object(l.b)((function(){e(ce(t)),e(M(o)),e(P(null))}))},S=function(t,a){var o=i.index,c=r.index,s=h()(n);if(d.length>0){var u=s[o].components[c].value;"fontWeight"===t?s[o].components[c].value=I(u,"font-weight:bold;"):"fontStyle"===t?s[o].components[c].value=I(u,"font-style:italic;"):"textDecoration"===t&&(s[o].components[c].value=I(u,"text-decoration:underline;"))}else"fontWeight"===t?void 0===r.fontWeight||"normal"===r.fontWeight?s[o].components[c].fontWeight="bold":s[o].components[c].fontWeight="normal":"fontStyle"===t?void 0===r.fontStyle||"normal"===r.fontStyle?s[o].components[c].fontStyle="italic":s[o].components[c].fontStyle="normal":"textDecoration"===t?void 0===r.textDecoration||"none"===r.textDecoration?s[o].components[c].textDecoration="underline":s[o].components[c].textDecoration="none":"textAlign"===t?s[o].components[c].textAlign=a:"clear"===t&&(s[o].components[c].value=s[o].components[c].value.replace(/<\/?[^>]+(>|$)/g,""),s[o].components[c].fontFamily='"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',s[o].components[c].fontSize=24,s[o].components[c].color=void 0,s[o].components[c].backgroundColor=void 0,s[o].components[c].fontWeight=void 0,s[o].components[c].fontStyle=void 0,s[o].components[c].textDecoration=void 0,s[o].components[c].textAlign=void 0);Object(l.b)((function(){e(ce(s)),e(M(s[o])),e(P(s[o].components[c]))}))},I=function(e,t){var n=e.replace(/<\/?[^>]+(>|$)/g,"");return n.substr(0,d.startIndex)+"<span style='"+t+"'>"+n.substr(d.startIndex,d.length)+"</span>"+n.substr(d.startIndex+d.length,n.length)},C=function(e){var t,a=n[i.index].components[r.index].scale;t="H"===e?{scaleX:-a[0],scaleY:a[1]}:{scaleX:a[0],scaleY:-a[1]},g.setFieldsValue(t),y(t,t)},y=function(t,a){var o=!1,c=i.index,s=r.index,u=h()(n);if(void 0!==t.width&&!isNaN(t.width)&&t.width>=5&&t.width<=100){if(r.keepRatio){var p=t.width/u[c].components[s].w;u[c].components[s].w=t.width,u[c].components[s].h*=p}else u[c].components[s].w=t.width;o=!0}else if(void 0!==t.height&&!isNaN(t.height)&&t.height>=5&&t.height<=100){if(r.keepRatio){var m=t.height/u[c].components[s].h;u[c].components[s].h=t.height,u[c].components[s].w*=m}else u[c].components[s].h=t.height;o=!0}else void 0!==t.top&&!isNaN(t.top)&&t.top>=0&&t.top<=100?(u[c].components[s].x=t.top,o=!0):void 0!==t.left&&!isNaN(t.left)&&t.left>=0&&t.left<=100?(u[c].components[s].y=t.left,o=!0):void 0!==t.zIndex&&!isNaN(t.zIndex)&&t.zIndex>=0&&t.zIndex<=10?(u[c].components[s].zIndex=t.zIndex,o=!0):void 0!==t.scaleX&&!isNaN(t.scaleX)&&(t.scaleX>=-2&&t.scaleX<=-.5||t.scaleX<=2&&t.scaleX>=.5)?(u[c].components[s].scale=[t.scaleX,a.scaleY],o=!0):void 0!==t.scaleY&&!isNaN(t.scaleY)&&(t.scaleY>=-2&&t.scaleY<=-.5||t.scaleY<=2&&t.scaleY>=.5)?(u[c].components[s].scale=[a.scaleX,t.scaleY],o=!0):void 0!==t.rotate&&!isNaN(t.rotate)&&t.rotate>=-180||t.rotate<=180?(u[c].components[s].rotate=t.rotate,o=!0):void 0!==t.keepRatio&&"boolean"===typeof t.keepRatio?(u[c].components[s].keepRatio=t.keepRatio,o=!0):void 0!==t.textValue?(u[c].components[s].value=t.textValue,o=!0):void 0!==t.fontFamily?(u[c].components[s].fontFamily=t.fontFamily,o=!0):void 0!==t.fontSize?(u[c].components[s].fontSize=t.fontSize,o=!0):void 0!==t.color?(d.length>0?u[c].components[s].value=I(u[c].components[s].value,"color:rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.color.rgb.a+")"):u[c].components[s].color="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.color.rgb.a+")",o=!0):void 0!==t.backgroundColor?(d.length>0?u[c].components[s].value=I(u[c].components[s].value,"background-color:rgba("+t.backgroundColor.rgb.r+","+t.backgroundColor.rgb.g+","+t.backgroundColor.rgb.b+","+t.backgroundColor.rgb.a+")"):u[c].components[s].backgroundColor="rgba("+t.backgroundColor.rgb.r+","+t.backgroundColor.rgb.g+","+t.backgroundColor.rgb.b+","+t.backgroundColor.rgb.a+")",o=!0):void 0!==t.balloon?(u[c].components[s].balloon=t.balloon,o=!0):void 0!==t.placement&&(u[c].components[s].placement=t.placement,o=!0);o&&Object(l.b)((function(){e(ce(u)),e(M(u[c])),e(P(u[c].components[s]))}))};return o.a.createElement(ue.a,{form:g,onValuesChange:y},"text"===r.type?o.a.createElement(o.a.Fragment,null,"balloon"===r.subType?o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("balloon",t)),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{labelCol:{span:8},wrapperCol:{span:14},name:"balloon",label:f("balloonType",t)},o.a.createElement(v.a,{defaultValue:"balloon speech",size:E},o.a.createElement(v.a.Option,{value:"balloon speech"},f("speechOpt",t)),o.a.createElement(v.a.Option,{value:"balloon thought"},f("thoughtOpt",t))))),o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{labelCol:{span:8},wrapperCol:{span:14},name:"placement",label:f("balloonPlacement",t)},o.a.createElement(v.a,{size:E,defaultValue:"BL"},o.a.createElement(v.a.Option,{value:"BL"},f("BL",t)),o.a.createElement(v.a.Option,{value:"BR"},f("BR",t)),o.a.createElement(v.a.Option,{value:"TL"},f("TL",t)),o.a.createElement(v.a.Option,{value:"TR"},f("TR",t))))))):o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("text",t)),o.a.createElement(Z.a,{className:"text-properties"},o.a.createElement($.a,{span:24},o.a.createElement(J.a,{icon:o.a.createElement(fe.a,null),size:E,onClick:function(){S("fontWeight")}}),o.a.createElement(J.a,{icon:o.a.createElement(ge.a,null),size:E,onClick:function(){S("fontStyle")}}),o.a.createElement(J.a,{icon:o.a.createElement(Ee.a,null),size:E,onClick:function(){S("textDecoration")}}),o.a.createElement(Q.a,{content:o.a.createElement(ue.a.Item,{name:"color"},o.a.createElement(ne.SketchPicker,{color:r.color})),trigger:"click"},o.a.createElement(J.a,{icon:o.a.createElement(he.a,null),size:E})),o.a.createElement(J.a,{icon:o.a.createElement(be.a,null),size:E,onClick:function(){S("clear")}}),o.a.createElement("div",{className:"h-divider"}," "),"balloon"===r.subType?o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,{icon:o.a.createElement(Ae.a,null),size:E,onClick:function(){S("textAlign","left")}}),o.a.createElement(J.a,{icon:o.a.createElement(_e.a,null),size:E,onClick:function(){S("textAlign","center")}}),o.a.createElement(J.a,{icon:o.a.createElement(we.a,null),size:E,onClick:function(){S("textAlign","right")}})):null,o.a.createElement(Q.a,{content:o.a.createElement(ue.a.Item,{name:"backgroundColor"},o.a.createElement(ne.SketchPicker,{color:r.backgroundColor})),trigger:"click"},o.a.createElement(J.a,{icon:o.a.createElement(te.a,null),size:E})))),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:24},o.a.createElement(ue.a.Item,{name:"textValue"},o.a.createElement(z.a.TextArea,{rows:4,onBlur:function(e){p({startIndex:e.target.selectionStart,length:window.getSelection().toString().length})}})))),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:18},o.a.createElement(ue.a.Item,{name:"fontFamily"},o.a.createElement(v.a,{style:{width:"90%"},defaultValue:0,size:E},o.a.createElement(v.a.Option,{value:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif'},'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif'),o.a.createElement(v.a.Option,{value:"Georgia, serif"},"Georgia, serif"),o.a.createElement(v.a.Option,{value:'"Palatino Linotype", "Book Antiqua", Palatino, serif'},'"Palatino Linotype", "Book Antiqua", Palatino, serif'),o.a.createElement(v.a.Option,{value:'"Times New Roman", Times, serif'},'"Times New Roman", Times, serif'),o.a.createElement(v.a.Option,{value:"Arial, Helvetica, sans-serif"},"Arial, Helvetica, sans-serif"),o.a.createElement(v.a.Option,{value:'"Arial Black", Gadget, sans-serif'},'"Arial Black", Gadget, sans-serif'),o.a.createElement(v.a.Option,{value:'"Comic Sans MS", cursive, sans-serif'},'"Comic Sans MS", cursive, sans-serif'),o.a.createElement(v.a.Option,{value:"Impact, Charcoal, sans-serif"},"Impact, Charcoal, sans-serif"),o.a.createElement(v.a.Option,{value:'"Lucida Sans Unicode", "Lucida Grande", sans-serif'},'"Lucida Sans Unicode", "Lucida Grande", sans-serif'),o.a.createElement(v.a.Option,{value:"Tahoma, Geneva, sans-serif"},"Tahoma, Geneva, sans-serif"),o.a.createElement(v.a.Option,{value:'"Trebuchet MS", Helvetica, sans-serif'},'"Trebuchet MS", Helvetica, sans-serif'),o.a.createElement(v.a.Option,{value:"Verdana, Geneva, sans-serif"},"Verdana, Geneva, sans-serif"),o.a.createElement(v.a.Option,{value:'"Courier New", Courier, monospace'},'"Courier New", Courier, monospace'),o.a.createElement(v.a.Option,{value:'"Lucida Console", Monaco, monospace'},'"Lucida Console", Monaco, monospace')))),o.a.createElement($.a,{span:6},o.a.createElement(ue.a.Item,{name:"fontSize"},o.a.createElement(v.a,{style:{width:"100%"},defaultValue:16,size:E},o.a.createElement(v.a.Option,{value:8},"8"),o.a.createElement(v.a.Option,{value:9},"9"),o.a.createElement(v.a.Option,{value:10},"10"),o.a.createElement(v.a.Option,{value:11},"11"),o.a.createElement(v.a.Option,{value:12},"12"),o.a.createElement(v.a.Option,{value:14},"14"),o.a.createElement(v.a.Option,{value:16},"16"),o.a.createElement(v.a.Option,{value:18},"18"),o.a.createElement(v.a.Option,{value:24},"24"),o.a.createElement(v.a.Option,{value:30},"30"),o.a.createElement(v.a.Option,{value:36},"36"),o.a.createElement(v.a.Option,{value:48},"48"),o.a.createElement(v.a.Option,{value:60},"60"),o.a.createElement(v.a.Option,{value:72},"72")))))):null,o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("size",t)),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{name:"width",label:f("width",t)},o.a.createElement(pe.a,{min:5,max:100,defaultValue:20,size:E}))),o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{label:f("height",t)},o.a.createElement(z.a.Group,{compact:!0},o.a.createElement(ue.a.Item,{name:"height"},o.a.createElement(pe.a,{min:5,max:100,defaultValue:20,size:E})),o.a.createElement(me.a,{title:f("keepRatio",t)},o.a.createElement(J.a,{style:{top:b},type:"primary",icon:r.keepRatio?o.a.createElement(ve.a,null):o.a.createElement(Te.a,null),size:E,onClick:function(){var e={keepRatio:!n[i.index].components[r.index].keepRatio};y(e,e)}})))))),o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("position",t)),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{name:"top",label:f("top",t)},o.a.createElement(pe.a,{min:0,max:100,defaultValue:0,size:E}))),o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{name:"left",label:f("left",t)},o.a.createElement(pe.a,{min:0,max:100,defaultValue:0,size:E})))),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:24},o.a.createElement(ue.a.Item,{label:f("zIndex",t)},o.a.createElement(z.a.Group,{compact:!0},o.a.createElement(ue.a.Item,{name:"zIndex"},o.a.createElement(pe.a,{min:0,max:10,defaultValue:0,size:E})),o.a.createElement(me.a,{title:f("bringsUp",t)},o.a.createElement(J.a,{style:{top:b},type:"primary",icon:o.a.createElement(Se.a,null),size:E,onClick:function(){for(var e=0,t=0;t<n[i.index].components.length;t++)e=Math.max(e,n[i.index].components[t].zIndex);var a={zIndex:e+1};g.setFieldsValue(a),y(a)}})))))),o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("scale",t)),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{label:f("scaleX",t)},o.a.createElement(z.a.Group,{compact:!0},o.a.createElement(ue.a.Item,{name:"scaleX"},o.a.createElement(pe.a,{min:-3,max:3,defaultValue:1,step:.1,size:E})),o.a.createElement(me.a,{title:f("flipH",t)},o.a.createElement(J.a,{style:{top:b},type:"primary",icon:o.a.createElement(Ie.a,null),size:E,onClick:function(){return C("H")}}))))),o.a.createElement($.a,{span:12},o.a.createElement(ue.a.Item,{label:f("scaleY",t)},o.a.createElement(z.a.Group,{compact:!0},o.a.createElement(ue.a.Item,{name:"scaleY"},o.a.createElement(pe.a,{min:-3,max:3,defaultValue:1,step:.1,size:E})),o.a.createElement(me.a,{title:f("flipV",t)},o.a.createElement(J.a,{style:{top:b},type:"primary",icon:o.a.createElement(Ie.a,{rotate:90}),size:E,onClick:function(){return C("V")}})))))),o.a.createElement(de.a,{orientation:"left",style:{marginTop:0}},f("rotate",t)),o.a.createElement(Z.a,null,o.a.createElement($.a,{span:24},o.a.createElement(ue.a.Item,{name:"rotate",label:f("degrees",t)},o.a.createElement(pe.a,{min:-180,max:180,defaultValue:0,size:E})))),o.a.createElement(de.a,{style:{margin:0}},o.a.createElement(J.a,{type:"primary",danger:!0,onClick:T},f("delete",t))))}n(657);var Oe=n(675);function ke(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.selectedLanguage})),n=Object(l.d)((function(e){return e.storylet})),i=Object(l.d)((function(e){return e.selectedComponent})),r=Object(a.useState)(1),s=Object(c.a)(r,2),u=s[0],d=s[1],p=Object(a.useState)(!1),m=Object(c.a)(p,2),g=m[0],E=m[1],b=Object(a.useState)("linear"),_=Object(c.a)(b,2),T=_[0],S=_[1],I=Object(a.useState)(""),C=Object(c.a)(I,2),y=C[0],O=C[1],k=Object(Oe.a)((function(e){N(e)}),1e3),x=Object(c.a)(k,1)[0],j=Object(a.useState)(""),B=Object(c.a)(j,2),P=B[0],H=B[1],M=Object(Oe.a)((function(e){R(e)}),1e3),G=Object(c.a)(M,1)[0];Object(a.useEffect)((function(){n&&(n.name&&O(n.name),n.description&&H(n.description),n.viewer&&n.viewer.autoplay&&E(n.viewer.autoplay),n.viewer&&n.viewer.template&&S(n.viewer.template))}),[n]),Object(a.useEffect)((function(){i&&d(0)}),[i]);var N=function(t){var a=h()(n);a.name=t,O(t),Object(l.b)((function(){e(A(a))}))},R=function(t){var a=h()(n);a.description=t,H(t),Object(l.b)((function(){e(A(a))}))};function L(e){d(e._targetInst.index)}return o.a.createElement("div",{className:"properties-container noselect"},o.a.createElement("div",{className:"tabs"},o.a.createElement("div",{className:0===u?"tab selected":"tab",onClick:L},f("component",t)),o.a.createElement("div",{className:1===u?"tab selected":"tab",onClick:L},f("slide",t))),o.a.createElement("div",{className:0===u?"properties col-md-12 show":"properties col-md-12"},function(){if(!i)return null;switch(i.type){case"text":case"image":return o.a.createElement(ye,null)}return null}()),o.a.createElement("div",{className:(1===u?"properties col-md-12 show":"properties col-md-12")+" slide"},o.a.createElement("div",{className:"property-row"},o.a.createElement("label",{className:"template-label"},f("title",t))),o.a.createElement(z.a,{defaultValue:y,onChange:function(e){return x(e)}}),o.a.createElement("div",{className:"property-row"},o.a.createElement("label",{className:"template-label"},f("description",t))),o.a.createElement(z.a.TextArea,{defaultValue:P,onChange:function(e){return G(e)}}),o.a.createElement("div",{className:"property-row"},o.a.createElement("label",{className:"template-label"},f("template",t))),o.a.createElement(v.a,{style:{width:"100%"},value:T,onChange:function(t){var a=h()(n);a.viewer.template=t,Object(l.b)((function(){e(A(a))})),S(t)}},o.a.createElement(v.a.Option,{value:"linear"},f("linear",t)),o.a.createElement(v.a.Option,{value:"snail"},f("snail",t)),o.a.createElement(v.a.Option,{value:"cube"},f("cube",t))),o.a.createElement("div",{className:"property-row"},o.a.createElement("label",{className:"template-label"},f("autoplay",t)),o.a.createElement(w.a,{style:{marginLeft:8},checked:g,size:"small",onChange:function(){var t=h()(n);t.viewer.autoplay=!g,Object(l.b)((function(){e(A(t))})),E(!g)}}))))}n(658);function xe(e){var t=e.isSettingVisible;return o.a.createElement("div",{className:"body-container "+(t?"":"hideSettings")},o.a.createElement(G,null),o.a.createElement(se,{isSettingVisible:t}),o.a.createElement(ke,null))}var je=n(318);function Be(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.slidesData})),n=Object(l.d)((function(e){return e.selectedSlide})),i=Object(l.d)((function(e){return e.selectedComponent})),r=Object(a.useState)(null),s=Object(c.a)(r,2),u=s[0],d=s[1],p=Object(a.useState)(null),m=Object(c.a)(p,2),f=m[0],g=m[1],E=Object(a.useState)(null),b=Object(c.a)(E,2),A=b[0],_=b[1],w=Object(a.useState)(null),v=Object(c.a)(w,2),T=v[0],S=v[1],I=Object(a.useState)(null),C=Object(c.a)(I,2),y=C[0],O=C[1],k=Object(a.useState)(null),x=Object(c.a)(k,2),j=x[0],B=x[1],P=Object(a.useState)(null),H=Object(c.a)(P,2),M=H[0],G=H[1],N=Object(a.useState)(null),R=Object(c.a)(N,2),L=R[0],z=R[1];function D(n,a){var o=h()(t);switch(n){case"size":o[A].components[T].w=a[0],o[A].components[T].h=a[1];break;case"position":o[A].components[T].x=a[0],o[A].components[T].y=a[1];break;case"scale":o[A].components[T].scale=a;break;case"rotate":o[A].components[T].rotate=a}e(ce(o))}return Object(a.useEffect)((function(){d(null),n&&i?(_(n.index),S(i.index),O(null),B(null),G(i.scale),z(i.rotate),g(document.getElementById("slide-wrapper").children[0]),setTimeout((function(){d(document.getElementById("component-"+i.index))}),0)):(_(null),S(null))}),[t,n,i]),o.a.createElement(je.a,{target:u,draggable:!0,rotatable:!0,resizable:!0,scalable:!1,origin:!1,keepRatio:!!i&&i.keepRatio,onDrag:function(e){var t=e.target,n=e.left,a=e.top;e.beforeDelta;O([n,a]),t.style.left=n+"px",t.style.top=a+"px"},onDragEnd:function(){if(null!==y){var e=y[0]/f.offsetWidth*100,t=y[1]/f.offsetHeight*100;i.x=e,i.y=t,D("position",[e,t])}},onResize:function(e){var t=e.target,n=e.width,a=e.height;e.dist;B([n,a]),t.style.width=n+"px",t.style.height=a+"px"},onResizeEnd:function(){if(null!==j){var e=j[0]/f.offsetWidth*100,t=j[1]/f.offsetHeight*100;i.w=e,i.h=t,D("size",[e,t])}},onScale:function(e){var t=e.target,n=e.delta;G([M[0]*n[0],M[1]*n[1]]),t.style.transform="scale("+M[0]+","+M[1]+") rotate("+L+"deg)"},onScaleEnd:function(){i.scale=M,D("scale",M)},onRotate:function(e){var t=e.target,n=(e.beforeDelta,e.delta);z(L+n),t.style.transform="scale("+M[0]+","+M[1]+") rotate("+L+"deg)"},onRotateEnd:function(){i.rotate=L,D("rotate",L)},snappable:!0,bounds:{left:.25*document.documentElement.clientWidth,top:56,bottom:document.documentElement.clientHeight-8,right:.75*document.documentElement.clientWidth},verticalGuidelines:[f?.5*document.documentElement.clientWidth-f.offsetWidth/2:null,.5*document.documentElement.clientWidth,f?.5*document.documentElement.clientWidth+f.offsetWidth/2:null],horizontalGuidelines:[144,f?96+f.offsetHeight/2:null,f?144+f.offsetHeight:null],snapCenter:!0})}n(659),n(660);var Pe=function(){var e=Object(l.c)(),t=Object(a.useState)(!0),n=Object(c.a)(t,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){var t=JSON.parse(window.STORY.DATA.metadata),n=JSON.parse(window.STORY.DATA.story);e(A(t)),e(ce(n)),e(M(n[0]))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(I,{hideSettings:function(){r(!i)}}),o.a.createElement(xe,{isSettingVisible:i}),o.a.createElement(Be,null))},He=n(97),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STORYLET":return t.payload;default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SLIDES_DATA":return t.payload;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_SLIDE":return t.payload;default:return e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COMPONENT":return t.payload;default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COPY_COMPONENT":return t.payload;default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_LANGUAGE":return t.payload;default:return e}},De=Object(He.b)({storylet:Me,slidesData:Ge,selectedSlide:Ne,selectedComponent:Re,copiedComponent:Le,selectedLanguage:ze}),Ve=Object(He.c)(De,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(o.a.createElement(l.a,{store:Ve},o.a.createElement(Pe,null)),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.63491900.chunk.js.map