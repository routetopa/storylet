{"version":3,"sources":["components/info.js","components/helpers.js","reducer/actions/select-language.js","reducer/actions/set-storylet.js","components/menu.js","components/container/header-container.js","components/slide-components/text.js","components/slide-components/image.js","style/slide.js","reducer/actions/select-component.js","components/slide.js","reducer/actions/select-slide.js","components/container/slide-container.js","components/container/wordcloud-container.js","components/container/rhymebrain-container.js","components/container/babelnet-container.js","components/container/word-container.js","components/CustomFormInput/AntUpload.js","components/image-gallery.js","reducer/actions/set-slides-data.js","components/container/menu-container.js","components/container/stage-container.js","reducer/actions/copy-component.js","components/properties.js","components/container/properties-container.js","components/container/body-container.js","components/moveable/moveable-component.js","StoryletCreator.js","reducer/storylet.js","reducer/slides-data.js","reducer/selected-slide.js","reducer/selected-component.js","reducer/copied-component.js","reducer/selected-language.js","reducer/index.js","index.js"],"names":["Info","hideSettings","className","onClick","icon","faInfoCircle","translate","text","ul","ln","selectLanguage","data","type","payload","setStorylet","Menu","dispatch","useDispatch","useState","menuStatus","setMenuStatus","autosave","setAutosave","language","setLanguage","selectedLanguage","useSelector","state","slidesData","storylet","openNotificationWithIcon","notification","message","description","useEffect","languageSelected","url_string","window","location","href","URL","searchParams","get","navigator","split","indexOf","save_storylet","exit","axios","put","API_ENDPOINT","SAVE_STORYLET","storyletid","STORY","DATA","id","story","metadata","then","response","STATIC","EXIT_URL","error","console","log","faBars","checked","size","onChange","cloneDeep","batch","value","Option","placement","title","onConfirm","e","onCancel","okText","cancelText","HeaderContainer","Text","component","isEditable","balloonFontSize","fontSize","w","TextComponent","styled","div","props","y","x","h","scale","rotate","zIndex","fontFamily","color","fontWeight","fontStyle","textDecoration","textAlign","backgroundColor","balloon","index","dangerouslySetInnerHTML","__html","Image","style","top","left","width","height","transform","src","alt","SlideStyle","isSettingVisible","background","cursor","selected","selectComponent","Slide","parameters","components","map","c","idx","key","componentSelected","selectSlide","SlideContainer","selectedSlide","slide","WordcloudContainer","startingWord","colors","noun","adjective","verb","adverb","words","setWords","selectedWords","setSelectedWords","clickedWord","setClickedWord","wordAssociations","searchKey","items","i","length","push","item","weight","pos","slice","span","temp","splice","temp2","goToWordAssociations","ReactDOM","render","document","getElementById","callbacks","getWordColor","word","getWordTooltip","onWordClick","getCallback","onWordMouseOut","onWordMouseOver","callback","event","isActive","element","target","select","on","attr","options","fontSizes","rotations","rotationAngles","padding","transitionDuration","RhymebrainContainer","dataSource","setDataSource","columns","dataIndex","sorter","a","b","localeCompare","score","syllables","rowKey","BabelnetContainer","lang","record","properties","fullLemma","source","lemma","searchLang","targetLang","synsetIds","_dataSource","synsetID","getSenses","gloss","setGloss","onRow","rowIndex","currentTarget","dataset","senses","frequency","glosses","onDoubleClick","onContextMenu","onMouseEnter","onMouseLeave","WordContainer","coverContainer","useRef","selectedTab","setSelectedTab","selectTab","_targetInst","current","visibility","ref","faTimes","faLightbulb","AntUpload","name","max","_fileList","setFileList","_previewVisible","setPreviewVisible","_previewImage","setPreviewImage","runnedOnce","isFile","fl","Array","isArray","forEach","f","uid","url","global","base_path","handlePreview","file","preview","getBase64","originFileObj","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","uploadButton","PlusOutlined","fileList","multiple","onPreview","customRequest","onSuccess","setTimeout","listType","visible","footer","ImageGallery","isOpened","closeGallery","bg1","path","IMAGE_BASE_PATH","_id","bg2","fantastic_characters","sea_life","images","setImages","selectedGallery","setSelectedGallery","selectedColor","setSelectedColor","selectedImg","setSelectedImg","uploadedImg","setUploadedImg","uploads","RESOURCES","IMAGES","hasUploads","Select","isSelected","handleItemClick","bodyStyle","maxHeight","overflowX","onOk","defaultValue","getOptions","gutter","CheckOutlined","content","onChangeComplete","rgb","r","g","trigger","BgColorsOutlined","backgroundImage","setSlidesData","MenuContainer","selectedComponent","slideIdx","setSlideIdx","setStartingWord","setIsOpened","imagesType","setImagesType","undoPointer","setUndoPointer","play_story","open","SITE_URL","get_words","add_text","isBalloon","open_gallery","close_gallery","undefined","formData","FormData","imagefile","append","post","ADD_STUDENT_IMAGE","headers","resposne","update_slides_index","removeEventListener","undo_redo","addEventListener","history","HISTORY","shift","which","keyCode","ctrl","ctrlKey","data-tooltip","faFont","faComment","faFileImage","faImage","faUndo","faRedo","faPlay","faArrowAltCircleUp","tmp","goto","faArrowAltCircleDown","faTrashAlt","alert","faCopy","cloned_node","Math","random","toString","substr","toUpperCase","faPlusCircle","placeholder","onKeyPress","StageContainer","copiedComponent","add_component","copyComponent","Properties","startIndex","selectedText","setSelectedText","Form","useForm","form","screen","setProperties","copyAnPaste","canc","setFieldsValue","round","keepRatio","scaleX","scaleY","textValue","replace","activeElement","tagName","removeComponent","sd","setSlideData","setSelectSlide","setSelectComponent","setTextProperties","prop","val","componentIdx","formatSelected","str","flip","direction","changedFields","onValuesChange","allFields","_dispatch","isNaN","ratio","subType","orientation","marginTop","Item","labelCol","wrapperCol","label","BoldOutlined","ItalicOutlined","UnderlineOutlined","FontColorsOutlined","ClearOutlined","AlignLeftOutlined","AlignCenterOutlined","AlignRightOutlined","TextArea","rows","onBlur","selectionStart","getSelection","min","Group","compact","LockOutlined","UnlockOutlined","EyeOutlined","maxIndex","step","RotateRightOutlined","margin","danger","PropertiesContainer","autoplay","setAutoplay","template","setTemplate","setName","useDebouncedCallback","set_name","debouncedName","setDescription","set_description","debouncedDescription","viewer","marginLeft","BodyContainer","MoveableComponent","setTarget","setSlide","setComponentIdx","position","setPosition","setSize","setScale","setRotate","setComponentParameters","children","draggable","rotatable","resizable","scalable","origin","onDrag","beforeDelta","onDragEnd","offsetWidth","offsetHeight","onResize","dist","onResizeEnd","onScale","delta","onScaleEnd","onRotate","onRotateEnd","snappable","bounds","documentElement","clientWidth","bottom","clientHeight","right","verticalGuidelines","horizontalGuidelines","snapCenter","StoryletCreator","setIsSettingVisible","JSON","parse","action","reducers","combineReducers","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__"],"mappings":"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","file":"static/js/main.3e5faaf1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport '../style/info.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faInfoCircle} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function Info({hideSettings})\r\n{\r\n    return (\r\n        <div className=\"info\">\r\n            <FontAwesomeIcon onClick={hideSettings} icon={faInfoCircle} className=\"icon\" />\r\n        </div>\r\n    )\r\n};","export function translate (text, ul) {\r\n    if(ln[text+\"_\"+ul])\r\n        return ln[text+\"_\"+ul];\r\n    else if (ln[text+\"_en\"])\r\n        return ln[text+\"_en\"];\r\n    else\r\n        return text+\"_\"+ul;\r\n}\r\n\r\nlet ln = [];\r\n\r\n/******** IT ********/\r\n\r\n// MENU\r\nln[\"newText_it\"] = \"Nuovo testo\";\r\nln[\"newSpeech_it\"] = \"Bla bla bla...\";\r\nln[\"keyword_it\"] = \"Parola chiave\";\r\n\r\n// tooltip\r\nln[\"addText_it\"] = \"Aggiungi testo\";\r\nln[\"addBalloon_it\"] = \"Aggiungi discorso\";\r\nln[\"addBackground_it\"] = \"Aggiungi sfondo\";\r\nln[\"addImage_it\"] = \"Aggiungi immagine\";\r\nln[\"addDatalet_en\"] = \"Aggiungi datalet\";\r\nln[\"undo_it\"] = \"Annulla (Ctrl+Z)\";\r\nln[\"redo_it\"] = \"Ripeti (Ctrl+Y)\";\r\nln[\"playStoryPreview_it\"] = \"Riproduci anteprima storia\";\r\nln[\"fantasyHelper_it\"] = \"Aiuta la tua fantasia!\";\r\n\r\nln[\"moveUpSlide_it\"] = \"Sposta su scena\";\r\nln[\"moveDownSlide_it\"] = \"Sposta giù scena\";\r\nln[\"removeSlide_it\"] = \"Rimuovi scena\";\r\nln[\"duplicateSlide_it\"] = \"Duplica scena\";\r\nln[\"addSlide_it\"] = \"Aggiungi scena\";\r\n\r\n// SIDE MENU\r\nln[\"save_it\"] = \"Salva\";\r\nln[\"autosave_it\"] = \"Autosave\";\r\nln[\"language_it\"] = \"Lingua\";\r\nln[\"exit_it\"] = \"Esci\";\r\n\r\nln[\"saveBeforeExit_it\"] = \"Salva prima di uscire?\";\r\nln[\"yes_it\"] = \"Si\";\r\nln[\"no_it\"] = \"No\";\r\nln[\"saved_it\"] = \"Salvataggio riuscito!\";\r\nln[\"hasBeenSuccessfullySaved_it\"] = \"La storia è stata salvata con successo!\";\r\nln[\"error_it\"] = \"Qualcosa è andato storto :(\";\r\n\r\n// WORD IDEAS\r\nln[\"analogies_it\"] = \"Analogie\";\r\nln[\"synonyms_it\"] = \"Sinonimi\";\r\nln[\"rhymes_it\"] = \"Rime\";\r\nln[\"path_it\"] = \"PERCORSO\";\r\nln[\"fullLemma_it\"] = \"Lista sinonimi\";\r\nln[\"word_it\"] = \"Parola\";\r\nln[\"score_it\"] = \"Punteggio\";\r\nln[\"frequency_it\"] = \"Frequenza\";\r\nln[\"syllables_it\"] = \"Sillabe\";\r\n\r\n// PROPERTIES\r\nln[\"component_it\"] = \"Componente\";\r\nln[\"slide_it\"] = \"Scena\";\r\n\r\nln[\"title_it\"] = \"Titolo\";\r\nln[\"description_it\"] = \"Descrizione\";\r\n\r\nln[\"template_it\"] = \"Template\";\r\nln[\"linear_it\"] = \"lineare\";\r\nln[\"snail_it\"] = \"chiocciola\";\r\nln[\"cube_it\"] = \"cubo\";\r\nln[\"autoplay_it\"] = \"Autoplay\";\r\n\r\nln[\"text_it\"] = \"Testo\";\r\nln[\"size_it\"] = \"Dim.\";\r\nln[\"position_it\"] = \"Posizione\";\r\nln[\"scale_it\"] = \"Scala\";\r\nln[\"rotate_it\"] = \"Ruota\";\r\nln[\"balloon_it\"] = \"Discorso\";\r\nln[\"balloonType_it\"] = \"Tipo\";\r\nln[\"balloonPlacement_it\"] = \"Pos.\";\r\nln[\"BL_it\"] = \"BL\";\r\nln[\"BR_it\"] = \"BR\";\r\nln[\"TL_it\"] = \"TL\";\r\nln[\"TR_it\"] = \"TR\";\r\nln[\"noneOpt_it\"] = \"No\";\r\nln[\"speechOpt_it\"] = \"Discorso\";\r\nln[\"thoughtOpt_it\"] = \"Pensiero\";\r\nln[\"width_it\"] = \"W\";\r\nln[\"height_it\"] = \"H\";\r\nln[\"top_it\"] = \"X\";\r\nln[\"left_it\"] = \"Y\";\r\nln[\"zIndex_it\"] = \"Z\";\r\nln[\"scaleX_it\"] = \"X\";\r\nln[\"scaleY_it\"] = \"Y\";\r\nln[\"degrees_it\"] = \"Deg.\";\r\n\r\n//buttons\r\nln[\"delete_it\"] = \"Elimina\";\r\n\r\n// tooltip\r\nln[\"keepRatio_it\"] = \"Mantenere proporzion\";\r\nln[\"bringsUp_it\"] = \"Porta in primo piano\";\r\nln[\"flipH_it\"] = \"Capovolgi orizzontalmente\";\r\nln[\"flipV_it\"] = \"Flip verticalmente\";\r\n\r\n// SELECT IMAGES\r\nln[\"selectBackground_it\"] = \"Seleziona sfondo\";\r\nln[\"selectImage_it\"] = \"Seleziona immagine\";\r\nln[\"uploadImage_it\"] = \"Carica immagine\";\r\nln[\"selectColor_it\"] = \"Seleziona colore\";\r\nln[\"buttonOk_it\"] = \"Ok\";\r\nln[\"buttonCancel_it\"] = \"Chiudi\";\r\nln[\"optionUploads_it\"] = \"Consigliate\";\r\n\r\n// image categories\r\nln[\"optionBG1_it\"] = \"Sfondi 1\";\r\nln[\"optionBG2_it\"] = \"Sfondi 2\";\r\nln[\"fantasticCharacters_it\"] = \"Personaggi fantastici\";\r\nln[\"seaLife_it\"] = \"Mondo marino\";\r\n\r\n/******** EN ********/\r\n\r\n// MENU\r\nln[\"newText_en\"] = \"Nex Text\";\r\nln[\"newSpeech_en\"] = \"Blah, blah blah...\";\r\nln[\"keyword_en\"] = \"Keyword\";\r\n\r\n// tooltip\r\nln[\"addText_en\"] = \"Add Text\";\r\nln[\"addBalloon_en\"] = \"Add Speech\";\r\nln[\"addBackground_en\"] = \"Add Background\";\r\nln[\"addImage_en\"] = \"Add Image\";\r\nln[\"addDatalet_en\"] = \"Add Datalet\";\r\nln[\"undo_en\"] = \"Undo (Ctrl+Z)\";\r\nln[\"redo_en\"] = \"Redo (Ctrl+Y)\";\r\nln[\"playStoryPreview_en\"] = \"Play Story Preview\";\r\nln[\"fantasyHelper_en\"] = \"Help your Imagination!\";\r\n\r\nln[\"moveUpSlide_en\"] = \"Move Up Slide\";\r\nln[\"moveDownSlide_en\"] = \"Move Down Slide\";\r\nln[\"removeSlide_en\"] = \"Remove Slide\";\r\nln[\"duplicateSlide_en\"] = \"Duplicate Slide\";\r\nln[\"addSlide_en\"] = \"Add Slide\";\r\n\r\n// SIDE MENU\r\nln[\"save_en\"] = \"Save\";\r\nln[\"autosave_en\"] = \"Autosave\";\r\nln[\"language_en\"] = \"Language\";\r\nln[\"exit_en\"] = \"Exit\";\r\n\r\nln[\"saveBeforeExit_en\"] = \"Save before exit?\";\r\nln[\"yes_en\"] = \"Yes\";\r\nln[\"no_en\"] = \"No\";\r\nln[\"saved_en\"] = \"Saving successful!\";\r\nln[\"hasBeenSuccessfullySaved_en\"] = \"The Story has been successfully saved!\";\r\nln[\"error_en\"] = \"Something went wrong :(\";\r\n\r\n// WORD IDEAS\r\nln[\"analogies_en\"] = \"Analogies\";\r\nln[\"synonyms_en\"] = \"Synonyms\";\r\nln[\"rhymes_en\"] = \"Rhymes\";\r\nln[\"path_en\"] = \"PATH\";\r\nln[\"fullLemma_en\"] = \"Word\";\r\nln[\"word_en\"] = \"Word\";\r\nln[\"score_en\"] = \"Score\";\r\nln[\"frequency_en\"] = \"Frequency\";\r\nln[\"syllables_en\"] = \"Syllables\";\r\n\r\n// PROPERTIES\r\nln[\"component_en\"] = \"Component\";\r\nln[\"slide_en\"] = \"Slide\";\r\n\r\nln[\"title_en\"] = \"Title\";\r\nln[\"description_en\"] = \"Description\";\r\n\r\nln[\"template_en\"] = \"Template\";\r\nln[\"linear_en\"] = \"linear\";\r\nln[\"snail_en\"] = \"snail\";\r\nln[\"cube_en\"] = \"cube\";\r\nln[\"autoplay_en\"] = \"Autoplay\";\r\n\r\nln[\"text_en\"] = \"Text\";\r\nln[\"size_en\"] = \"Size\";\r\nln[\"position_en\"] = \"Position\";\r\nln[\"scale_en\"] = \"Scale\";\r\nln[\"rotate_en\"] = \"Rotate\";\r\nln[\"balloon_en\"] = \"Balloon\";\r\nln[\"balloonType_en\"] = \"Type\";\r\nln[\"balloonPlacement_en\"] = \"Pos.\";\r\nln[\"BL_en\"] = \"BL\";\r\nln[\"BR_en\"] = \"BR\";\r\nln[\"TL_en\"] = \"TL\";\r\nln[\"TR_en\"] = \"TR\";\r\nln[\"noneOpt_en\"] = \"No\";\r\nln[\"speechOpt_en\"] = \"Speech\";\r\nln[\"thoughtOpt_en\"] = \"Thought\";\r\nln[\"width_en\"] = \"W\";\r\nln[\"height_en\"] = \"H\";\r\nln[\"top_en\"] = \"X\";\r\nln[\"left_en\"] = \"Y\";\r\nln[\"zIndex_en\"] = \"Z\";\r\nln[\"scaleX_en\"] = \"X\";\r\nln[\"scaleY_en\"] = \"Y\";\r\nln[\"degrees_en\"] = \"Deg.\";\r\n\r\n//buttons\r\nln[\"delete_en\"] = \"Delete\";\r\n\r\n// tooltip\r\nln[\"keepRatio_en\"] = \"Keep Aspect Ratio\";\r\nln[\"bringsUp_en\"] = \"Brings Up\";\r\nln[\"flipH_en\"] = \"Flip Horizontal\";\r\nln[\"flipV_en\"] = \"Flip Vertical\";\r\n\r\n// SELECT IMAGES\r\nln[\"selectBackground_en\"] = \"Select background\";\r\nln[\"selectImage_en\"] = \"Select image\";\r\nln[\"uploadImage_en\"] = \"Upload image\";\r\nln[\"selectColor_en\"] = \"Select color\";\r\nln[\"buttonOk_en\"] = \"Ok\";\r\nln[\"buttonCancel_en\"] = \"Close\";\r\nln[\"optionUploads_en\"] = \"Recommended \";\r\n\r\n// image categories\r\nln[\"optionBG1_en\"] = \"Backgrounds 1\";\r\nln[\"optionBG2_en\"] = \"Backgrounds 2\";\r\nln[\"fantasticCharacters_en\"] = \"Fantastic Characters\";\r\nln[\"seaLife_en\"] = \"Sea Life\";\r\n\r\n/******** ES ********/\r\n\r\n// SIDE MENU\r\nln[\"save_es\"] = \"Guardar\";\r\nln[\"autosave_es\"] = \"Autosave\";\r\nln[\"language_es\"] = \"Idioma\";\r\n\r\n// WORD IDEAS\r\nln[\"analogies_es\"] = \"Analogie\";\r\nln[\"synonyms_es\"] = \"Sinonimi\";\r\nln[\"rhymes_es\"] = \"Rime\";\r\nln[\"path_es\"] = \"PERCORSO\";\r\nln[\"fullLemma_es\"] = \"Parola\";\r\nln[\"word_es\"] = \"Parola\";\r\nln[\"score_es\"] = \"Punteggio\";\r\nln[\"frequency_es\"] = \"Frequenza\";\r\nln[\"syllables_es\"] = \"Sillabe\";\r\n\r\n/******** FR ********/\r\n\r\n// SIDE MENU\r\nln[\"save_fr\"] = \"Sauver\";\r\nln[\"autosave_fr\"] = \"Autosave\";\r\nln[\"language_fr\"] = \"Langue\";\r\n\r\n// WORD IDEAS\r\nln[\"analogies_fr\"] = \"Analogie\";\r\nln[\"synonyms_fr\"] = \"Sinonimi\";\r\nln[\"rhymes_fr\"] = \"Rime\";\r\nln[\"path_fr\"] = \"PERCORSO\";\r\nln[\"fullLemma_fr\"] = \"Parola\";\r\nln[\"word_fr\"] = \"Parola\";\r\nln[\"score_fr\"] = \"Punteggio\";\r\nln[\"frequency_fr\"] = \"Frequenza\";\r\nln[\"syllables_fr\"] = \"Sillabe\";\r\n\r\n/******** DE ********/\r\n\r\n// SIDE MENU\r\nln[\"save_de\"] = \"Speichern\";\r\nln[\"autosave_de\"] = \"Autosave\";\r\nln[\"language_de\"] = \"Sprache\";\r\n\r\n// WORD IDEAS\r\nln[\"analogies_de\"] = \"Analogie\";\r\nln[\"synonyms_de\"] = \"Sinonimi\";\r\nln[\"rhymes_de\"] = \"Rime\";\r\nln[\"path_de\"] = \"PERCORSO\";\r\nln[\"fullLemma_de\"] = \"Parola\";\r\nln[\"word_de\"] = \"Parola\";\r\nln[\"score_de\"] = \"Punteggio\";\r\nln[\"frequency_de\"] = \"Frequenza\";\r\nln[\"syllables_de\"] = \"Sillabe\";","const selectLanguage = (data) => {\r\n    return {\r\n        type: 'SELECT_LANGUAGE',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default selectLanguage","const setStorylet = (data) => {\r\n    return {\r\n        type: 'SET_STORYLET',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default setStorylet","import React, {useState, useEffect} from 'react'\r\nimport {batch, useDispatch, useSelector} from 'react-redux'\r\nimport axios from \"axios\";\r\nimport {translate} from \"../components/helpers\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\n// Style\r\n// import '../vendor/bootstrap.min.css';\r\nimport '../style/menu.css';\r\n\r\n// Actions\r\nimport languageSelected from \"../reducer/actions/select-language\";\r\nimport setStorylet from \"../reducer/actions/set-storylet\";\r\nimport { Select, Switch, notification, Popconfirm } from 'antd';\r\n\r\nexport default function Menu() {\r\n    const dispatch = useDispatch();\r\n\r\n    const [menuStatus, setMenuStatus] = useState('');\r\n    const [autosave, setAutosave] = useState(false);\r\n    const [language, setLanguage] = useState('it');\r\n    const selectedLanguage = useSelector(state => state.selectedLanguage);\r\n    const slidesData = useSelector(state => state.slidesData);\r\n    const storylet = useSelector(state => state.storylet);\r\n\r\n    const openNotificationWithIcon = type => {\r\n        if(type==='success')\r\n            notification[type]({\r\n                message: translate('saved', language),\r\n                description: translate('hasBeenSuccessfullySaved', language)\r\n            });\r\n        else if(type==='error')\r\n            notification[type]({\r\n                message: translate('error', language),\r\n                // description: translate('hasBeenSuccessfullySaved', language)\r\n            });\r\n        };\r\n\r\n    // useEffect(() => {\r\n    //     let url_string = window.location.href;\r\n    //     let url = new URL(url_string);\r\n    //     let ln = url.searchParams.get(\"ln\");\r\n    //\r\n    //     if(!ln)\r\n    //         ln = navigator.language.split('-')[0];\r\n    //\r\n    //     if(['en', 'it', 'es', 'fr', 'de'].indexOf(ln) === -1)\r\n    //         ln = 'en';\r\n    //\r\n    //     dispatch(languageSelected(ln));\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        if(storylet) {\r\n            if(storylet.language) {\r\n                setLanguage(storylet.language);\r\n                dispatch(languageSelected(storylet.language));\r\n            } else {\r\n                let url_string = window.location.href;\r\n                let url = new URL(url_string);\r\n                let ln = url.searchParams.get(\"ln\");\r\n\r\n                if(!ln)\r\n                    ln = navigator.language.split('-')[0];\r\n\r\n                if(['en', 'it', 'es', 'fr', 'de'].indexOf(ln) === -1)\r\n                    ln = 'en';\r\n\r\n                dispatch(languageSelected(ln));\r\n            }\r\n\r\n            if(storylet.autosave)\r\n                setAutosave(storylet.autosave);\r\n        }\r\n    }, [storylet, dispatch]);\r\n\r\n    // useEffect(() => {\r\n    //     if(!selectedLanguage)\r\n    //         return;\r\n    // }, [selectedLanguage]);\r\n\r\n    useEffect(() => {\r\n        if(slidesData && storylet)\r\n        if(autosave)\r\n            save_storylet();\r\n    }, [slidesData, storylet]);\r\n\r\n    const toggle_sidebar = () => {\r\n        if(menuStatus === '')\r\n            setMenuStatus('open');\r\n        else\r\n            setMenuStatus('');\r\n    };\r\n\r\n    const save_storylet = (exit=false) => {\r\n        axios.put(window.API_ENDPOINT.SAVE_STORYLET, {\r\n            storyletid: window.STORY.DATA.id,\r\n            story     : slidesData,\r\n            metadata  : storylet\r\n        })\r\n            .then((response) => {\r\n                if(exit === true) //save and exit\r\n                    window.location.href = window.STATIC.EXIT_URL;\r\n                if(!autosave)\r\n                    openNotificationWithIcon('success');\r\n                // console.log(response);\r\n            }, (error) => {\r\n                openNotificationWithIcon('error');\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    const set_autosave = () => {\r\n        let data = cloneDeep(storylet);\r\n        data.autosave = !autosave;\r\n\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n\r\n        setAutosave(!autosave);\r\n\r\n        if(autosave) {\r\n            save_storylet()\r\n        }\r\n    };\r\n\r\n    const set_language = (value) => {\r\n        let data = cloneDeep(storylet);\r\n        data.language = value;\r\n\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n\r\n        dispatch(languageSelected(value));\r\n    };\r\n\r\n    function confirm(e) {\r\n        save_storylet(true);\r\n        // console.log(e);\r\n    }\r\n\r\n    function cancel(e) {\r\n        window.location.href = window.STATIC.EXIT_URL;\r\n        // console.log(e);\r\n    }\r\n\r\n    function export_HTML() {\r\n        alert('Export HTML')\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            <FontAwesomeIcon icon={faBars} className=\"icon\" onClick={toggle_sidebar} />\r\n            <div className={`sidebar ${menuStatus}`}>\r\n                <div className=\"sidebarBody\">\r\n                    <div className=\"menu-item menu-btn\" onClick={()=>save_storylet()}>{translate('save', selectedLanguage)}</div>\r\n                    <div className=\"menu-item\">\r\n                        {translate('autosave', language)}\r\n                        <Switch checked={autosave} size={'small'} onChange={set_autosave}/>\r\n                    </div>\r\n\r\n                    <div className=\"menu-item\">\r\n                        {translate('language', selectedLanguage)}\r\n                        <Select value={language} onChange={set_language}>\r\n                            <Select.Option value=\"it\">IT</Select.Option>\r\n                            <Select.Option value=\"en\">EN</Select.Option>\r\n                            <Select.Option value=\"es\">ES</Select.Option>\r\n                            <Select.Option value=\"fr\">FR</Select.Option>\r\n                            <Select.Option value=\"de\">DE</Select.Option>\r\n                        </Select>\r\n                    </div>\r\n\r\n                    {/*<div className=\"menu-item\">*/}\r\n                    {/*    <div onClick={()=>export_HTML()} >{translate('exportHTML', language)}</div>*/}\r\n                    {/*</div>*/}\r\n\r\n                    <div className=\"menu-item menu-btn\">\r\n                        <Popconfirm\r\n                            placement=\"right\"\r\n                            title={translate('saveBeforeExit', language)}\r\n                            onConfirm={confirm}\r\n                            onCancel={cancel}\r\n                            okText={translate('yes', language)}\r\n                            cancelText={translate('no', language)}\r\n                        >\r\n                            <div className=\"\">{translate('exit', language)}</div>\r\n                        </Popconfirm>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\n\r\nimport Info from '../info'\r\nimport Menu from '../menu'\r\n\r\nimport '../../style/container/header-container.css';\r\n\r\nexport default function HeaderContainer({hideSettings})\r\n{\r\n    return (\r\n        <div className=\"header\">\r\n            <Menu />\r\n            <div className=\"logo\"> </div>\r\n            <Info hideSettings={hideSettings} />\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport '../../style/slide-components/text-style.css';\r\n\r\nexport default function Text({component, onClick, isEditable})\r\n{\r\n    let balloonFontSize = component.fontSize*component.w*0.002;\r\n    const TextComponent = styled.div`\r\n        top:                ${props => props.y+'%'};\r\n        left:               ${props => props.x+'%'};\r\n        width:              ${props => props.w+'%'};\r\n        height:             ${props => props.h+'%'};\r\n        transform:          ${props => 'scale(' + props.scale[0] + ',' + props.scale[1] + ') rotate(' + props.rotate + 'deg)'};\r\n        z-index:            ${props => props.zIndex};\r\n        \r\n        font-family:         ${props => props.fontFamily};\r\n        font-size:           ${props => 0.1*(isEditable ? props.fontSize : props.fontSize/2)+'vw'};\r\n        color:               ${props => props.color};\r\n        font-weight:         ${props => props.fontWeight};\r\n        font-style:          ${props => props.fontStyle};\r\n        text-decoration:     ${props => props.textDecoration};\r\n        text-align:          ${props => props.textAlign};\r\n        background-color:    ${props => props.backgroundColor};\r\n        \r\n        & > div {\r\n            overflow: hidden\r\n        }\r\n        \r\n        &.balloon {\r\n            border:             ${(isEditable ? 0.5 : 0.25)+'vw solid #212121'};\r\n            padding:            ${(isEditable ? 0.5 : 0.25)+'vw'};\r\n            border-radius:      ${(isEditable ? 1.5 : 0.75)+'vw'};\r\n            background-color:   ${props => (props.backgroundColor ? props.backgroundColor : '#fff')};\r\n            overflow: visible;\r\n            \r\n            white-space: break-spaces;\r\n            font-size:          ${(isEditable ? balloonFontSize : balloonFontSize/2)+'vw'};\r\n            text-align: center\r\n        }\r\n        \r\n        &.balloon:before, &.balloon:after {\r\n            content: ' ';\r\n            position: absolute;\r\n            width: 0;\r\n            height: 0;\r\n        }\r\n        \r\n        &.balloon.speech:before {\r\n            left:               ${(isEditable ? 1.5 : 0.75)+'vw'};\r\n            bottom:             ${-(isEditable ? 2.5 : 1.25)+'vw'};\r\n            border:             ${(isEditable ? 1.25 : 0.625)+'vw solid'};\r\n            border-color:       #212121 transparent transparent #212121;\r\n        }\r\n        \r\n        &.balloon.speech:after {\r\n            left:               ${(isEditable ? 1.9 : 0.95)+'vw'};\r\n            bottom:             ${-(isEditable ? 1.4 : 0.7)+'vw'};\r\n            border:             ${(isEditable ? 0.75 : 0.375)+'vw solid'};\r\n            border-color:       ${props => (props.backgroundColor ? props.backgroundColor : '#fff') + ' transparent transparent ' + (props.backgroundColor ? props.backgroundColor : '#fff')};\r\n        }\r\n        \r\n        &.balloon.speech.BR:before {\r\n            left:               initial\r\n            right:              ${(isEditable ? 1.5 : 0.75)+'vw'};\r\n            border-color:       #212121 #212121 transparent transparent;\r\n        }\r\n        \r\n        &.balloon.speech.BR:after {\r\n            left:               initial\r\n            right:              ${(isEditable ? 1.9 : 0.95)+'vw'};\r\n            border-color:       ${props => (props.backgroundColor ? (props.backgroundColor + ' ' + props.backgroundColor) : '#fff #fff') + ' transparent transparent'};\r\n        }\r\n        \r\n        &.balloon.speech.TL:before {\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 2.5 : 1.25)+'vw'};\r\n            border-color:       transparent transparent #212121 #212121;\r\n        }\r\n        \r\n        &.balloon.speech.TL:after {\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 1.4 : 0.7)+'vw'};\r\n            border-color:       ${props =>  ' transparent transparent ' + (props.backgroundColor ? (props.backgroundColor + ' ' + props.backgroundColor) : '#fff #fff')};\r\n        }\r\n        \r\n        &.balloon.speech.TR:before {\r\n            left:               initial\r\n            right:              ${(isEditable ? 1.5 : 0.75)+'vw'};\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 2.5 : 1.25)+'vw'};\r\n            border-color:       transparent #212121 #212121 transparent;\r\n        }\r\n        \r\n        &.balloon.speech.TR:after {\r\n            left:               initial\r\n            right:              ${(isEditable ? 1.9 : 0.95)+'vw'};\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 1.4 : 0.7)+'vw'};\r\n            border-color:       ${props => 'transparent ' + (props.backgroundColor ? (props.backgroundColor + ' ' + props.backgroundColor) : '#fff #fff') + ' transparent'};\r\n        }\r\n        \r\n        &.balloon.thought {\r\n            border-radius:      ${(isEditable ? 10 : 5)+'vw'};\r\n            padding:            ${(isEditable ? 1 : 0.5)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought:before, .balloon.thought:after {\r\n            left:               ${(isEditable ? 0.5 : 0.25)+'vw'};\r\n            bottom:             ${-(isEditable ? 1.75 : 0.875)+'vw'};\r\n            width:              ${(isEditable ? 3 : 1.5)+'vw'};\r\n            height:             ${(isEditable ? 3 : 1.5)+'vw'};\r\n            background-color:   ${props => (props.backgroundColor ? props.backgroundColor : '#fff')};\r\n            border:             ${(isEditable ? 0.5 : 0.25)+'vw solid #212121'};\r\n            border-radius: 50%;\r\n        }\r\n        \r\n        &.balloon.thought:after {\r\n            left:               ${(isEditable ? 0.25 : 0.125)+'vw'};\r\n            bottom:             ${-(isEditable ? 2.35 : 1.175)+'vw'};\r\n            width:              ${(isEditable ? 2 : 1)+'vw'};\r\n            height:             ${(isEditable ? 2 : 1)+'vw'};\r\n            background-color:   ${props => (props.backgroundColor ? props.backgroundColor : '#fff')};\r\n            border:             ${(isEditable ? 0.5 : 0.25)+'vw solid #212121'};\r\n            border-radius: 50%;\r\n        }\r\n        \r\n        &.balloon.thought.BR:before, .balloon.thought:after {\r\n            left:               initial\r\n            right:               ${(isEditable ? 0.5 : 0.25)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought.BR:after {\r\n            left:               initial\r\n            right:               ${(isEditable ? 0.25 : 0.125)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought.TL:before, .balloon.thought:after {\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 1.75 : 0.875)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought.TL:after {\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 2.35 : 1.175)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought.TR:before, .balloon.thought:after {\r\n            left:               initial\r\n            right:               ${(isEditable ? 0.5 : 0.25)+'vw'};\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 1.75 : 0.875)+'vw'};\r\n        }\r\n        \r\n        &.balloon.thought.TR:after {\r\n            left:               initial\r\n            right:               ${(isEditable ? 0.25 : 0.125)+'vw'};\r\n            bottom:             initial\r\n            top:                ${-(isEditable ? 2.35 : 1.175)+'vw'};\r\n        }\r\n    `;\r\n\r\n    return (\r\n        <TextComponent {...component} className={\"text-moveable-container \"+(component.balloon ? component.balloon : \"\")+\" \"+(component.placement ? component.placement : \"\")} onClick={onClick} id={isEditable ? \"component-\"+component.index : \"\"}>\r\n            <div className={\"inner_text\"} dangerouslySetInnerHTML={{__html: component.value}} />\r\n            {/*{component.value}*/}\r\n        </TextComponent>\r\n    )\r\n};","import React from 'react';\r\n\r\nimport '../../style/slide-components/image-style.css';\r\n\r\nexport default function Image({component, onClick, isEditable})\r\n{\r\n    return (\r\n        <div className=\"image-moveable-container\" onClick={onClick} id={isEditable ? \"component-\"+component.index : \"\"}\r\n            style={{\r\n                top:component.y+'%',\r\n                left:component.x+'%',\r\n                width:component.w+'%',\r\n                height:component.h+'%',\r\n                transform:'scale(' + component.scale[0] + ',' + component.scale[1] + ') rotate(' + component.rotate + 'deg)',\r\n                zIndex:component.zIndex\r\n            }}\r\n        >\r\n            <img src={component.src} alt={component.src}/>\r\n        </div>\r\n    )\r\n};","import styled from 'styled-components'\r\n\r\nconst SlideStyle = styled.div`\r\n  width: ${(props) => props.isSettingVisible ? '80%' : '50%'};\r\n  padding-top: ${(props) => props.isSettingVisible ? '80%' : '50%'};\r\n  margin: 40px auto;\r\n  position: relative;\r\n  background: url(${(props) => props.background});\r\n  background-size: cover;\r\n  background-color: ${(props) => props.backgroundColor || 'var(--storylet-white)'};\r\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\r\n  cursor: ${(props) => props.cursor}; \r\n  \r\n  cursor: ${(props) => props.isEditable ? 'auto' : 'pointer'};\r\n  border: ${(props) => props.isEditable ? 'none' : (props.selected ? '2px solid var(--storylet-driver)' : '2px solid transparent')};\r\n  background-origin: border-box;\r\n  \r\n  .pageCount {\r\n    color: var(--storylet-white);\r\n    position: absolute;\r\n    \r\n    //right: 0;\r\n    //bottom: -28px;\r\n    \r\n    //bottom: 4px;\r\n    //right: 4px;\r\n    \r\n    top: -10px;\r\n    right: -10px;\r\n    \r\n    font-weight: 700;\r\n    font-size: 12px;\r\n    background: red;\r\n    border-radius: 50%;\r\n    height: 20px;\r\n    width: 20px;\r\n    background:  var(--storylet-driver);\r\n    text-align: center;\r\n    line-height: 20px;\r\n  }\r\n`;\r\n\r\nexport default SlideStyle","const selectComponent = (data) => {\r\n    return {\r\n        type: 'SELECT_COMPONENT',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default selectComponent","import React from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\n// Components\r\nimport Text from './slide-components/text'\r\nimport Image from './slide-components/image'\r\n\r\n// Style\r\nimport SlideStyle from '../style/slide'\r\n\r\n// Actions\r\nimport componentSelected from '../reducer/actions/select-component'\r\n\r\n// const shouldSlideNotRender = (prevProps, nextProps) => {\r\n//     return false; //always rerender\r\n// };\r\n\r\nfunction Slide({parameters, isEditable, onClick, isSettingVisible, selected})\r\n{\r\n    const dispatch = useDispatch();\r\n\r\n    // const selectedComponent = useSelector(state => state.selectedComponent);\r\n\r\n    return (\r\n        <SlideStyle selected={selected} id={\"slide_\"+parameters.id} isSettingVisible={isSettingVisible} background={parameters.background} backgroundColor={parameters.backgroundColor} isEditable={isEditable} onClick={onClick}>\r\n            {(() => {\r\n                if (!parameters.components) return null;\r\n                return parameters.components.map((c, idx) => {\r\n                    switch (c.type) {\r\n                        case 'text'  :\r\n                            return (\r\n                                <Text key={idx} isEditable={isEditable} component={c}\r\n                                      // onClick={(isEditable && (!selectedComponent || selectedComponent.index !== c.index)) ? () => {dispatch(componentSelected(c))} : null}\r\n                                      onClick={isEditable ? () => {dispatch(componentSelected(c))} : null}\r\n                                />\r\n                            );\r\n                        case 'image' :\r\n                            return (\r\n                                <Image key={idx} isEditable={isEditable} component={c}\r\n                                       // onClick={(isEditable && (!selectedComponent || selectedComponent.index !== c.index)) ? () => {dispatch(componentSelected(c))} : null}\r\n                                       onClick={isEditable ? () => {dispatch(componentSelected(c))} : null}\r\n                                />\r\n                            );\r\n                        // default : break;\r\n                    }\r\n                    // return null;\r\n                })\r\n            }\r\n            )()}\r\n            {console.log('render slide')}\r\n            {isEditable ? \"\" : (<div className={\"pageCount\"}>{parameters.index+1}</div>)}\r\n            {\r\n                // isEditable ?\r\n                // <iframe /*style=\"width:100%;height:100%;min-height:482px;padding:0;margin:0;border:0;\"*/\r\n                //         style={{position: 'absolute', top: 0, width: 511, height: 511}}\r\n                //         frameBorder=\"0\"\r\n                //         scrolling=\"no\"\r\n                //         srcDoc=\"<script src=&quot;https://deep.routetopa.eu/deep2/COMPONENTS/datalets/leafletjs-datalet/../lib/vendors/webcomponents_lite_polyfill/webcomponents-lite.js&quot;></script><style>html,body{margin:0;padding:0;height: 100%}</style><script type=&quot;module&quot; src=&quot;https://deep.routetopa.eu/deep2/COMPONENTS/datalets/leafletjs-datalet/leafletjs-datalet.js&quot; ></script><leafletjs-datalet data-url=&quot;http://ckan.routetopa.eu:8080/api/3/action/datastore_search?resource_id=36a25e65-b3ff-405a-9e15-3dea59d93da2&amp;amp;limit=99999&quot; selectedfields=&quot;[{&amp;quot;field&amp;quot;:&amp;quot;Latitude&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Latitudine&amp;quot;,&amp;quot;index&amp;quot;:6},{&amp;quot;field&amp;quot;:&amp;quot;Longitude&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Longitudine&amp;quot;,&amp;quot;index&amp;quot;:7},{&amp;quot;field&amp;quot;:&amp;quot;BalloonContent&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;NOMESCIEN&amp;quot;,&amp;quot;index&amp;quot;:8},{&amp;quot;field&amp;quot;:&amp;quot;BalloonContent&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;NOMEVOLGA&amp;quot;,&amp;quot;index&amp;quot;:9},{&amp;quot;field&amp;quot;:&amp;quot;BalloonContent&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;FOTO&amp;quot;,&amp;quot;index&amp;quot;:4},null,null,null,null,null,null,null,null]&quot; filters=&quot;[]&quot; aggregators=&quot;[]&quot; orders=&quot;[]&quot; export_menu=&quot;0&quot; layer=&quot;OpenStreetMap&quot; datalettitle=&quot;Alberi&quot; description=&quot;&quot; data=&quot;[{&amp;quot;name&amp;quot;:&amp;quot;Latitudine&amp;quot;,&amp;quot;data&amp;quot;:[40.8761,40.8747,40.8614,40.8611,40.8667,40.9508,40.95,41.0125,41.4282,41.0983,41.1575,41.1608,41.0892,41.0892,40.9694,40.8347,40.8492,40.8333,40.8333,40.8333,40.8331,40.8331,40.8667,40.8669,40.8667,40.8892,40.8897,40.8555,40.6372,40.8139,40.6992,40.6961,40.6371,40.7017,40.5331,40.6444,40.6489,40.6489,40.6284,40.6288,40.6283,40.619,40.6193,40.6191,40.6361,40.6208,41.1442,41.0751,41.0755,41.0842,41.1641,40.8521,40.7468,40.7473,40.889,40.8857,40.8849,40.889,40.8885,40.9931,40.6908,40.6842,40.6842,40.6372,40.6292,40.7061,40.6781,40.6789,40.9489,41.1861,41.1906,41.0944,41.1675,40.9242,40.9518,41.3381,41.3267,41.4456,40.9735,40.6059,40.6056,40.6586,40.6586,40.6586,40.6586,40.6548,40.6626,40.0733,41.0968,41.2242,41.2442,41.1911,41.1541,41.2394,41.0019,41.3564,41.1442,41.3825,41.1715,41.2099,41.4063,40.217,40.2158,40.6428,40.6393,40.6237,41.0204,41.1442,41.3342]},{&amp;quot;name&amp;quot;:&amp;quot;Longitudine&amp;quot;,&amp;quot;data&amp;quot;:[14.7667,14.7667,14.7333,14.7497,14.7528,14.8475,15.1667,14.8128,15.0719,14.3158,14.5394,14.6425,14.3414,14.3411,14.5375,14.2514,14.2478,14.2353,14.2336,14.2381,14.2375,14.2372,14.2481,14.2481,14.2483,14.2556,14.2781,14.2547,14.4017,14.5725,14.7033,14.7039,14.4105,14.7075,15.3742,14.8736,14.9008,14.9008,14.4189,14.4168,14.416,14.4319,14.4314,14.4314,14.41,14.4243,14.5735,14.3321,14.3324,14.3358,14.6506,15.2532,14.4854,14.4899,14.8206,14.8147,14.8194,14.8234,14.8166,15.4711,14.4728,14.4889,14.4892,14.4014,14.4194,14.8015,14.7536,14.7536,14.7453,15.0147,15.0164,14.9987,15.0008,14.6303,14.6173,14.3195,14.3347,13.9591,14.2063,14.3379,14.3306,14.4914,14.4914,14.4914,14.4914,14.4252,14.4486,15.6087,14.2209,14.3536,14.3367,15.0291,15.6337,14.3198,14.0031,14.3707,14.5735,14.6877,15.4549,15.4523,14.4369,15.0429,15.0464,14.5499,14.5449,14.5662,15.0178,14.5735,14.7281]},{&amp;quot;name&amp;quot;:&amp;quot;NOMESCIEN&amp;quot;,&amp;quot;data&amp;quot;:[&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Quercus cerris&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Tilia vulgaris&amp;quot;,&amp;quot;Tilia vulgaris&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Platanus occidentalis&amp;quot;,&amp;quot;Fraxinus excelsior&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Cinnamomun camphora&amp;quot;,&amp;quot;Cedrus libani&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Cedrus libani&amp;quot;,&amp;quot;Eucalyptus camaldulensis&amp;quot;,&amp;quot;Jubaea chilensis&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Cedrus libani&amp;quot;,&amp;quot;Cinnamomun camphora&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Cinnamomun camphora&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Podocarpus macrophyllus&amp;quot;,&amp;quot;Pinus pinea&amp;quot;,&amp;quot;Platanus orientalis L.&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Sophora japonica&amp;quot;,&amp;quot;Pinus pinea&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Prunus avium&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Tilia platyphyllos&amp;quot;,&amp;quot;Quercus pubescens&amp;quot;,&amp;quot;Taxus baccata&amp;quot;,&amp;quot;Cedrus deodara&amp;quot;,&amp;quot;Quercus petraea&amp;quot;,&amp;quot;Liriodendron tulipifera&amp;quot;,&amp;quot;Araucaria araucana&amp;quot;,&amp;quot;Casuarina equisetifolia&amp;quot;,&amp;quot;Taxus baccata&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Quercus Ilex&amp;quot;,&amp;quot;Winstaria sinensis&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Quercus robur&amp;quot;,&amp;quot;Castanea sativa&amp;quot;,&amp;quot;Platanus occidentalis&amp;quot;,&amp;quot;Carpinus betulus&amp;quot;,&amp;quot;Quercus pubescens&amp;quot;,&amp;quot;Quercus pubescens&amp;quot;,&amp;quot;Quercus ilex&amp;quot;,&amp;quot;Pinus halepensis&amp;quot;,&amp;quot;Taxux baccata&amp;quot;,&amp;quot;Quercus ilex&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Pinus halepensis&amp;quot;,&amp;quot;Pinus halepensis&amp;quot;,&amp;quot;Tilia vulgaris&amp;quot;,&amp;quot;Quercus cerris&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Cupressus sempervirens&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Quercus ilex&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Magnolia grandiflora&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Morus nigra&amp;quot;,&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Eucaliptus globosus&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Quercus suber&amp;quot;,&amp;quot;Broussonetia papyrifera&amp;quot;,&amp;quot;Laurus nobilis&amp;quot;,&amp;quot;Fraxinus excelsior&amp;quot;,&amp;quot;Quercus pubescens&amp;quot;,&amp;quot;Morus alba&amp;quot;,&amp;quot;Quercus cerris&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Platanus acerifolia&amp;quot;,&amp;quot;Quercus petrea&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Cedrus deodora&amp;quot;,&amp;quot;Fagus sylvatica&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Olea europaea&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Platanus orientalis&amp;quot;,&amp;quot;Tilia cordata&amp;quot;,&amp;quot;Quercus pubescens&amp;quot;,&amp;quot;Quercus petrea&amp;quot;,&amp;quot;Morus alba&amp;quot;]},{&amp;quot;name&amp;quot;:&amp;quot;NOMEVOLGA&amp;quot;,&amp;quot;data&amp;quot;:[&amp;quot;Faggio&amp;quot;,&amp;quot;Cerro&amp;quot;,&amp;quot;Platano comune&amp;quot;,&amp;quot;Tiglio intermedio&amp;quot;,&amp;quot;Tiglio intermedio&amp;quot;,&amp;quot;Tiglio selvatico&amp;quot;,&amp;quot;Tiglio selvatico&amp;quot;,&amp;quot;Platano occidentale&amp;quot;,&amp;quot;Frassino maggiore&amp;quot;,&amp;quot;Platano comune&amp;quot;,&amp;quot;Platano comune&amp;quot;,&amp;quot;Tiglio selvatico&amp;quot;,&amp;quot;Albero della canfora&amp;quot;,&amp;quot;Cedro del Libano&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Platano comune&amp;quot;,&amp;quot;Cedro del Libano&amp;quot;,&amp;quot;Eucalitto rostrato&amp;quot;,&amp;quot;Palma gigante del Cile&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Cedro del Libano&amp;quot;,&amp;quot;Albero della canfora&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Albero della canfora&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Podocarpo&amp;quot;,&amp;quot;Pino domestico&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Sofora&amp;quot;,&amp;quot;Pino domestico&amp;quot;,&amp;quot;Platano orientale&amp;quot;,&amp;quot;Ciliegio selvatico&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Cipresso comune&amp;quot;,&amp;quot;Cipresso comune&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Tiglio nostrale&amp;quot;,&amp;quot;Roverella&amp;quot;,&amp;quot;Tasso&amp;quot;,&amp;quot;Cedro dell&amp;amp;#39;Himalaya&amp;quot;,&amp;quot;Rovere&amp;quot;,&amp;quot;Albero dei tulipani&amp;quot;,&amp;quot;Auracaria del Cile&amp;quot;,&amp;quot;Casuarina&amp;quot;,&amp;quot;Tasso&amp;quot;,&amp;quot;Cipresso comune&amp;quot;,&amp;quot;Leccio&amp;quot;,&amp;quot;Glicine&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Quercia&amp;quot;,&amp;quot;Castagno&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Carpino&amp;quot;,&amp;quot;Roverella&amp;quot;,&amp;quot;Roverella&amp;quot;,&amp;quot;Leccio&amp;quot;,&amp;quot;Pino di Aleppo&amp;quot;,&amp;quot;Tasso&amp;quot;,&amp;quot;Leccio&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Pino di Aleppo&amp;quot;,&amp;quot;Pino di Aleppo&amp;quot;,&amp;quot;Tiglio&amp;quot;,&amp;quot;Cerro&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Cipresso&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Leccio&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Magnolia&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Gelso&amp;quot;,&amp;quot;Faggio&amp;quot;,&amp;quot;Faggio&amp;quot;,&amp;quot;Faggio&amp;quot;,&amp;quot;Faggio&amp;quot;,&amp;quot;Eucalipto&amp;quot;,&amp;quot;Tiglio&amp;quot;,&amp;quot;Sughera&amp;quot;,&amp;quot;Gelso da carta&amp;quot;,&amp;quot;Alloro&amp;quot;,&amp;quot;Frassino&amp;quot;,&amp;quot;Roverella&amp;quot;,&amp;quot;Gelso&amp;quot;,&amp;quot;Cerro&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Rovere&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Tiglio&amp;quot;,&amp;quot;Cedro&amp;quot;,&amp;quot;Faggio&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Olivo&amp;quot;,&amp;quot;Tiglio&amp;quot;,&amp;quot;Platano&amp;quot;,&amp;quot;Tiglio&amp;quot;,&amp;quot;Quercia&amp;quot;,&amp;quot;Rovere&amp;quot;,&amp;quot;Gelso&amp;quot;]},{&amp;quot;name&amp;quot;:&amp;quot;FOTO&amp;quot;,&amp;quot;data&amp;quot;:[&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/01.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/02.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/03.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/04.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/05.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/06.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/07.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/08.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/09.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/10.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/11.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/12.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/13.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/14.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/15.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/16.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/17.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/18.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/19.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/20.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/21.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/22.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/23.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/24.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/25.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/26.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/27.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/28.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/29.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/30.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/31.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/32.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/44.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/33.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/34.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/35.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/36.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/37.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/38.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/39.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/40.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/41.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/42.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/43.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/45.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/46.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/47.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/48.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/49.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/50.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/51.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/52.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/53.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/54.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/55.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/56.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/57.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/58.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/59.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/60.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/61.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/62.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/63.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/64.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/65.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/66.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/67.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/68.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/69.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/70.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/71.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/72.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/73.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/74.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/75.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/76.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/77.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/78.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/79.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/80.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/81.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/82.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/83.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/84.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/85.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/86.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/87.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/88.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/89.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/90.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/91.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/92.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/93.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/94.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/95.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/96.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/97.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/98.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/99.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/100.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/101.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/102.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/103.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/104.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/105.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/106.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/107.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/108.jpg&amp;quot;,&amp;quot;http://agricoltura.regione.campania.it/foreste/monum/img/109.jpg&amp;quot;]}]&quot; hide_export=&quot;&quot; hide_fullscreen=&quot;&quot; hide_share=&quot;&quot;></leafletjs-datalet>\">\r\n                // </iframe> : ''\r\n            }\r\n        </SlideStyle>\r\n    )\r\n}\r\n\r\n// export default React.memo(Slide, shouldSlideNotRender)\r\nexport default Slide\r\n\r\n","const selectSlide = (data) => {\r\n    return {\r\n        type: 'SELECT_SLIDE',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default selectSlide","import React from 'react'\r\nimport {batch, useDispatch, useSelector} from 'react-redux'\r\n\r\n// Components\r\nimport Slide from '../slide'\r\n\r\n// Style\r\nimport '../../style/container/slide-container.css';\r\n\r\n// Actions\r\nimport selectSlide from '../../reducer/actions/select-slide'\r\nimport componentSelected from \"../../reducer/actions/select-component\";\r\n\r\nexport default function SlideContainer()\r\n{\r\n    const dispatch = useDispatch();\r\n    const slidesData = useSelector(state => state.slidesData);\r\n    const selectedSlide = useSelector(state => state.selectedSlide);\r\n\r\n    return (\r\n        <div className=\"slide-container\">\r\n            {slidesData.map((slide, idx) =>\r\n                <Slide selected={slide.id===selectedSlide.id} isSettingVisible={true} key={idx} parameters={slide} isEditable={false} onClick={() => { batch(() => {dispatch(componentSelected(null)); dispatch(selectSlide(slidesData[idx]))});}} />\r\n            )}\r\n        </div>\r\n    )\r\n};","import React, {useState, useEffect} from 'react';\r\nimport 'd3-transition';\r\nimport { select } from 'd3-selection';\r\nimport ReactWordcloud from 'react-wordcloud';\r\nimport axios from \"axios\"; // https://react-wordcloud.netlify.com/usage/options\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport '../../style/container/wordcloud-container.css'\r\nimport {useSelector} from \"react-redux\";\r\nimport {translate} from \"../helpers\";\r\n\r\nexport default function WordcloudContainer({startingWord}) {\r\n\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const colors = {noun:'#4CAF50',adjective:'#F44336',verb:'#FF9800',adverb:'#2196F3'};\r\n    const [words, setWords] = useState([]);\r\n    const [selectedWords, setSelectedWords] = useState(null);\r\n    const [clickedWord, setClickedWord] = useState(null);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!startingWord || startingWord.length === 0)\r\n            return;\r\n        setSelectedWords(startingWord.slice());\r\n        wordAssociations(startingWord[0]);\r\n    }, [startingWord]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if (!selectedWords || selectedWords.length === 0)\r\n            return;\r\n\r\n        // console.log(selectedWords);\r\n\r\n        let span = [];\r\n        for (let i = 0; i < selectedWords.length; i++) {\r\n            span.push( <span onClick={()=>{goToWordAssociations(i)}} key={i} >{selectedWords[i]}</span> );\r\n            span.push( ' / ' );\r\n        }\r\n\r\n        ReactDOM.render(span, document.getElementById('selected-words'));\r\n    }, [selectedWords]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if (!selectedWords || selectedWords.length === 0)\r\n            return;\r\n        // console.log(\"clickedWord\");\r\n\r\n        // selectedWords.push(word.text);\r\n        let temp = selectedWords.slice();\r\n        temp.push(clickedWord);\r\n        setSelectedWords(temp);\r\n\r\n    }, [clickedWord]);\r\n\r\n    function goToWordAssociations(i) {\r\n        //todo?\r\n        let searchKey = selectedWords[i];\r\n        let temp = selectedWords.slice();\r\n        temp.splice(i+1);\r\n        let temp2 = temp.slice();\r\n        setSelectedWords(temp2);\r\n\r\n        wordAssociations(searchKey);\r\n    }\r\n\r\n    function wordAssociations(searchKey) {\r\n        // text: 'cane',\r\n        // lang: 'it', // en fr de pt ru es\r\n        // type: 'response', // stimulus\r\n        // limit: '50', // max 300\r\n        // pos: 'noun,adjective,verb,adverb',\r\n        // indent: 'yes' // no\r\n        axios.get('https://api.wordassociations.net/associations/v1.0/json/search?apikey=ebb2ab66-af3f-42c9-bc24-8072f0c413d5&text=' + searchKey + '&lang=' + ln + '&limit=50')\r\n            .then((response) => {\r\n                let items = response.data.response[0].items;\r\n                    let words = [];\r\n                    for(let i=0; i<items.length; i++) {\r\n                        words.push({\r\n                            text: items[i].item,\r\n                            value: items[i].weight,\r\n                            color: colors[items[i].pos]\r\n                        });\r\n                    }\r\n                    setWords(words);\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const options = {\r\n        fontSizes: [20, 100],\r\n        rotations: 3,\r\n        rotationAngles: [0, 90],\r\n        fontFamily: '\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif',\r\n        padding: 10,\r\n        transitionDuration: 1000\r\n    };\r\n\r\n    const callbacks = {\r\n        getWordColor: word => (word.color),\r\n        getWordTooltip: word =>\r\n            `La parola \"${word.text}\" ha una rilevanza pari a ${word.value}.`,//todo translate\r\n        onWordClick: getCallback('onWordClick'),\r\n        onWordMouseOut: getCallback('onWordMouseOut'),\r\n        onWordMouseOver: getCallback('onWordMouseOver')\r\n    };\r\n\r\n    function getCallback(callback) {\r\n        return function(word, event) {\r\n            const isActive = callback !== 'onWordMouseOut';\r\n            const element = event.target;\r\n            const text = select(element);\r\n            text.on('click', () => {\r\n                // //todo?\r\n                // selectedWords.push(word.text);\r\n                // let temp = selectedWords.slice();\r\n                // // temp.push(word.text);\r\n                // setSelectedWords(temp);\r\n                setClickedWord(word.text);\r\n\r\n                wordAssociations(word.text);\r\n            })\r\n            // .transition()\r\n            // .attr('background', 'white')\r\n            .attr('text-decoration', isActive ? 'underline' : 'none');\r\n    };\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div id=\"path\">\r\n                {translate('path', ln)}:&nbsp;<div id=\"selected-words\"> </div>\r\n            </div>\r\n            <div id=\"wordcloud\">\r\n                <ReactWordcloud callbacks={callbacks} options={options} words={words} />\r\n            </div>\r\n        </>\r\n    )\r\n};","import React, {useState, useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport {Table} from 'antd';\r\nimport '../../style/container/rhymebrain-container.css'\r\nimport {useSelector} from \"react-redux\";\r\nimport {translate} from \"../helpers\";\r\n\r\nexport default function RhymebrainContainer({startingWord}) {\r\n\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const [dataSource, setDataSource] = useState([]);\r\n\r\n    const columns = [\r\n        {\r\n            title: translate('word', ln),\r\n            dataIndex: 'word',\r\n            key: 'word',\r\n            sorter: (a, b) => a.word.localeCompare(b.word),\r\n        },\r\n        {\r\n            title: translate('score', ln),\r\n            dataIndex: 'score',\r\n            key: 'score',\r\n            sorter: (a, b) => a.score - b.score,\r\n        },\r\n        // {\r\n        //     title: translate('frequency', ln),\r\n        //     dataIndex: 'freq',\r\n        //     key: 'freq',\r\n        //     sorter: (a, b) => a.freq - b.freq,\r\n        // },\r\n        {\r\n            title: translate('syllables', ln),\r\n            dataIndex: 'syllables',\r\n            key: 'syllables',\r\n            sorter: (a, b) => a.syllables - b.syllables,\r\n        }\r\n    ];\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!startingWord || startingWord.length === 0)\r\n            return;\r\n        // console.log(\"RhymebrainContainer\");\r\n\r\n        axios.get('https://rhymebrain.com/talk?function=getRhymes&word=' + startingWord + '&lang=' + ln)\r\n            .then((response) => {\r\n                setDataSource(response.data);\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n\r\n    }, [startingWord]);\r\n\r\n    return (\r\n        <div className=\"rhymebrain-container\">\r\n            <Table dataSource={dataSource} columns={columns} rowKey=\"word\" size=\"middle\" />\r\n        </div>\r\n    )\r\n};","import React, {useState, useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport ReactWordcloud from \"react-wordcloud\";\r\n// import 'antd/dist/antd.css';\r\nimport {Table} from 'antd';\r\nimport '../../style/container/babelnet-container.css'\r\nimport {useSelector} from \"react-redux\";\r\nimport {translate} from \"../helpers\";\r\n\r\n// TODO merge & delete lemmas\r\n\r\nexport default function BabelnetContainer({startingWord}) {\r\n\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const source = null;\r\n\r\n    // const [synsetIds, setSynsetIds] = useState(null);\r\n    const key = '91373219-3631-4c81-8c7b-5f8ae29776ee';\r\n    const lang = ln;\r\n\r\n    const [dataSource, setDataSource] = useState([]);\r\n\r\n    const columns = [\r\n        {\r\n            title: translate('fullLemma', ln),\r\n            dataIndex: 'properties.fullLemma',\r\n            key: 'fullLemma',\r\n            render: (text, record, index) => {\r\n                return (\r\n                    record.properties.fullLemma + ' (' + record.properties.source + ')'\r\n                )\r\n            },\r\n            sorter: (a, b) => a.properties.fullLemma.localeCompare(b.properties.fullLemma),\r\n        },\r\n        // {\r\n        //     title: 'Source',\r\n        //     dataIndex: 'properties.source',\r\n        //     key: 'source',\r\n        //     sorter: (a, b) => a.properties.source.localeCompare(b.properties.source),\r\n        // },\r\n        // {\r\n        //     title: 'Synset ID',\r\n        //     dataIndex: 'properties.synsetID.id',\r\n        //     key: 'source',\r\n        //     sorter: (a, b) => a.properties.synsetID.id.localeCompare(b.properties.synsetID.id),\r\n        // }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if(!startingWord || startingWord.length === 0)\r\n            return;\r\n        // console.log(\"BabelnetContainer\"); // https://babelnet.org/guide\r\n\r\n        getSenses(startingWord, lang, lang, null, source);\r\n        // getSynset(\"bn:00015983n\", lang);\r\n\r\n    }, [startingWord]);\r\n\r\n    // useEffect(() => {\r\n    //     if(!synsetIds)\r\n    //         return;\r\n    //     console.log(synsetIds);\r\n    // }, [synsetIds]);\r\n\r\n    function getSynsetIds(lemma, searchLang, targetLang, pos, source) {\r\n        axios.get('https://babelnet.io/v5/getSynsetIds?lemma=' + lemma + '&searchLang=' + searchLang + '&targetLang=' + targetLang + '&key=' + key)\r\n            .then((response) => {\r\n                //todo\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    function getSynset(id, targetLang) {\r\n        axios.get('https://babelnet.io/v5/getSynset?id=' + id + '&targetLang=' + targetLang + '&key=' + key)\r\n            .then((response) => {\r\n                let items = response.data.senses;\r\n                let words = [];\r\n                for(let i=0; i<items.length; i++) {\r\n                    words.push({\r\n                        text: items[i].properties.fullLemma,\r\n                        value: items[i].properties.frequency+1,\r\n                        color: \"#000000\"\r\n                    });\r\n                }\r\n                setWords(words);\r\n                let glosses = '';//todo GLOSS: translate\r\n                if(response.data.glosses) {\r\n                    for(let i=0; i<response.data.glosses.length; i++)\r\n                        glosses += ' ' + response.data.glosses[i].gloss\r\n                    setGloss(glosses);\r\n                }\r\n                //todo\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    function getSenses(lemma, searchLang, targetLang, pos, source) {\r\n        axios.get('https://babelnet.io/v5/getSenses?lemma=' + lemma + '&searchLang=' + searchLang + '&targetLang=' + targetLang + (pos ? '&source=' + pos : '') + (source ? '&source=' + source : '') + '&key=' + key)\r\n            .then((response) => {\r\n                // console.log(response)\r\n                let synsetIds = [];\r\n                let _dataSource = [];\r\n                for(let i=0; i< response.data.length; i++) {\r\n                    if(synsetIds.indexOf(response.data[i].properties.synsetID.id) > -1)\r\n                        continue;\r\n                    synsetIds.push(response.data[i].properties.synsetID.id);\r\n                    _dataSource.push(response.data[i]);\r\n                }\r\n                console.log(_dataSource)\r\n                setDataSource(_dataSource);\r\n                //todo\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    function getOutgoingEdges(id) {\r\n        axios.get('https://babelnet.io/v5/getOutgoingEdges?id=' + id + '&key=' + key)\r\n            .then((response) => {\r\n                //todo\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    // TABLE\r\n\r\n    const onRow = (record, rowIndex) => {\r\n        return {\r\n            onClick: event => {\r\n                getSynset(event.currentTarget.dataset.rowKey, lang);\r\n            }, // click row\r\n            onDoubleClick: event => {}, // double click row\r\n            onContextMenu: event => {}, // right button click row\r\n            onMouseEnter: event => {}, // mouse enter row\r\n            onMouseLeave: event => {}, // mouse leave row\r\n        };\r\n    };\r\n\r\n    // WORDCLOUD\r\n\r\n    const [words, setWords] = useState([]);\r\n    const [gloss, setGloss] = useState([]);\r\n\r\n    const options = {\r\n        fontSizes: [20, 100],\r\n        rotations: 3,\r\n        rotationAngles: [0, 90],\r\n        fontFamily: '\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif',\r\n        padding: 10,\r\n        transitionDuration: 1000\r\n    };\r\n\r\n    const callbacks = {\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"babelnet-container\">\r\n            <div className=\"babelnet-table\">\r\n                <Table dataSource={dataSource} columns={columns} rowKey={record => record.properties.synsetID.id} size=\"middle\" onRow={onRow} />\r\n            </div>\r\n            <div className=\"babelnet-wordcloud\">\r\n                <div id=\"babelnet-gloss\">\r\n                    <div id=\"gloss\">{gloss}</div>\r\n                </div>\r\n                <div id=\"babelnet-words\">\r\n                    <ReactWordcloud callbacks={callbacks} options={options} words={words} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React, {useState, useEffect, useRef} from 'react';\r\n\r\nimport WordcloudContainer from './wordcloud-container'\r\nimport RhymebrainContainer from './rhymebrain-container'\r\nimport BabelnetContainer from './babelnet-container'\r\n\r\nimport '../../style/container/word-container.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {faLightbulb} from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nimport {translate} from \"../helpers\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport default function WordContainer({startingWord})\r\n{\r\n    const selectedLanguage = useSelector(state => state.selectedLanguage);\r\n\r\n    const coverContainer = useRef(false);\r\n    const [selectedTab, setSelectedTab] = useState(0);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!startingWord || startingWord.length === 0)\r\n            return;\r\n        setSelectedTab(0);\r\n        coverContainer.current.style.visibility = 'visible';\r\n    }, [startingWord]);\r\n\r\n    function hideWordcloud() {\r\n        coverContainer.current.style.visibility = 'hidden';\r\n    }\r\n\r\n    function selectTab(e) {\r\n        setSelectedTab(e._targetInst.index-1);\r\n    }\r\n\r\n    return (\r\n        <div id=\"cover-container\" ref={coverContainer}>\r\n            <div id=\"wordcloud-container\">\r\n                <FontAwesomeIcon id=\"wordcloud-close\" icon={faTimes} className=\"icon\" onClick={hideWordcloud} />\r\n                <div className=\"word-tabs\">\r\n                    <div className=\"word-tab\"><FontAwesomeIcon icon={faLightbulb} className=\"icon\" /> {startingWord}</div>\r\n                    <div className={selectedTab === 0 ? \"word-tab selected\" : \"word-tab\"} onClick={selectTab}>{translate('analogies', selectedLanguage)}</div>\r\n                    <div className={selectedTab === 1 ? \"word-tab selected\" : \"word-tab\"} onClick={selectTab}>{translate('synonyms', selectedLanguage)}</div>\r\n                    <div className={selectedTab === 2 ? \"word-tab selected\" : \"word-tab\"} onClick={selectTab}>{translate('rhymes', selectedLanguage)}</div>\r\n                </div>\r\n                <div className=\"word-body\">\r\n                    <div className={selectedTab === 0 ? \"tab-content selected\" : \"tab-content\"}>\r\n                        <WordcloudContainer startingWord={startingWord} />\r\n                    </div>\r\n                    <div className={selectedTab === 1 ? \"tab-content selected\" : \"tab-content\"}>\r\n                        <BabelnetContainer startingWord={startingWord} />\r\n                    </div>\r\n                    <div className={selectedTab === 2 ? \"tab-content selected\" : \"tab-content\"}>\r\n                        <RhymebrainContainer startingWord={startingWord} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React, {useState, useEffect, useRef} from 'react';\r\nimport { Upload, Modal } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport {translate} from \"../helpers\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport function AntUpload ({name,\r\n                            //value = ['https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png','https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png','https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'],\r\n                            value,\r\n                            onChange,\r\n                            max=1})\r\n{\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const [_fileList, setFileList]             = useState([]);\r\n    const [_previewVisible, setPreviewVisible] = useState(false);\r\n    const [_previewImage, setPreviewImage]     = useState(null);\r\n\r\n    const runnedOnce = useRef(false);\r\n\r\n    /*const normFile = e => {\r\n        console.log('Upload event:', e);\r\n        if (Array.isArray(e)) {\r\n            return e;\r\n        }\r\n        return e && e.fileList;\r\n    };*/\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!value || runnedOnce.current)\r\n            return;\r\n\r\n        runnedOnce.current = true;\r\n\r\n        // Se la prima volta che entri qui value è un file\r\n        // vuo dire che nn erano associati file all'oggetto e lo stai aggiungendo adesso\r\n        if(value.isFile/*Array.isArray(value) && value[0] && value[0].originFileObj*/)\r\n            return;\r\n\r\n        let fl = [];\r\n\r\n        if(Array.isArray(value))\r\n            value.forEach((f, idx) => fl.push({uid:idx, url:`${window.global.base_path}${f}`}));\r\n        else\r\n            fl.push({uid:1, url:`${window.global.base_path}${value}`});\r\n\r\n        setFileList(fl);\r\n\r\n    }, [value]);\r\n\r\n    const dummy_request = function({file, onSuccess})\r\n    {\r\n        setTimeout(()=>{\r\n            onSuccess(\"ok\")\r\n        },0);\r\n    };\r\n\r\n    const handle_onChange = function ({file, fileList})\r\n    {\r\n        setFileList(fileList);\r\n        if(onChange)\r\n            onChange(fileList.length > 0 ? {isFile:true, fileList: fileList} : '');\r\n    };\r\n\r\n    /*const handle_upload = function (file, fileList) {\r\n        setFile(fileList)\r\n    };*/\r\n\r\n    const handleCancel = function () {\r\n        setPreviewVisible(false);\r\n    };\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewVisible(true);\r\n    };\r\n\r\n    const getBase64 = (file) =>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div className=\"ant-upload-text\">{translate('uploadImage', ln)}</div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={'ant-upload-container'}>\r\n            <Upload\r\n                 /*fileList={_fileList}*/ /*beforeUpload={handle_upload}*/\r\n                 fileList={_fileList}\r\n                 multiple={true}\r\n                 onChange={handle_onChange}\r\n                 onPreview={handlePreview}\r\n                 customRequest={dummy_request}\r\n                 listType=\"picture-card\"\r\n            >\r\n                {!_fileList || _fileList.length < max ? uploadButton : null}\r\n           </Upload>\r\n            <Modal visible={_previewVisible} footer={null} onCancel={handleCancel}>\r\n                <img alt=\"example\" style={{ width: '100%' }} src={_previewImage} />\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (AntUpload);","import React, {useEffect, useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {translate} from \"./helpers\";\r\nimport { Button, Select, Modal, Row, Col, Popover } from 'antd';\r\nimport { CheckOutlined, BgColorsOutlined } from '@ant-design/icons';\r\nimport { SketchPicker } from 'react-color';\r\nimport { AntUpload } from \"./CustomFormInput/AntUpload\";\r\n\r\nimport '../style/image-gallery.css'\r\n\r\nexport default function ImageGallery({isOpened, closeGallery, type}) {\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const bg1 = [\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/forest.png\",\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/sky.png\",\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/anchor-156720_960_720.png\",\r\n            _id:'156720_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/astronaut-background-cartoon-cosmonaut.jpg\",\r\n            _id:'cosmonaut'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/astronaut-cartoon-earth-exploration.jpg\",\r\n            _id:'exploration'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/atmosphere-vehicle-space-circle-outer-space-earth-1405991-pxhere.com.png\",\r\n            _id:'1405991'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/beach-4496830_960_720.png\",\r\n            _id:'4496830_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/cartoon-background-nature.jpg\",\r\n            _id:'nature'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/cartoon-livingroom.png\",\r\n            _id:'livingroom'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/cartoon-nature-lake.jpg\",\r\n            _id:'lake'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/cartoon-nature_2.jpg\",\r\n            _id:'nature_2'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/country-32248_960_720.png\",\r\n            _id:'32248_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/forest.jpg\",\r\n            _id:'forestforest'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/globe-308991_960_720.png\",\r\n            _id:'308991_960_720'\r\n\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/kitchen-294596_960_720.png\",\r\n            _id:'294596_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/mare-molo.jpg\",\r\n            _id:'mare-molo'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/nature.jpg\",\r\n            _id:'naturecccc'\r\n        },\r\n    ];\r\n    const bg2 = [\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/nature-2679131_1280.jpg\",\r\n            _id:'2679131_1280'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/nature-2829157_1280.png\",\r\n            _id:'2829157_1280'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/nature-4407819_960_720.png\",\r\n            _id:'4407819_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/night-rocket-sky-astronomy-blue-bright-1574183-pxhere.com.jpg\",\r\n            _id:'1574183'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/ocean-background-4090017_960_720.jpg\",\r\n            _id:'4090017_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/playground-2108649_960_720.png\",\r\n            _id:'2108649_960_720'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/seascape-backdrop.jpg\",\r\n            _id:'seascape-backdrop.'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/sunset.JPG\",\r\n            _id:'sunset'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/the-house-in-the-field.jpg\",\r\n            _id:'house-in-the-fie'\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"backgrounds/tree-sky-air-balloon-hot-air-balloon-wind-1210393-pxhere.com.jpg\",\r\n            _id:'1210393'\r\n        }\r\n    ];\r\n\r\n    const fantastic_characters = [\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/001-centaur.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/002-kraken.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/003-dinosaur.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/004-tree-1.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/005-hand.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/006-echidna.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/007-robot.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/008-mushroom.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/009-harpy.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/010-phoenix.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/011-dragon-1.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/012-devil.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/013-troll.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/014-alien.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/015-minotaur.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/016-madre-monte.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/017-satyr.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/018-karakasakozou.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/019-pirate.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/020-werewolf.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/021-scarecrow.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/022-valkyrie.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/023-curupira.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/024-loch-ness-monster.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/025-tree.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/026-cerberus.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/027-gryphon.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/028-mermaid.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/029-vampire.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/030-goblin.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/031-yeti.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/032-leprechaun.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/033-medusa.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/034-chimera.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/035-elf.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/036-hydra.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/037-cyclops.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/038-pegasus.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/039-narwhal.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/040-woodcutter.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/041-zombie.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/042-dragon.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/043-frankenstein.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/044-witch.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/045-fairy.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/046-genie.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/047-pinocchio.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/048-ghost.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/049-wizard.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"fantastic-characters/050-unicorn.png\"\r\n        },\r\n        // {\r\n        //     path: window.STATIC.IMAGE_BASE_PATH + \"storylet-prof.png\"\r\n        // }\r\n    ];\r\n    const sea_life = [\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/001-octopus.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/002-crab.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/003-oyster.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/004-dolphin.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/005-starfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/006-flounder.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/007-shark.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/008-whale.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/009-fish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/010-swordfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/011-turtle.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/012-jellyfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/013-seahorse.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/014-puffer-fish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/015-sea-cow.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/016-orca.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/017-squid.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/018-coral.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/019-manta-ray.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/020-lobster.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/021-clam.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/022-seaweed.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/023-tuna.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/024-stingray.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/025-seal.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/026-eel.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/027-seagull.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/028-shrimp.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/029-anglerfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/030-beluga.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/031-walrus.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/032-narwhal.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/033-diver.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/034-penguin.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/035-hammerhead-fish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/036-hermit-crab.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/037-clownfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/038-surgeon-fish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/039-angelfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/040-sunfish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/041-sea-anemone.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/042-coral-1.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/043-fish-1.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/044-fish-2.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/045-cod.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/046-cuttlefish.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/047-nautilus.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/048-puffin.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/049-mussel.png\"\r\n        },\r\n        {\r\n            path: window.STATIC.IMAGE_BASE_PATH + \"sea-life/050-sea-urchin.png\"\r\n        }\r\n    ];\r\n\r\n    const [images, setImages] = useState([]);\r\n    const [selectedGallery, setSelectedGallery] = useState([]);\r\n    const [selectedColor, setSelectedColor] = useState('#fafafa');\r\n    const [selectedImg, setSelectedImg] = useState({});\r\n    const [uploadedImg, setUploadedImg] = useState(null);\r\n\r\n    useEffect(()=>{\r\n        if(!type)\r\n            return;\r\n        const uploads = [];\r\n\r\n        if(window.RESOURCES && window.RESOURCES.IMAGES)\r\n            for(let i=0; i<window.RESOURCES.IMAGES.length; i++)\r\n                if(window.RESOURCES.IMAGES[i].type === type)\r\n                    uploads.push(window.RESOURCES.IMAGES[i]);\r\n\r\n        images[0] = uploads;\r\n        if(type === 'background') {\r\n            images[1] = bg1;\r\n            images[2] = bg2;\r\n        } else if(type === 'image') {\r\n            images[1] = fantastic_characters;\r\n            images[2] = sea_life;\r\n        }\r\n\r\n        setImages(images);\r\n        setSelectedGallery(uploads.length ? images[0] :  images[1]);\r\n    }, [type]);\r\n\r\n    function selectGallery(idx) {\r\n        setSelectedGallery(images[idx]);\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let options = [];\r\n        if(hasUploads())\r\n            options.push(<Option key={0} value=\"0\">{translate('optionUploads', ln)}</Option>)\r\n        if(type === 'background') {\r\n            options.push(<Option key={1} value=\"1\">{translate('optionBG1', ln)}</Option>)\r\n            options.push(<Option key={2} value=\"2\">{translate('optionBG2', ln)}</Option>)\r\n        } else if(type === 'image') {\r\n            options.push(<Option key={1} value=\"1\">{translate('fantasticCharacters', ln)}</Option>)\r\n            options.push(<Option key={2} value=\"2\">{translate('seaLife', ln)}</Option>)\r\n        }\r\n        return options;\r\n    };\r\n\r\n    const hasUploads = () => {\r\n        return images[0] && images[0].length;\r\n    };\r\n\r\n    const { Option } = Select;\r\n\r\n    const isSelected = (id) => {\r\n        if(selectedImg._id)\r\n            return selectedImg._id === id;\r\n        return selectedImg.path === id;\r\n    };\r\n\r\n    const handleItemClick = (item) => {\r\n        setSelectedImg(item);\r\n    };\r\n\r\n    const handleChangeComplete = (color) => {\r\n        setSelectedColor('rgba('+color.rgb.r+','+color.rgb.g+','+color.rgb.b+','+color.rgb.a+')');\r\n    };\r\n\r\n    const onUploadChange = ({fileList}) => {\r\n        setUploadedImg(fileList);\r\n    };\r\n\r\n    return (\r\n        <Modal title={type==='image' ? translate('selectImage', ln) : translate('selectBackground', ln)}\r\n            visible={isOpened} width={'60vw'}\r\n            bodyStyle={{maxHeight:'60vh', overflowX:'auto', backgroundColor:'transparent', padding:8}}\r\n            onOk={() => closeGallery(selectedImg, selectedColor, type, uploadedImg)}\r\n            onCancel={() => closeGallery({_id:'@close'})}\r\n\r\n            footer={[\r\n                <Select key=\"select\" defaultValue={hasUploads() ? \"0\" : \"1\"} onChange={selectGallery}>\r\n                    {getOptions()}\r\n                </Select>,\r\n                <Button key=\"cancel\" onClick={() => closeGallery({_id:'@close'})}>{translate('buttonCancel', ln)}</Button>,\r\n                <Button key=\"ok\" type=\"primary\" onClick={() => closeGallery(selectedImg, selectedColor, type, uploadedImg)}>{translate('buttonOk', ln)}</Button>\r\n            ]}\r\n        >\r\n            <Row className={'ant-image-grid'} gutter={[8, 8]}>\r\n                <Col key={'@upload'} span={8}>\r\n                    <div className={'upload' + (isSelected('@upload') ? ' selected' : '')}\r\n                         onClick={()=>handleItemClick({_id:'@upload'})}\r\n                    >\r\n                        <AntUpload max={1} onChange={onUploadChange} />\r\n                        <CheckOutlined className={'check'} />\r\n                    </div>\r\n                </Col>\r\n\r\n                {type === 'background' ? <Col key={'@color'} span={8}>\r\n                    <Popover content={(<SketchPicker color={selectedColor} onChangeComplete={handleChangeComplete}/>)}\r\n                             trigger=\"click\">\r\n                        <div className={'select-color' + (isSelected('@color') ? ' selected' : '')}\r\n                             onClick={() => handleItemClick({_id: '@color'})}\r\n                             style={{backgroundColor: selectedColor}}\r\n                        >\r\n                            <div className={'select-color-label'}>\r\n                                <BgColorsOutlined/>\r\n                                <div>{translate('selectColor', ln)}</div>\r\n                            </div>\r\n                            <CheckOutlined className={'check'}/>\r\n                        </div>\r\n                    </Popover>\r\n                </Col> : ''}\r\n                {selectedGallery.map(function(item, idx){\r\n                    return (\r\n                        <Col key={idx} span={8}>\r\n                            <div className={'img-preview' + (isSelected(item._id || item.path) ? ' selected' : '')}\r\n                                 style={{backgroundImage: 'url(' + item.path + ')'}}\r\n                                 onClick={()=>handleItemClick(item)}\r\n                            >\r\n                                {item.name ? <div className={'name'}>{item.name}</div> : ''}\r\n                                <CheckOutlined className={'check'} />\r\n                            </div>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </Row>\r\n        </Modal>\r\n    )\r\n};","const setSlidesData = (data) => {\r\n    return {\r\n        type: 'SET_SLIDES_DATA',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default setSlidesData","import React, {useState, useEffect, useRef} from 'react';\r\nimport {useSelector, useDispatch, batch} from 'react-redux'\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { Input } from 'antd';\r\nimport axios from \"axios\";\r\nimport WordContainer from './word-container'\r\nimport ImageGallery from '../image-gallery'\r\n// import DataletsCreator from '../datalets-creator'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChartBar, faComment, faLightbulb, faFileImage, faImage } from '@fortawesome/free-regular-svg-icons'\r\nimport { faFont, faPlusCircle, faTrashAlt, faCopy, faPlay, faArrowAltCircleUp, faArrowAltCircleDown, faUndo, faRedo } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport '../../style/container/menu-container.css'\r\nimport '../../vendor/tooltip.css';\r\n\r\nimport setSlidesData from \"../../reducer/actions/set-slides-data\";\r\nimport selectSlide from \"../../reducer/actions/select-slide\";\r\nimport selectComponent from \"../../reducer/actions/select-component\";\r\n\r\nimport {translate} from \"../helpers\";\r\n// import copyComponent from \"../../reducer/actions/copy-component\";\r\n\r\nexport default function MenuContainer() {\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const slidesData = useSelector(state => state.slidesData);\r\n    const selectedSlide = useSelector(state => state.selectedSlide);\r\n    const selectedComponent = useSelector(state => state.selectedComponent);\r\n\r\n    const [slideIdx, setSlideIdx] = useState(null);\r\n    // const [componentIdx, setComponentIdx] = useState(null);\r\n\r\n    const [startingWord, setStartingWord] = useState([]);\r\n    const searchKey = useRef(null);\r\n\r\n    const [isOpened, setIsOpened] = useState(false);\r\n    // const [isCreatorOpened, setIsCreatorOpened] = useState(false);\r\n    const [imagesType, setImagesType] = useState(false);\r\n    const [undoPointer, setUndoPointer] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        if(!selectedSlide)\r\n            return;\r\n\r\n        setSlideIdx(selectedSlide.index);\r\n    }, [selectedSlide]);\r\n\r\n    useEffect(()=>{\r\n        if(!selectedComponent)\r\n            return;\r\n\r\n        // setComponentIdx(selectedComponent.index);\r\n    }, [selectedComponent]);\r\n\r\n    const play_story = async () => {\r\n        window.open(window.STATIC.SITE_URL + 'storylet-viewer/' + window.STORY.DATA.id,'_blank')\r\n    };\r\n\r\n    // function confirm(e) {\r\n    //     play_story();\r\n    // }\r\n    //\r\n    // function cancel(e) {\r\n    //     play_story()\r\n    // }\r\n\r\n    const get_words = async () => {\r\n        setStartingWord([searchKey.current.state.value]);\r\n    };\r\n\r\n    const add_text = (isBalloon) =>  {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        let index = data[slideIdx].components.length;\r\n        // setComponentIdx(index);\r\n\r\n        let component = {\r\n            \"index\": index,\r\n            \"type\": \"text\",\r\n            \"subType\": \"balloon\",\r\n            \"value\": isBalloon ? translate('newSpeech', ln) : translate('newText', ln),\r\n            \"x\": 0,\r\n            \"y\": 0,\r\n            \"w\": 40,\r\n            \"h\": 20,\r\n            \"scale\": [1,1],\r\n            \"rotate\": 0,\r\n            \"keepRatio\": false,\r\n            \"zIndex\": 1,\r\n            \"fontSize\": 24,\r\n            \"color\": \"#000000\",\r\n            \"fontFamily\": '\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif',\r\n            \"balloon\": isBalloon ? \"balloon speech\" : \"\",\r\n            \"placement\": 'BL',\r\n        };\r\n\r\n        data[slideIdx].components.push(component);\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[slideIdx]));\r\n            dispatch(selectComponent(component));\r\n        });\r\n    };\r\n\r\n    const open_gallery = (type) => {\r\n        setImagesType(type);\r\n        setIsOpened(true);\r\n    };\r\n\r\n    const close_gallery = async (item, color, type, uploadedImg) => {\r\n        if(item._id === '@close') {\r\n            setIsOpened(false);\r\n        }\r\n        else if(item._id === '@color') {\r\n            let data = cloneDeep(slidesData);\r\n\r\n            data[slideIdx].background = undefined;\r\n            data[slideIdx].backgroundColor = color;\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data));\r\n                dispatch(selectSlide(data[slideIdx]));\r\n            });\r\n\r\n            setIsOpened(false);\r\n        }\r\n        else if(item._id === '@upload') {\r\n            //todo background or image?\r\n            console.log(uploadedImg);\r\n            console.log('Aloha Andrea!');\r\n\r\n            let formData = new FormData();\r\n            let imagefile = uploadedImg[0].originFileObj;\r\n            formData.append(\"files\", imagefile);\r\n            let resposne = await axios.post(window.API_ENDPOINT.ADD_STUDENT_IMAGE, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n\r\n            console.log(resposne.data);\r\n\r\n        }\r\n        else if(type === 'background') {\r\n            let data = cloneDeep(slidesData);\r\n\r\n            data[slideIdx].background = item.path;\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data));\r\n                dispatch(selectSlide(data[slideIdx]));\r\n            });\r\n\r\n            setIsOpened(false);\r\n        }\r\n        else if(type === 'image') {\r\n            let data = cloneDeep(slidesData);\r\n\r\n            let index = data[slideIdx].components.length;\r\n            // setComponentIdx(index);\r\n\r\n            let component = {\r\n                \"index\": index,\r\n                \"type\": \"image\",\r\n                \"x\": 0,\r\n                \"y\": 0,\r\n                \"w\": 40,\r\n                // \"h\": e.target.height / e.target.width * 40,\r\n                \"h\": 40,\r\n                \"scale\": [1,1],\r\n                \"rotate\": 0,\r\n                \"keepRatio\": true,\r\n                \"zIndex\": 0,\r\n                \"src\": item.path\r\n            };\r\n\r\n            data[slideIdx].components.push(component);\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data));\r\n                dispatch(selectSlide(data[slideIdx]));\r\n                dispatch(selectComponent(component));\r\n            });\r\n\r\n            setIsOpened(false);\r\n        }\r\n    };\r\n\r\n    // const open_creator = () => {\r\n    //     setIsCreatorOpened(true);\r\n    // };\r\n    //\r\n    // const add_datalet = () => {\r\n    //     alert('add datalet');\r\n    //     setIsCreatorOpened(false);\r\n    // };\r\n\r\n    const update_slides_index = (data, idx) => {\r\n        for(let i = idx; i<data.length; i++)\r\n            data[i].index +=1;\r\n    };\r\n\r\n    const add_slide = () => {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        let slide = {\r\n            id: Math.random().toString(36).substr(2, 8).toUpperCase(),\r\n            index:  data.length,\r\n            background: \"\",\r\n            components: [],\r\n            type: \"\"\r\n        };\r\n\r\n        if(slideIdx !== null)\r\n        {\r\n            slide.index = slideIdx + 1;\r\n            update_slides_index(data, slideIdx + 1);\r\n            data.splice(slideIdx + 1, 0, slide);\r\n        } else {\r\n            data.push(slide);\r\n        }\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[slideIdx+1]));\r\n            dispatch(selectComponent(null));\r\n        });\r\n    };\r\n\r\n    const copy_slide = () => {\r\n        let data = cloneDeep(slidesData);\r\n        let cloned_node = cloneDeep(data[slideIdx]);\r\n\r\n        cloned_node.id = Math.random().toString(36).substr(2, 8).toUpperCase();\r\n\r\n        update_slides_index(data, slideIdx);\r\n        data.splice(slideIdx, 0, cloned_node);\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[slideIdx+1]));\r\n            dispatch(selectComponent(null));\r\n        });\r\n    };\r\n\r\n    const remove_slide = () => {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        // if 1 slide return\r\n        if(data.length===1) {\r\n            alert('Impossibile eliminare la scena');//todo localization\r\n            return\r\n        }\r\n\r\n        //todo meglio!\r\n        data.splice(slideIdx, 1);\r\n        for(let i = 0; i< data.length; i++)\r\n            data[i].index = i;\r\n\r\n        let goto = slideIdx === 0 ? 0 : slideIdx-1;\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[goto]));\r\n            dispatch(selectComponent(null));\r\n        });\r\n    };\r\n\r\n    const move_up = () => {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        if(slideIdx===0)\r\n            return;\r\n\r\n        data[slideIdx].index -= 1;\r\n        data[slideIdx-1].index += 1;\r\n\r\n        let tmp = data[slideIdx];\r\n        data[slideIdx] = data[slideIdx-1];\r\n        data[slideIdx-1] = tmp;\r\n\r\n        let goto = slideIdx-1;\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[goto]));\r\n            dispatch(selectComponent(null));\r\n        });\r\n    };\r\n\r\n    const move_down = () => {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        if(slideIdx===data.length-1)\r\n            return;\r\n\r\n        data[slideIdx].index += 1;\r\n        data[slideIdx+1].index -= 1;\r\n\r\n        let tmp = data[slideIdx];\r\n        data[slideIdx] = data[slideIdx+1];\r\n        data[slideIdx+1] = tmp;\r\n\r\n        let goto = slideIdx+1;\r\n\r\n        batch(() => {\r\n            dispatch(setSlidesData(data));\r\n            dispatch(selectSlide(data[goto]));\r\n            dispatch(selectComponent(null));\r\n        });    };\r\n\r\n    /*ctrl-z*/\r\n    useEffect(()=>{\r\n        // console.log('pointer: ' + undoPointer);\r\n        document.removeEventListener(\"keydown\", undo_redo);\r\n        document.addEventListener(\"keydown\", undo_redo);\r\n        return function cleanup() {\r\n            document.removeEventListener(\"keydown\", undo_redo);\r\n        };\r\n    }, [undoPointer]);\r\n\r\n    useEffect(() => {\r\n        if(!slidesData || slidesData.length===0)\r\n            return;\r\n\r\n        if(selectedComponent !== 0) { // not if undo\r\n            let data = cloneDeep(slidesData);\r\n            let history = cloneDeep(window.HISTORY.DATA);\r\n            window.HISTORY.DATA = history.slice(0, undoPointer+1);\r\n\r\n            window.HISTORY.DATA.push(\r\n                {\r\n                    slidesData: data,\r\n                    slideIdx: slideIdx || data[0].index,\r\n                }\r\n            );\r\n\r\n            if(window.HISTORY.DATA.length > 6) // todo limit 5 undo\r\n                window.HISTORY.DATA.shift();\r\n\r\n            setUndoPointer(window.HISTORY.DATA.length-1);\r\n        }\r\n\r\n        // console.log(window.HISTORY.DATA.length + ' elementi');\r\n\r\n    }, [slidesData]);\r\n\r\n    const undo_redo = (event) => {\r\n        let key = event.which || event.keyCode; // keyCode detection\r\n        let ctrl = event.ctrlKey ? event.ctrlKey : key === 17; // ctrl detection\r\n\r\n        if (event === '@undo' || (key === 90 && ctrl)) {\r\n            if(undoPointer === 0)\r\n                return;\r\n            // console.log('UNDO '+(undoPointer-1));\r\n            let data = cloneDeep(window.HISTORY.DATA[undoPointer-1]);\r\n            setUndoPointer(undoPointer => undoPointer-1);\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data.slidesData));\r\n                dispatch(selectSlide(data.slidesData[data.slideIdx]));\r\n                dispatch(selectComponent(0));\r\n            });\r\n        }\r\n        else if (event === '@redo' || (key === 89 && ctrl)) {\r\n            if(undoPointer === window.HISTORY.DATA.length-1)\r\n                return;\r\n            // console.log('REDO '+(undoPointer+1));\r\n            let data = cloneDeep(window.HISTORY.DATA[undoPointer+1]);\r\n            setUndoPointer(undoPointer => undoPointer+1);\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data.slidesData));\r\n                dispatch(selectSlide(data.slidesData[data.slideIdx]));\r\n                dispatch(selectComponent(0));\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div id=\"menu-container\">\r\n                <div className=\"component-buttons-container\" >\r\n                    <div data-tooltip={translate('addText', ln)}>\r\n                        <FontAwesomeIcon icon={faFont} className=\"icon add-text\" onClick={()=> {add_text(false)}} />\r\n                    </div>\r\n                    <div data-tooltip={translate('addBalloon', ln)}>\r\n                        <FontAwesomeIcon icon={faComment} className=\"icon add-balloon\" onClick={()=> {add_text(true)}} />\r\n                    </div>\r\n                    <div data-tooltip={translate('addImage', ln)}>\r\n                        <FontAwesomeIcon icon={faFileImage} className=\"icon add-image\" onClick={()=>open_gallery('image')} />\r\n                    </div>\r\n                    <div data-tooltip={translate('addBackground', ln)}>\r\n                        <FontAwesomeIcon icon={faImage} className=\"icon add-bg\" onClick={()=>open_gallery('background')} />\r\n                    </div>\r\n                    {/*<div data-tooltip={translate('addDatalet', ln)}>*/}\r\n                    {/*    <FontAwesomeIcon icon={faChartBar} className=\"icon add-datalet\" onClick={()=>open_creator()} />*/}\r\n                    {/*</div>*/}\r\n                    <div className={'menu-separator'}> </div>\r\n                    <div data-tooltip={translate('undo', ln)}>\r\n                        <FontAwesomeIcon icon={faUndo} className=\"icon undo\" onClick={()=>undo_redo('@undo')} />\r\n                    </div>\r\n                    <div data-tooltip={translate('redo', ln)}>\r\n                        <FontAwesomeIcon icon={faRedo} className=\"icon undo\" onClick={()=>undo_redo('@redo')} />\r\n                    </div>\r\n                    <div className={'menu-separator'}> </div>\r\n                    <div data-tooltip={translate('playStoryPreview', ln)}>\r\n                        <FontAwesomeIcon icon={faPlay} className=\"icon open-preview\" onClick={play_story} />\r\n                        {/*<Popconfirm*/}\r\n                        {/*    placement=\"right\"*/}\r\n                        {/*    title={translate('saveBeforePlay', ln)}*/}\r\n                        {/*    onConfirm={confirm}*/}\r\n                        {/*    onCancel={cancel}*/}\r\n                        {/*    okText={translate('yes', ln)}*/}\r\n                        {/*    cancelText={translate('no', ln)}*/}\r\n                        {/*>*/}\r\n                        {/*    <FontAwesomeIcon icon={faPlay} className=\"icon open-preview\" />*/}\r\n                        {/*</Popconfirm>*/}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"slide-buttons-container\">\r\n                    <div data-tooltip={translate('moveUpSlide', ln)}>\r\n                        <FontAwesomeIcon icon={faArrowAltCircleUp} className=\"icon move-up-slide\" onClick={move_up} />\r\n                    </div>\r\n                    <div data-tooltip={translate('moveDownSlide', ln)}>\r\n                        <FontAwesomeIcon icon={faArrowAltCircleDown} className=\"icon move-down-slide\" onClick={move_down} />\r\n                    </div>\r\n                    <div data-tooltip={translate('removeSlide', ln)}>\r\n                        <FontAwesomeIcon icon={faTrashAlt} className=\"icon remove-slide\" onClick={remove_slide} />\r\n                    </div>\r\n                    <div data-tooltip={translate('duplicateSlide', ln)}>\r\n                        <FontAwesomeIcon icon={faCopy} className=\"icon duplicate-slide\" onClick={copy_slide} />\r\n                    </div>\r\n                    <div data-tooltip={translate('addSlide', ln)}>\r\n                        <FontAwesomeIcon icon={faPlusCircle} className=\"icon add-slide\" onClick={add_slide} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"find-ideas\">\r\n                    <div data-tooltip={translate('fantasyHelper', ln)}>\r\n                        <FontAwesomeIcon icon={faLightbulb} className=\"icon\" onClick={get_words} />\r\n                    </div>\r\n                    <Input placeholder={translate('keyword', ln)}\r\n                           id=\"SearchKey\" ref={searchKey}\r\n                           onKeyPress={(e)=>{if (e.key === 'Enter') get_words()}} />\r\n                </div>\r\n            </div>\r\n\r\n            <WordContainer startingWord={startingWord} />\r\n\r\n            <ImageGallery isOpened={isOpened} type={imagesType} closeGallery={close_gallery} />\r\n\r\n            {/*<DataletsCreator isOpened={isCreatorOpened} addDatalet={add_datalet} />*/}\r\n        </>\r\n    )\r\n};","import React, {useEffect} from 'react'\r\nimport MenuContainer from './menu-container'\r\nimport Slide from '../slide'\r\n\r\nimport {batch, useDispatch, useSelector} from 'react-redux'\r\n\r\nimport '../../style/container/stage-container-style.css'\r\nimport componentSelected from \"../../reducer/actions/select-component\";\r\nimport setSlidesData from \"../../reducer/actions/set-slides-data\";\r\nimport selectSlide from \"../../reducer/actions/select-slide\";\r\n\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nexport default function StageContainer({isSettingVisible}) {\r\n    const dispatch = useDispatch();\r\n    const selectedSlide = useSelector(state => state.selectedSlide);\r\n    const copiedComponent = useSelector(state => state.copiedComponent);\r\n    const slidesData = useSelector(state => state.slidesData);\r\n\r\n    useEffect(()=>{\r\n        document.removeEventListener('keydown', add_component);\r\n        if(!copiedComponent || !selectedSlide)\r\n            return;\r\n        document.addEventListener(\"keydown\", add_component);\r\n        return function cleanup() {\r\n            document.removeEventListener('keydown', add_component);\r\n        };\r\n    }, [selectedSlide, copiedComponent]);\r\n\r\n    const add_component = (event) =>\r\n    {\r\n        let key = event.which || event.keyCode;\r\n        let ctrl = event.ctrlKey ? event.ctrlKey : key === 17;\r\n\r\n        if ( key === 86 && ctrl ) {\r\n            // alert('add ' + copiedComponent.src)\r\n            let data = cloneDeep(slidesData);\r\n            let component = cloneDeep(copiedComponent);\r\n\r\n            component.index = selectedSlide.components.length;\r\n\r\n            data[selectedSlide.index].components.push(component);\r\n\r\n            batch(() => {\r\n                dispatch(setSlidesData(data));\r\n                dispatch(selectSlide(data[selectedSlide.index]));\r\n                dispatch(componentSelected(component));\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div id=\"stage-container\">\r\n            <MenuContainer />\r\n            <div id=\"slide-wrapper\" onClick={(e) => {if(e.target.id === 'slide-wrapper' || e.target.id.indexOf('slide_') > -1) dispatch(componentSelected(null))}} >\r\n                {selectedSlide ? (<Slide isSettingVisible={isSettingVisible} parameters={selectedSlide} isEditable={true} />) : null}\r\n            </div>\r\n        </div>\r\n    )\r\n};","const copyComponent = (data) => {\r\n    return {\r\n        type: 'COPY_COMPONENT',\r\n        payload: data\r\n    };\r\n};\r\n\r\nexport default copyComponent","import React, {useState, useEffect} from 'react';\r\nimport {useSelector, useDispatch, batch} from 'react-redux'\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { Form, Input, InputNumber, Select, Button, Row, Col, Divider, Tooltip, Popover } from 'antd';\r\nimport {\r\n    LockOutlined, UnlockOutlined, EyeOutlined, RotateRightOutlined,\r\n    BoldOutlined, ItalicOutlined, UnderlineOutlined, ClearOutlined,\r\n    FontColorsOutlined, HighlightOutlined, BgColorsOutlined, AlignCenterOutlined,\r\n    AlignLeftOutlined, AlignRightOutlined\r\n} from '@ant-design/icons';\r\nimport { SketchPicker } from 'react-color';\r\nimport {translate} from \"./helpers\";\r\n\r\nimport '../style/properties.css';\r\n\r\nimport setSlideData from \"../reducer/actions/set-slides-data\";\r\nimport setSelectComponent from \"../reducer/actions/select-component\";\r\nimport setSelectSlide from \"../reducer/actions/select-slide\";\r\nimport copyComponent from \"../reducer/actions/copy-component\";\r\n\r\nexport default function Properties() {\r\n    const dispatch = useDispatch();\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n    const slidesData = useSelector(state => state.slidesData);\r\n    const selectedSlide = useSelector(state => state.selectedSlide);\r\n    const selectedComponent = useSelector(state => state.selectedComponent);\r\n\r\n    const [selectedText, setSelectedText] = useState({startIndex:0, length:0});\r\n\r\n    const [form] = Form.useForm();\r\n    const size = window.screen.width <= 1280 ? \"small\" : \"middle \"; //todo large?\r\n    const top = window.screen.width <= 1280 ? 4 : 0; //todo large?\r\n\r\n    useEffect(()=>{\r\n        if(!slidesData || !selectedSlide || !selectedComponent)\r\n            return;\r\n\r\n        let component = slidesData[selectedSlide.index].components[selectedComponent.index];\r\n\r\n        setProperties(component);\r\n\r\n    }, [slidesData]);\r\n\r\n    useEffect(()=>{\r\n        document.removeEventListener(\"keydown\", copyAnPaste);\r\n        document.removeEventListener('keydown', canc);\r\n\r\n        if(!selectedComponent)\r\n            return;\r\n\r\n        setProperties(selectedComponent);\r\n\r\n        document.addEventListener(\"keydown\", copyAnPaste);\r\n        document.addEventListener('keydown', canc);\r\n        return function cleanup() {\r\n            document.removeEventListener(\"keydown\", copyAnPaste);\r\n            document.removeEventListener('keydown', canc);\r\n        };\r\n    }, [selectedComponent]);\r\n\r\n    const setProperties = (component) => {\r\n        form.setFieldsValue({\r\n            width: Math.round(component.w * 10) / 10,\r\n            height: Math.round(component.h * 10) / 10,\r\n            keepRatio: selectedComponent.keepRatio,\r\n            top: Math.round(component.x * 10) / 10,\r\n            left: Math.round(component.y * 10) / 10,\r\n            zIndex: component.zIndex,\r\n            scaleX: Math.round(component.scale[0] * 10) / 10,\r\n            scaleY: Math.round(component.scale[1] * 10) / 10,\r\n            rotate: Math.round(component.rotate * 10) / 10,\r\n\r\n            // textValue: component.value,\r\n            textValue: component.value ? component.value.replace(/<\\/?[^>]+(>|$)/g, \"\") : null,\r\n            fontFamily: selectedComponent.fontFamily,\r\n            fontSize: selectedComponent.fontSize,\r\n            color: selectedComponent.color,\r\n            fontWeight: selectedComponent.fontWeight,\r\n            fontStyle: selectedComponent.fontStyle,\r\n            textDecoration: selectedComponent.textDecoration,\r\n            textAlign: selectedComponent.textAlign,\r\n            backgroundColor: selectedComponent.backgroundColor,\r\n            balloon: selectedComponent.balloon,\r\n            placement: selectedComponent.placement\r\n        });\r\n    };\r\n\r\n    // Miscellaneous\r\n\r\n    const copyAnPaste = (event) => {\r\n        if(!selectedComponent)\r\n            return;\r\n        let key = event.which || event.keyCode; // keyCode detection\r\n        let ctrl = event.ctrlKey ? event.ctrlKey : key === 17; // ctrl detection\r\n\r\n        if ( key === 67 && ctrl ) {\r\n            let copiedComponent = cloneDeep(selectedComponent);\r\n            // copiedComponent.id = Math.random().toString(36).substr(2, 8).toUpperCase();\r\n            copiedComponent.index = null;\r\n            copiedComponent.x = 0;\r\n            copiedComponent.y = 0;\r\n            dispatch(copyComponent(copiedComponent));\r\n        }\r\n    };\r\n\r\n    const canc = (event) => {\r\n        if(event.keyCode === 46 && document.activeElement.tagName==='BODY')\r\n            removeComponent();\r\n    };\r\n\r\n    const removeComponent = () => {\r\n        let sd = cloneDeep(slidesData);\r\n        sd[selectedSlide.index].components.splice(selectedComponent.index,1);\r\n\r\n        for(let i=0; i<sd[selectedSlide.index].components.length; i++)\r\n            sd[selectedSlide.index].components[i].index = i;\r\n\r\n        let selected = cloneDeep(selectedSlide);\r\n        selected.components.splice(selectedComponent.index,1);\r\n\r\n        for(let i=0; i<selected.components.length; i++)\r\n            selected.components[i].index = i;\r\n\r\n        batch(() => {\r\n            dispatch(setSlideData(sd));\r\n            dispatch(setSelectSlide(selected));\r\n            dispatch(setSelectComponent(null));\r\n        });\r\n    };\r\n\r\n    const setTextProperties = (prop, val) => {\r\n        let slideIdx = selectedSlide.index;\r\n        let componentIdx = selectedComponent.index;\r\n\r\n        let data = cloneDeep(slidesData);\r\n\r\n        if(selectedText.length > 0) {\r\n            let value = data[slideIdx].components[componentIdx].value;\r\n            if(prop==='fontWeight')\r\n                data[slideIdx].components[componentIdx].value = formatSelected(value, 'font-weight:bold;');\r\n            else if(prop==='fontStyle')\r\n                data[slideIdx].components[componentIdx].value = formatSelected(value, 'font-style:italic;');\r\n            else if(prop==='textDecoration')\r\n                data[slideIdx].components[componentIdx].value = formatSelected(value, 'text-decoration:underline;');\r\n        }\r\n        else if(prop==='fontWeight') {\r\n            if (selectedComponent.fontWeight === undefined || selectedComponent.fontWeight === 'normal')\r\n                data[slideIdx].components[componentIdx].fontWeight = 'bold';\r\n            else\r\n                data[slideIdx].components[componentIdx].fontWeight = 'normal';\r\n        } else if(prop==='fontStyle') {\r\n            if(selectedComponent.fontStyle === undefined || selectedComponent.fontStyle === 'normal')\r\n                data[slideIdx].components[componentIdx].fontStyle = 'italic';\r\n            else\r\n                data[slideIdx].components[componentIdx].fontStyle = 'normal';\r\n        } else if(prop==='textDecoration') {\r\n            if(selectedComponent.textDecoration === undefined || selectedComponent.textDecoration === 'none')\r\n                data[slideIdx].components[componentIdx].textDecoration = 'underline';\r\n            else\r\n                data[slideIdx].components[componentIdx].textDecoration = 'none';\r\n        } else if(prop==='textAlign') {\r\n                data[slideIdx].components[componentIdx].textAlign = val;\r\n        } else if(prop==='clear') {\r\n            data[slideIdx].components[componentIdx].value = data[slideIdx].components[componentIdx].value.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n            data[slideIdx].components[componentIdx].fontFamily = '\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif';\r\n            data[slideIdx].components[componentIdx].fontSize = 24;\r\n            data[slideIdx].components[componentIdx].color = undefined;\r\n            data[slideIdx].components[componentIdx].backgroundColor = undefined;\r\n            data[slideIdx].components[componentIdx].fontWeight = undefined;\r\n            data[slideIdx].components[componentIdx].fontStyle = undefined;\r\n            data[slideIdx].components[componentIdx].textDecoration = undefined;\r\n            data[slideIdx].components[componentIdx].textAlign = undefined;\r\n        }\r\n\r\n        batch(() => {\r\n            dispatch(setSlideData(data));\r\n            dispatch(setSelectSlide(data[slideIdx]));\r\n            dispatch(setSelectComponent(data[slideIdx].components[componentIdx]));\r\n        });\r\n    };\r\n\r\n    const formatSelected = (value, style) => {\r\n            let str = value.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n            let firstPart = str.substr(0,selectedText.startIndex);\r\n            let selectedPart = str.substr(selectedText.startIndex,selectedText.length);\r\n            let lastPart = str.substr(selectedText.startIndex+selectedText.length,str.length);\r\n\r\n            return firstPart + \"<span style='\" + style + \"'>\" + selectedPart + \"</span>\" + lastPart;\r\n    };\r\n\r\n    const switchKeepRatio = () => {\r\n        let changedFields = {keepRatio: !slidesData[selectedSlide.index].components[selectedComponent.index].keepRatio};\r\n\r\n        onValuesChange(changedFields, changedFields);\r\n    };\r\n\r\n    const flip = (direction) => {debugger\r\n        let changedFields;\r\n\r\n        let scale =  slidesData[selectedSlide.index].components[selectedComponent.index].scale;\r\n        if(direction==='H')\r\n            changedFields = {scaleX: -scale[0], scaleY: scale[1]};\r\n        else // V\r\n            changedFields = {scaleX: scale[0], scaleY: -scale[1]};\r\n\r\n        form.setFieldsValue(changedFields);\r\n        onValuesChange(changedFields, changedFields);\r\n    };\r\n\r\n    const bringsUp = () => {\r\n        let maxIndex = 0;\r\n        for(let i=0; i<slidesData[selectedSlide.index].components.length; i++)\r\n            maxIndex = Math.max(maxIndex, slidesData[selectedSlide.index].components[i].zIndex);\r\n\r\n        let changedFields = {zIndex: maxIndex+1};\r\n        form.setFieldsValue(changedFields);\r\n        onValuesChange(changedFields);\r\n    };\r\n\r\n    // Form\r\n    const onValuesChange = (changedFields, allFields) => {\r\n        let _dispatch = false;\r\n        let slideIdx = selectedSlide.index;\r\n        let componentIdx = selectedComponent.index;\r\n        let data = cloneDeep(slidesData);\r\n\r\n        if(changedFields.width !== undefined && !isNaN(changedFields.width) && changedFields.width >= 5 && changedFields.width <= 100) {\r\n            if(selectedComponent.keepRatio) {\r\n                let ratio = changedFields.width / data[slideIdx].components[componentIdx].w;\r\n                data[slideIdx].components[componentIdx].w = changedFields.width;\r\n                data[slideIdx].components[componentIdx].h *= ratio;\r\n            }\r\n            else\r\n                data[slideIdx].components[componentIdx].w = changedFields.width;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.height !== undefined && !isNaN(changedFields.height) && changedFields.height >= 5 && changedFields.height <= 100) {\r\n            if(selectedComponent.keepRatio) {\r\n                let ratio = changedFields.height / data[slideIdx].components[componentIdx].h;\r\n                data[slideIdx].components[componentIdx].h = changedFields.height;\r\n                data[slideIdx].components[componentIdx].w *= ratio;\r\n            }\r\n            else\r\n                data[slideIdx].components[componentIdx].h = changedFields.height;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.top !== undefined && !isNaN(changedFields.top) && changedFields.top >= 0 && changedFields.top <= 100) {\r\n            data[slideIdx].components[componentIdx].x = changedFields.top;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.left !== undefined && !isNaN(changedFields.left) && changedFields.left >= 0 && changedFields.left <= 100) {\r\n            data[slideIdx].components[componentIdx].y = changedFields.left;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.zIndex !== undefined && !isNaN(changedFields.zIndex) && changedFields.zIndex >= 0 && changedFields.zIndex <= 10) {\r\n            data[slideIdx].components[componentIdx].zIndex = changedFields.zIndex;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.scaleX !== undefined && !isNaN(changedFields.scaleX) && ((changedFields.scaleX >= -2 && changedFields.scaleX <= -0.5) || (changedFields.scaleX <= 2 && changedFields.scaleX >= 0.5))){\r\n            data[slideIdx].components[componentIdx].scale = [changedFields.scaleX,allFields.scaleY];\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.scaleY !== undefined && !isNaN(changedFields.scaleY) && ((changedFields.scaleY >= -2 && changedFields.scaleY <= -0.5) || (changedFields.scaleY <= 2 && changedFields.scaleY >= 0.5))){\r\n            data[slideIdx].components[componentIdx].scale = [allFields.scaleX,changedFields.scaleY];\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.rotate !== undefined && !isNaN(changedFields.rotate) && changedFields.rotate >= -180 || changedFields.rotate <= 180){\r\n            data[slideIdx].components[componentIdx].rotate = changedFields.rotate;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.keepRatio !== undefined && typeof changedFields.keepRatio === \"boolean\"){\r\n            data[slideIdx].components[componentIdx].keepRatio = changedFields.keepRatio;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.textValue !== undefined) {\r\n            data[slideIdx].components[componentIdx].value = changedFields.textValue;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.fontFamily !== undefined) {\r\n            data[slideIdx].components[componentIdx].fontFamily = changedFields.fontFamily;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.fontSize !== undefined) {\r\n            data[slideIdx].components[componentIdx].fontSize = changedFields.fontSize;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.color !== undefined) {\r\n            if(selectedText.length > 0)\r\n                data[slideIdx].components[componentIdx].value = formatSelected(data[slideIdx].components[componentIdx].value, 'color:rgba('+changedFields.color.rgb.r+','+changedFields.color.rgb.g+','+changedFields.color.rgb.b+','+changedFields.color.rgb.a+')');\r\n            else\r\n                data[slideIdx].components[componentIdx].color = 'rgba('+changedFields.color.rgb.r+','+changedFields.color.rgb.g+','+changedFields.color.rgb.b+','+changedFields.color.rgb.a+')';\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.backgroundColor !== undefined) {\r\n            if(selectedText.length > 0)\r\n                data[slideIdx].components[componentIdx].value = formatSelected(data[slideIdx].components[componentIdx].value, 'background-color:rgba('+changedFields.backgroundColor.rgb.r+','+changedFields.backgroundColor.rgb.g+','+changedFields.backgroundColor.rgb.b+','+changedFields.backgroundColor.rgb.a+')');\r\n            else\r\n                data[slideIdx].components[componentIdx].backgroundColor = 'rgba('+changedFields.backgroundColor.rgb.r+','+changedFields.backgroundColor.rgb.g+','+changedFields.backgroundColor.rgb.b+','+changedFields.backgroundColor.rgb.a+')';\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.balloon !== undefined) {\r\n            data[slideIdx].components[componentIdx].balloon = changedFields.balloon;\r\n            _dispatch = true;\r\n        }\r\n        else if(changedFields.placement !== undefined) {\r\n            data[slideIdx].components[componentIdx].placement = changedFields.placement;\r\n            _dispatch = true;\r\n        }\r\n\r\n        if(_dispatch)\r\n            batch(() => {\r\n                dispatch(setSlideData(data));\r\n                dispatch(setSelectSlide(data[slideIdx]));\r\n                dispatch(setSelectComponent(data[slideIdx].components[componentIdx]));\r\n            });\r\n    };\r\n\r\n    return (\r\n        <Form form={form} onValuesChange={onValuesChange}>\r\n            {selectedComponent.type === 'text' ?\r\n                <>\r\n                    {selectedComponent.subType === 'balloon' ?\r\n                        <>\r\n                            <Divider orientation={\"left\"} style={{marginTop: 0}}>{translate('balloon', ln)}</Divider>\r\n                            <Row>\r\n                                <Col span={12}>\r\n                                    <Form.Item labelCol={{span: 8}} wrapperCol={{span: 14}} name={\"balloon\"}\r\n                                               label={translate('balloonType', ln)}>\r\n                                        <Select defaultValue={'balloon speech'} size={size}>\r\n                                            {/*<Select.Option value={''}>{translate('noneOpt', ln)}</Select.Option>*/}\r\n                                            <Select.Option\r\n                                                value={'balloon speech'}>{translate('speechOpt', ln)}</Select.Option>\r\n                                            <Select.Option\r\n                                                value={'balloon thought'}>{translate('thoughtOpt', ln)}</Select.Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item labelCol={{span: 8}} wrapperCol={{span: 14}} name={\"placement\"}\r\n                                               label={translate('balloonPlacement', ln)}>\r\n                                        <Select size={size} defaultValue={'BL'}>\r\n                                            <Select.Option value={'BL'}>{translate('BL', ln)}</Select.Option>\r\n                                            <Select.Option value={'BR'}>{translate('BR', ln)}</Select.Option>\r\n                                            <Select.Option value={'TL'}>{translate('TL', ln)}</Select.Option>\r\n                                            <Select.Option value={'TR'}>{translate('TR', ln)}</Select.Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                        </>: <Divider orientation={\"left\"} style={{marginTop:0}}>{translate('text', ln)}</Divider>\r\n                    }\r\n                    {/*<Divider orientation={\"left\"} style={{marginTop:0}}>{translate('text', ln)}</Divider>*/}\r\n                    <Row className={\"text-properties\"}>\r\n                        <Col span={24}>\r\n                            <Button icon={<BoldOutlined />} size={size} onClick={()=>{setTextProperties('fontWeight')}} />\r\n                            <Button icon={<ItalicOutlined />} size={size} onClick={()=>{setTextProperties('fontStyle')}} />\r\n                            <Button icon={<UnderlineOutlined />} size={size} onClick={()=>{setTextProperties('textDecoration')}} />\r\n                            <Popover content={(<Form.Item name={\"color\"}><SketchPicker color={selectedComponent.color} /></Form.Item>)} trigger=\"click\">\r\n                                <Button icon={<FontColorsOutlined />} size={size} />\r\n                            </Popover>\r\n                            <Button icon={<ClearOutlined />} size={size} onClick={()=>{setTextProperties('clear')}} />\r\n                            <div className={\"h-divider\"}> </div>\r\n                            {selectedComponent.subType === 'balloon' ?\r\n                                <>\r\n                                    <Button icon={<AlignLeftOutlined />} size={size} onClick={()=>{setTextProperties('textAlign', 'left')}} />\r\n                                    <Button icon={<AlignCenterOutlined />} size={size} onClick={()=>{setTextProperties('textAlign', 'center')}} />\r\n                                    <Button icon={<AlignRightOutlined />} size={size} onClick={()=>{setTextProperties('textAlign', 'right')}} />\r\n                                </> : null\r\n                            }\r\n                            <Popover content={(<Form.Item name={\"backgroundColor\"}><SketchPicker color={selectedComponent.backgroundColor} /></Form.Item>)} trigger=\"click\">\r\n                                <Button icon={<BgColorsOutlined />} size={size} />\r\n                            </Popover>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col span={24}>\r\n                            <Form.Item name={\"textValue\"}>\r\n                                <Input.TextArea rows={4} onBlur={(e)=>{setSelectedText({startIndex: e.target.selectionStart, length: window.getSelection().toString().length})}} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col span={18}>\r\n                            <Form.Item name={\"fontFamily\"}>\r\n                                <Select style={{width:'90%'}} defaultValue={0} size={size}>\r\n                                    <Select.Option value={'\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif'}>\"Helvetica Neue\",Roboto,Arial,\"Droid Sans\",sans-serif</Select.Option>\r\n                                    <Select.Option value={'Georgia, serif'}>Georgia, serif</Select.Option>\r\n                                    <Select.Option value={'\"Palatino Linotype\", \"Book Antiqua\", Palatino, serif'}>\"Palatino Linotype\", \"Book Antiqua\", Palatino, serif</Select.Option>\r\n                                    <Select.Option value={'\"Times New Roman\", Times, serif'}>\"Times New Roman\", Times, serif</Select.Option>\r\n                                    <Select.Option value={'Arial, Helvetica, sans-serif'}>Arial, Helvetica, sans-serif</Select.Option>\r\n                                    <Select.Option value={'\"Arial Black\", Gadget, sans-serif'}>\"Arial Black\", Gadget, sans-serif</Select.Option>\r\n                                    <Select.Option value={'\"Comic Sans MS\", cursive, sans-serif'}>\"Comic Sans MS\", cursive, sans-serif</Select.Option>\r\n                                    <Select.Option value={'Impact, Charcoal, sans-serif'}>Impact, Charcoal, sans-serif</Select.Option>\r\n                                    <Select.Option value={'\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif'}>\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif</Select.Option>\r\n                                    <Select.Option value={'Tahoma, Geneva, sans-serif'}>Tahoma, Geneva, sans-serif</Select.Option>\r\n                                    <Select.Option value={'\"Trebuchet MS\", Helvetica, sans-serif'}>\"Trebuchet MS\", Helvetica, sans-serif</Select.Option>\r\n                                    <Select.Option value={'Verdana, Geneva, sans-serif'}>Verdana, Geneva, sans-serif</Select.Option>\r\n                                    <Select.Option value={'\"Courier New\", Courier, monospace'}>\"Courier New\", Courier, monospace</Select.Option>\r\n                                    <Select.Option value={'\"Lucida Console\", Monaco, monospace'}>\"Lucida Console\", Monaco, monospace</Select.Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item name={\"fontSize\"}>\r\n                                <Select style={{width:'100%'}} defaultValue={16} size={size}>\r\n                                    <Select.Option value={8}>8</Select.Option>\r\n                                    <Select.Option value={9}>9</Select.Option>\r\n                                    <Select.Option value={10}>10</Select.Option>\r\n                                    <Select.Option value={11}>11</Select.Option>\r\n                                    <Select.Option value={12}>12</Select.Option>\r\n                                    <Select.Option value={14}>14</Select.Option>\r\n                                    <Select.Option value={16}>16</Select.Option>\r\n                                    <Select.Option value={18}>18</Select.Option>\r\n                                    <Select.Option value={24}>24</Select.Option>\r\n                                    <Select.Option value={30}>30</Select.Option>\r\n                                    <Select.Option value={36}>36</Select.Option>\r\n                                    <Select.Option value={48}>48</Select.Option>\r\n                                    <Select.Option value={60}>60</Select.Option>\r\n                                    <Select.Option value={72}>72</Select.Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </> : null\r\n            }\r\n            <Divider orientation={\"left\"} style={{marginTop:0}}>{translate('size', ln)}</Divider>\r\n            <Row>\r\n                <Col span={12}>\r\n                    <Form.Item name={\"width\"} label={translate('width', ln)} >\r\n                        <InputNumber min={5} max={100} defaultValue={20} size={size} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <Form.Item label={translate('height', ln)} >\r\n                        <Input.Group compact>\r\n                            <Form.Item name={\"height\"}>\r\n                                <InputNumber min={5} max={100} defaultValue={20} size={size} />\r\n                            </Form.Item>\r\n                            <Tooltip title={translate('keepRatio', ln)}>\r\n                                <Button style={{top:top}} type=\"primary\" icon={selectedComponent.keepRatio ? <LockOutlined /> : <UnlockOutlined />} size={size} onClick={switchKeepRatio} />\r\n                            </Tooltip>\r\n                        </Input.Group>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Divider orientation={\"left\"} style={{marginTop:0}}>{translate('position', ln)}</Divider>\r\n            <Row>\r\n                <Col span={12}>\r\n                    <Form.Item name={\"top\"} label={translate('top', ln)}>\r\n                        <InputNumber min={0} max={100} defaultValue={0} size={size} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <Form.Item name={\"left\"} label={translate('left', ln)}>\r\n                        <InputNumber min={0} max={100} defaultValue={0} size={size} />\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={24}>\r\n                    <Form.Item label={translate('zIndex', ln)}>\r\n                        <Input.Group compact>\r\n                            <Form.Item name={\"zIndex\"}>\r\n                                <InputNumber min={0} max={10} defaultValue={0} size={size} />\r\n                            </Form.Item>\r\n                            <Tooltip title={translate('bringsUp', ln)}>\r\n                                <Button style={{top:top}} type=\"primary\" icon={<EyeOutlined />} size={size} onClick={bringsUp} />\r\n                            </Tooltip>\r\n                        </Input.Group>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Divider orientation={\"left\"} style={{marginTop:0}}>{translate('scale', ln)}</Divider>\r\n            <Row>\r\n                <Col span={12}>\r\n                    <Form.Item label={translate('scaleX', ln)}>\r\n                        <Input.Group compact>\r\n                            <Form.Item name={\"scaleX\"}>\r\n                                <InputNumber min={-3} max={3} defaultValue={1} step={0.1} size={size} />\r\n                            </Form.Item>\r\n                            <Tooltip title={translate('flipH', ln)}>\r\n                                <Button style={{top:top}} type=\"primary\" icon={<RotateRightOutlined />} size={size} onClick={()=>flip('H')} />\r\n                            </Tooltip>\r\n                        </Input.Group>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <Form.Item label={translate('scaleY', ln)}>\r\n                        <Input.Group compact>\r\n                            <Form.Item name={\"scaleY\"}>\r\n                                <InputNumber min={-3} max={3} defaultValue={1} step={0.1} size={size} />\r\n                            </Form.Item>\r\n                            <Tooltip title={translate('flipV', ln)}>\r\n                                <Button style={{top:top}} type=\"primary\" icon={<RotateRightOutlined rotate={90} />} size={size} onClick={()=>flip('V')} />\r\n                            </Tooltip>\r\n                        </Input.Group>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Divider orientation={\"left\"} style={{marginTop:0}}>{translate('rotate', ln)}</Divider>\r\n            <Row>\r\n                <Col span={24}>\r\n                    <Form.Item name={\"rotate\"} label={translate('degrees', ln)}>\r\n                        <InputNumber min={-180} max={180} defaultValue={0} size={size} />\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Divider style={{margin:0}}>\r\n                <Button type=\"primary\" danger onClick={removeComponent}>{translate('delete', ln)}</Button>\r\n            </Divider>\r\n        </Form>\r\n    );\r\n};","import React, {useEffect, useState} from 'react'\r\nimport {batch, useDispatch, useSelector} from 'react-redux'\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { Input, Select, Switch } from 'antd';\r\n\r\nimport {translate} from \"../helpers\";\r\n// import TextProperties from '../slide-components/properties/text-properties'\r\n// import ImageProperties from '../slide-components/properties/image-properties'\r\nimport Properties from '../properties'\r\n\r\nimport '../../style/container/properties-container.css'\r\nimport setStorylet from \"../../reducer/actions/set-storylet\";\r\n\r\n// import { useDebounce } from 'use-debounce';\r\nimport { useDebouncedCallback } from 'use-debounce';\r\n\r\nexport default function PropertiesContainer()\r\n{\r\n    const dispatch = useDispatch();\r\n\r\n    const ln = useSelector(state => state.selectedLanguage);\r\n    const storylet = useSelector(state => state.storylet);\r\n    const selectedComponent = useSelector(state => state.selectedComponent);\r\n    const [selectedTab, setSelectedTab] = useState(1);\r\n    const [autoplay, setAutoplay] = useState(false);\r\n    const [template, setTemplate] = useState(\"linear\");\r\n\r\n    const [name, setName] = useState(\"\");\r\n    // const [endName] = useDebounce(name, 1000);\r\n\r\n    const [debouncedName] = useDebouncedCallback(\r\n        // function\r\n        (value) => {\r\n            set_name(value);\r\n        },\r\n        // delay in ms\r\n        1000\r\n    );\r\n\r\n    const [description, setDescription] = useState(\"\");\r\n    // const [endDescription] = useDebounce(description, 1000);\r\n\r\n    const [debouncedDescription] = useDebouncedCallback(\r\n        // function\r\n        (value) => {\r\n            set_description(value);\r\n        },\r\n        // delay in ms\r\n        1000\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n        if(storylet) {\r\n            if(storylet.name)\r\n                setName(storylet.name);\r\n\r\n            if(storylet.description)\r\n                setDescription(storylet.description);\r\n\r\n            if(storylet.viewer && storylet.viewer.autoplay)\r\n                setAutoplay(storylet.viewer.autoplay);\r\n\r\n            if(storylet.viewer && storylet.viewer.template)\r\n                setTemplate(storylet.viewer.template);\r\n        }\r\n    }, [storylet]);\r\n\r\n    useEffect(() => {\r\n        if(!selectedComponent)\r\n            return;\r\n\r\n        setSelectedTab(0);\r\n    }, [selectedComponent]);\r\n\r\n    const set_template = (value) => {\r\n        let data = cloneDeep(storylet);\r\n\r\n        data.viewer.template = value;\r\n\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n\r\n        setTemplate(value);\r\n    };\r\n\r\n    const set_autoplay = () => {\r\n        let data = cloneDeep(storylet);\r\n\r\n        data.viewer.autoplay = !autoplay;\r\n\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n\r\n        setAutoplay(!autoplay);\r\n    };\r\n\r\n    const set_name = (name) => {\r\n        let data = cloneDeep(storylet);\r\n        data.name = name;\r\n        setName(name);\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n    };\r\n\r\n\r\n    const set_description = (description) => {\r\n        let data = cloneDeep(storylet);\r\n        data.description = description;\r\n        setDescription(description);\r\n        batch(() => {\r\n            dispatch(setStorylet(data));\r\n        });\r\n    };\r\n\r\n    function selectTab(e) {\r\n        setSelectedTab(e._targetInst.index);\r\n    }\r\n\r\n    return (\r\n        <div className=\"properties-container noselect\">\r\n            <div className=\"tabs\">\r\n                <div className={selectedTab === 0 ? \"tab selected\" : \"tab\"} onClick={selectTab}>{translate('component', ln)}</div>\r\n                <div className={selectedTab === 1 ? \"tab selected\" : \"tab\"} onClick={selectTab}>{translate('slide', ln)}</div>\r\n            </div>\r\n            <div className={selectedTab === 0 ? \"properties col-md-12 show\" : \"properties col-md-12\"}>\r\n            {\r\n                (() =>\r\n                {\r\n                    if (!selectedComponent) return null;\r\n                    switch (selectedComponent.type) {\r\n                        case 'text'  :\r\n                            return (<Properties/>);\r\n                        case 'image' :\r\n                            return (<Properties/>);\r\n                        default : break;\r\n                    }\r\n                    return null;\r\n                })()\r\n            }\r\n            </div>\r\n            <div className={(selectedTab === 1 ? \"properties col-md-12 show\" : \"properties col-md-12\") + \" slide\"}>\r\n                <div className=\"property-row\">\r\n                    <label className=\"template-label\">{translate('title', ln)}</label>\r\n                </div>\r\n                <Input defaultValue={name} onChange={(value) => debouncedName(value)} />\r\n                <div className=\"property-row\">\r\n                    <label className=\"template-label\">{translate('description', ln)}</label>\r\n                </div>\r\n                <Input.TextArea defaultValue={description} onChange={(value) => debouncedDescription(value)} />\r\n                <div className=\"property-row\">\r\n                    <label className=\"template-label\">{translate('template', ln)}</label>\r\n                </div>\r\n                <Select style={{width:'100%'}} value={template} onChange={set_template}>\r\n                    <Select.Option value=\"linear\">{translate('linear', ln)}</Select.Option>\r\n                    <Select.Option value=\"snail\">{translate('snail', ln)}</Select.Option>\r\n                    <Select.Option value=\"cube\">{translate('cube', ln)}</Select.Option>\r\n                </Select>\r\n                <div className=\"property-row\">\r\n                    <label className=\"template-label\">{translate('autoplay', ln)}</label>\r\n                    <Switch style={{marginLeft:8}} checked={autoplay} size={'small'} onChange={set_autoplay}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\nimport SlideContainer from './slide-container'\r\nimport StageContainer from './stage-container'\r\nimport PropertiesContainer from './properties-container'\r\n\r\nimport '../../style/container/body-container.css'\r\n\r\nexport default function BodyContainer({isSettingVisible})\r\n{\r\n    return (\r\n        <div className={'body-container ' + (isSettingVisible ? '' : 'hideSettings')}>\r\n\r\n            <SlideContainer />\r\n\r\n            <StageContainer isSettingVisible={isSettingVisible} />\r\n\r\n            <PropertiesContainer />\r\n\r\n        </div>\r\n    )\r\n};","import React, {useState, useEffect} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport Moveable from 'react-moveable';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nimport setSlidesData from '../../reducer/actions/set-slides-data'\r\n\r\nexport default function MoveableComponent() {\r\n    const dispatch = useDispatch();\r\n\r\n    const slidesData = useSelector(state => state.slidesData);\r\n    const selectedSlide = useSelector(state => state.selectedSlide);\r\n    const selectedComponent = useSelector(state => state.selectedComponent);\r\n\r\n    const [target, setTarget] = useState(null);\r\n    const [slide, setSlide] = useState(null);\r\n    const [slideIdx, setSlideIdx] = useState(null);\r\n    const [componentIdx, setComponentIdx] = useState(null);\r\n\r\n    // Component Parameters\r\n    const [position, setPosition] = useState(null);\r\n    const [size, setSize] = useState(null);\r\n    const [scale, setScale] = useState(null);\r\n    const [rotate, setRotate] = useState(null);\r\n\r\n    useEffect(()=>{\r\n        setTarget(null);\r\n        if(selectedSlide && selectedComponent) {\r\n            setSlideIdx(selectedSlide.index);\r\n            setComponentIdx(selectedComponent.index);\r\n            setPosition(null);\r\n            setSize(null);\r\n            setScale(selectedComponent.scale);\r\n            setRotate(selectedComponent.rotate);\r\n            setSlide(document.getElementById(\"slide-wrapper\").children[0]);\r\n            setTimeout(()=>{setTarget(document.getElementById(\"component-\"+selectedComponent.index));}, 0);\r\n        } else {\r\n            setSlideIdx(null);\r\n            setComponentIdx(null);\r\n        }\r\n    }, [slidesData, selectedSlide, selectedComponent]);\r\n\r\n    //todo check range here and in dom\r\n    //todo normalize rotate\r\n    function setComponentParameters(name, value) {\r\n        let data = cloneDeep(slidesData);\r\n\r\n        switch (name) {\r\n            case \"size\":\r\n                data[slideIdx].components[componentIdx].w = value[0];\r\n                data[slideIdx].components[componentIdx].h = value[1];\r\n                break;\r\n            case \"position\":\r\n                data[slideIdx].components[componentIdx].x = value[0];\r\n                data[slideIdx].components[componentIdx].y = value[1];\r\n                break;\r\n            case \"scale\":\r\n                data[slideIdx].components[componentIdx].scale = value;\r\n                break;\r\n            case \"rotate\":\r\n                data[slideIdx].components[componentIdx].rotate = value;\r\n                break;\r\n        }\r\n\r\n        dispatch(setSlidesData(data));\r\n    }\r\n\r\n    return (\r\n        <Moveable\r\n            target={target}\r\n\r\n            draggable={true}\r\n            rotatable={true}\r\n            // resizable={selectedComponent ? selectedComponent.type ==='image' : false}\r\n            // scalable={selectedComponent ? selectedComponent.type ==='text' : false}\r\n            resizable={true}\r\n            scalable={false}\r\n\r\n            origin={false}\r\n\r\n            keepRatio={selectedComponent ? selectedComponent.keepRatio : false}\r\n\r\n            // DRAG\r\n            onDrag={({target, left, top, beforeDelta}) => {\r\n                setPosition([left, top]);\r\n                target.style.left = left + \"px\";\r\n                target.style.top = top + \"px\";\r\n            }}\r\n            onDragEnd={() => {\r\n                if(position===null)\r\n                    return;\r\n                let x = position[0]/slide.offsetWidth*100;\r\n                let y = position[1]/slide.offsetHeight*100;\r\n                selectedComponent.x = x;\r\n                selectedComponent.y = y;\r\n                setComponentParameters(\"position\", [x,y]);\r\n            }}\r\n\r\n            // RESIZE\r\n            onResize={({target, width, height, dist}) => {\r\n                setSize([width, height]);\r\n                target.style.width = width + \"px\";\r\n                target.style.height = height + \"px\";\r\n            }}\r\n            onResizeEnd={() => {\r\n                if(size===null)\r\n                    return;\r\n                let w = size[0]/slide.offsetWidth*100;\r\n                let h = size[1]/slide.offsetHeight*100;\r\n                selectedComponent.w = w;\r\n                selectedComponent.h = h;\r\n                setComponentParameters('size', [w,h]);\r\n            }}\r\n\r\n            // SCALE\r\n            onScale={({target, delta}) => {\r\n                setScale([scale[0]*delta[0],scale[1]*delta[1]])\r\n                target.style.transform\r\n                    = \"scale(\" + scale[0] +  \",\" + scale[1] + \") \"\r\n                    + \"rotate(\" + rotate +  \"deg)\";\r\n            }}\r\n            onScaleEnd={() => {\r\n                selectedComponent.scale = scale;\r\n                setComponentParameters(\"scale\", scale);\r\n            }}\r\n\r\n            // ROTATE\r\n            onRotate={({ target, beforeDelta, delta }) => {\r\n                setRotate(rotate + delta);\r\n                target.style.transform\r\n                    = \"scale(\" + scale[0] +  \",\" + scale[1] + \") \"\r\n                    + \"rotate(\" + rotate +  \"deg)\";\r\n            }}\r\n            onRotateEnd={() => {\r\n                selectedComponent.rotate = rotate;\r\n                setComponentParameters(\"rotate\", rotate);\r\n            }}\r\n\r\n            // SNAPPABLE\r\n            snappable={true}\r\n            bounds={{ left: document.documentElement.clientWidth*0.25, top: 56, bottom: document.documentElement.clientHeight-8, right: document.documentElement.clientWidth*0.75 }}\r\n            verticalGuidelines={[slide ? document.documentElement.clientWidth*0.50-slide.offsetWidth/2 : null, document.documentElement.clientWidth*0.50, slide ? document.documentElement.clientWidth*0.50+slide.offsetWidth/2 : null]}\r\n            horizontalGuidelines={[96+48, slide ? 96+slide.offsetHeight/2 : null, slide ? 96+48+slide.offsetHeight : null]}\r\n            snapCenter={true}\r\n            // elementGuidelines={[document.querySelector(\"#stage-container .image-moveable-container\")]}\r\n        />\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport HeaderContainer from './components/container/header-container'\r\nimport BodyContainer from './components/container/body-container'\r\nimport MoveableComponent from \"./components/moveable/moveable-component\";\r\n\r\nimport setSlideData from './reducer/actions/set-slides-data'\r\nimport setStorylet from './reducer/actions/set-storylet'\r\n\r\nimport selectSlide from \"./reducer/actions/select-slide\";\r\nimport './StoryletCreator.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nfunction StoryletCreator()\r\n{\r\n    const dispatch = useDispatch();\r\n\r\n    const [isSettingVisible, setIsSettingVisible] = useState(true);\r\n\r\n    useEffect(() =>\r\n    {\r\n        let metadata = JSON.parse(window.STORY.DATA.metadata);\r\n        let story = JSON.parse(window.STORY.DATA.story);\r\n        dispatch(setStorylet(metadata));\r\n        dispatch(setSlideData(story));\r\n        dispatch(selectSlide(story[0]));\r\n    }, []);\r\n\r\n    const hide_settings = () => {\r\n        setIsSettingVisible(!isSettingVisible);\r\n    };\r\n\r\n    return (\r\n     <>\r\n        <HeaderContainer hideSettings={hide_settings} />\r\n        <BodyContainer isSettingVisible={isSettingVisible} />\r\n        <MoveableComponent/>\r\n     </>\r\n    );\r\n}\r\n\r\nexport default StoryletCreator;","const storylet = (state = [], action) => {\r\n    switch (action.type){\r\n        case 'SET_STORYLET' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default storylet","const slidesData = (state = [], action) => {\r\n    switch (action.type){\r\n        case 'SET_SLIDES_DATA' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default slidesData","const selectedSlide = (state = null, action) => {\r\n    switch (action.type){\r\n        case 'SELECT_SLIDE' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default selectedSlide","const selectedComponent = (state = null, action) => {\r\n    switch (action.type){\r\n        case 'SELECT_COMPONENT' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default selectedComponent","const copiedComponent = (state = null, action) => {\r\n    switch (action.type){\r\n        case 'COPY_COMPONENT' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default copiedComponent","const selectedLanguage = (state = null, action) => {\r\n    switch (action.type){\r\n        case 'SELECT_LANGUAGE' : return action.payload;\r\n        default : return state;\r\n    }\r\n};\r\n\r\nexport default selectedLanguage","import {combineReducers} from 'redux'\r\n\r\nimport storylet from './storylet';\r\nimport slidesData from './slides-data'\r\nimport selectedSlide from './selected-slide'\r\nimport selectedComponent from './selected-component';\r\nimport copiedComponent from './copied-component';\r\nimport selectedLanguage from './selected-language';\r\n\r\nconst reducers = combineReducers({\r\n    storylet : storylet,\r\n    slidesData : slidesData,\r\n    selectedSlide : selectedSlide,\r\n    selectedComponent : selectedComponent,\r\n    copiedComponent : copiedComponent,\r\n    selectedLanguage : selectedLanguage\r\n});\r\n\r\nexport default reducers","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport StoryletCreator from './StoryletCreator';\r\n\r\nimport {createStore} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport reducer from './reducer'\r\n\r\nconst store = createStore (reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nReactDOM.render(<Provider store={store}><StoryletCreator /></Provider>, document.getElementById('root'));"],"sourceRoot":""}