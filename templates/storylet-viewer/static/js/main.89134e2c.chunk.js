(this["webpackJsonpstorylet-viewer"]=this["webpackJsonpstorylet-viewer"]||[]).push([[0],{31:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),i=n.n(c),o=n(10),s=n.n(o),u=n(7),l=n(6),m=n(25);function p(){var e=Object(m.a)(["\n  width: ",";\n  height: ",";\n  position: relative;\n  background: url(",");\n  background-size: cover;\n  background-color: var(--storylet-white);\n  box-shadow: ",";\n  border-radius: 4px\n"]);return p=function(){return e},e}var d=n(26).a.div(p(),(function(e){switch(e.size){case"small":return"5vw";case"medium":return"30vw";case"full":return"40vw";case"snail":case"cube":return"700px";default:return"40vw"}}),(function(e){switch(e.size){case"small":return"5vw";case"medium":return"30vw";case"full":return"40vw";case"snail":case"cube":return"700px";default:return"40vw"}}),(function(e){return e.background}),(function(e){return e.isParent?"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,1)":"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}));function f(e){var t=e.component;return r.a.createElement("div",{style:{top:t.y+"%",left:t.x+"%",width:t.w+"%",height:t.h+"%",transform:"scale("+t.scale[0]+","+t.scale[1]+") rotate("+t.rotate+"deg)",zIndex:t.zIndex,fontSize:.05*t.fontSize+"vw",color:t.color,position:"absolute"}},t.value)}function v(e){var t=e.component;return r.a.createElement("div",{className:"image-moveable-container",style:{top:t.y+"%",left:t.x+"%",width:t.w+"%",height:t.h+"%",transform:"scale("+t.scale[0]+","+t.scale[1]+") rotate("+t.rotate+"deg)",zIndex:t.zIndex,position:"absolute"}},r.a.createElement("img",{style:{width:"100%",height:"100%"},src:t.src,alt:t.src}))}var w=function(e){var t=e.parameters,n=e.size,a=e.navigateLink,c=e.isParent;return r.a.createElement(d,{background:t.background,size:n,isParent:c},t.components?t.components.map((function(e,t){switch(e.type){case"text":return r.a.createElement(f,{key:t,component:e});case"image":return r.a.createElement(v,{key:t,component:e})}})):null,t.storyLink?r.a.createElement("button",{onClick:function(){return a(t.storyLink)}},"LINK"):null)};n(61);var b=function(){var e=.4*window.innerWidth,t=window.innerWidth,n=Object(a.useState)("full"),c=Object(u.a)(n,2),i=c[0],o=c[1],m=Object(a.useState)(null),p=Object(u.a)(m,2),d=p[0],f=p[1],v=Object(a.useState)(null),b=Object(u.a)(v,2),y=b[0],E=b[1],h=Object(a.useState)(null),g=Object(u.a)(h,2),k=g[0],x=g[1],S=function(e){var t,n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(fetch(window.API_ENDPOINT.GET_STORYLET+"/"+e,{method:"GET"}));case 2:return t=a.sent,a.next=5,s.a.awrap(t.json());case 5:n=a.sent,f(y),E(JSON.parse(n.data.story)),o("medium");case 9:case"end":return a.stop()}}))};Object(a.useEffect)((function(){E(JSON.parse(window.STORY.DATA.story)),x(JSON.parse(window.STORY.DATA.metadata))}),[]);var O=function(){f(null),o("full")},z=function(){E(d),O()};return r.a.createElement(r.a.Fragment,null,d&&function(){var e=d.map((function(e,t){return r.a.createElement(w,{key:t,parameters:e,size:"small",isParent:!0})}));return r.a.createElement("div",{className:"parentStory",onClick:z},r.a.createElement("div",{className:"contentParentStory"},e),r.a.createElement("div",{onClick:O,className:"closeParentStory"},"CLOSE"))}(),y&&function(){var n;return k.viewer&&"linear"!==k.viewer.template?"snail"===k.viewer.template?n=(n=y.map((function(e,t){if(t<13)return r.a.createElement(l.Step,{key:t,duration:1500,data:{x:[-1e3,0,1100,1900,2100,1800,1e3,-100,-1200,-2e3,-2300,0,3e3][t],y:[-1500,-1500,-1200,-400,700,1800,2600,2900,2600,1800,700,700,1500][t],rotate:[0,0,30,60,90,120,150,180,210,240,270,720,0][t],scale:[1,1,1,1,1,1,1,1,1,1,1,1,.1][t]}},r.a.createElement(w,{key:t,parameters:e,size:"snail",navigateLink:S}))}))).filter((function(e){return null!=e})):"cube"===k.viewer.template&&(n=(n=y.map((function(e,t){if(t<6)return r.a.createElement(l.Step,{key:t,duration:1500,data:{x:[0,350,0,0,-350,0][t],y:[0,0,350,-350,0,0][t],z:[350,0,0,0,0,-350][t],rotateX:[0,0,-90,90,0,0][t],rotateY:[0,90,0,0,-90,-180][t]}},r.a.createElement(w,{key:t,parameters:e,size:"cube",navigateLink:S}))}))).filter((function(e){return null!=e}))):n=y.map((function(n,a){return r.a.createElement(l.Step,{key:a,duration:1500,data:{x:0===a?0:(t-e)*a}},r.a.createElement(w,{key:a,parameters:n,size:i,navigateLink:S}))})),r.a.createElement(l.Impress,{progress:!0,fallbackMessage:r.a.createElement("p",null,"Error"),hint:!1},n)}())};i.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.89134e2c.chunk.js.map