(this["webpackJsonpstorylet-viewer"]=this["webpackJsonpstorylet-viewer"]||[]).push([[0],{32:function(e,t,n){e.exports=n(63)},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),i=n.n(c),o=n(11),s=n.n(o),u=n(25),l=n(7),m=n(6),p=n(26);function f(){var e=Object(p.a)(["\n  width: ",";\n  height: ",";\n  position: relative;\n  background: url(",");\n  background-size: cover;\n  background-color: var(--storylet-white);\n  box-shadow: ",";\n  border-radius: 4px\n"]);return f=function(){return e},e}var d=n(27).a.div(f(),(function(e){switch(e.size){case"small":return"5vw";case"medium":return"30vw";case"full":return"40vw";case"snail":case"cube":return"700px";default:return"40vw"}}),(function(e){switch(e.size){case"small":return"5vw";case"medium":return"30vw";case"full":return"40vw";case"snail":case"cube":return"700px";default:return"40vw"}}),(function(e){return e.background}),(function(e){return e.isParent?"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,1)":"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}));function v(e){var t=e.component;return r.a.createElement("div",{style:{top:t.y+"%",left:t.x+"%",width:t.w+"%",height:t.h+"%",transform:"scale("+t.scale[0]+","+t.scale[1]+") rotate("+t.rotate+"deg)",zIndex:t.zIndex,fontSize:.05*t.fontSize+"vw",color:t.color,position:"absolute"}},t.value)}function w(e){var t=e.component;return r.a.createElement("div",{className:"image-moveable-container",style:{top:t.y+"%",left:t.x+"%",width:t.w+"%",height:t.h+"%",transform:"scale("+t.scale[0]+","+t.scale[1]+") rotate("+t.rotate+"deg)",zIndex:t.zIndex,position:"absolute"}},r.a.createElement("img",{style:{width:"100%",height:"100%"},src:t.src,alt:t.src}))}var b=function(e){var t=e.parameters,n=e.size,a=e.navigateLink,c=e.isParent;return r.a.createElement(d,{background:t.background,size:n,isParent:c},t.components?t.components.map((function(e,t){switch(e.type){case"text":return r.a.createElement(v,{key:t,component:e});case"image":return r.a.createElement(w,{key:t,component:e})}})):null,t.storyLink?r.a.createElement("button",{onClick:function(){return a(t.storyLink)}},"LINK"):null)};n(62);var h=function(){var e=.4*window.innerWidth,t=window.innerWidth,n=Object(a.useState)("full"),c=Object(l.a)(n,2),i=c[0],o=c[1],p=Object(a.useState)(null),f=Object(l.a)(p,2),d=f[0],v=f[1],w=Object(a.useState)(null),h=Object(l.a)(w,2),y=h[0],E=h[1],k=Object(a.useState)(null),g=Object(l.a)(k,2),x=g[0],O=g[1],S=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.API_ENDPOINT.GET_STORYLET+"/"+t,{method:"GET"});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,v(y),E(JSON.parse(a.data.story)),o("medium");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){E(JSON.parse(window.STORY.DATA.story)),O(JSON.parse(window.STORY.DATA.metadata))}),[]);var z=function(){v(null),o("full")},j=function(){E(d),z()};return r.a.createElement(r.a.Fragment,null,d&&function(){var e=d.map((function(e,t){return r.a.createElement(b,{key:t,parameters:e,size:"small",isParent:!0})}));return r.a.createElement("div",{className:"parentStory",onClick:j},r.a.createElement("div",{className:"contentParentStory"},e),r.a.createElement("div",{onClick:z,className:"closeParentStory"},"CLOSE"))}(),y&&function(){var n;return x.viewer&&"linear"!==x.viewer.template?"snail"===x.viewer.template?n=(n=y.map((function(e,t){if(t<13)return r.a.createElement(m.Step,{key:t,duration:1500,data:{x:[-1e3,0,1100,1900,2100,1800,1e3,-100,-1200,-2e3,-2300,0,3e3][t],y:[-1500,-1500,-1200,-400,700,1800,2600,2900,2600,1800,700,700,1500][t],rotate:[0,0,30,60,90,120,150,180,210,240,270,720,0][t],scale:[1,1,1,1,1,1,1,1,1,1,1,1,.1][t]}},r.a.createElement(b,{key:t,parameters:e,size:"snail",navigateLink:S}))}))).filter((function(e){return null!=e})):"cube"===x.viewer.template&&(n=(n=y.map((function(e,t){if(t<6)return r.a.createElement(m.Step,{key:t,duration:1500,data:{x:[0,350,0,0,-350,0][t],y:[0,0,350,-350,0,0][t],z:[350,0,0,0,0,-350][t],rotateX:[0,0,-90,90,0,0][t],rotateY:[0,90,0,0,-90,-180][t]}},r.a.createElement(b,{key:t,parameters:e,size:"cube",navigateLink:S}))}))).filter((function(e){return null!=e}))):n=y.map((function(n,a){return r.a.createElement(m.Step,{key:a,duration:1500,data:{x:0===a?0:(t-e)*a}},r.a.createElement(b,{key:a,parameters:n,size:i,navigateLink:S}))})),r.a.createElement(m.Impress,{progress:!0,fallbackMessage:r.a.createElement("p",null,"Error"),hint:!1},n)}())};i.a.render(r.a.createElement(h,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.aeda1619.chunk.js.map