{"version":3,"sources":["style/StyledSlide.js","component/text.js","component/image.js","component/Slide.js","App.js","index.js"],"names":["SlideStyle","styled","div","props","size","background","isParent","Text","component","style","top","y","left","x","width","w","height","h","transform","scale","rotate","zIndex","fontSize","color","position","value","Image","className","src","alt","Slide","parameters","navigateLink","components","map","c","idx","type","key","storyLink","onClick","App","off","window","innerWidth","screen_width","useState","slideSize","setSlideSize","parentStory","setParentStory","currentStory","setCurrentStory","navigate_link","storylet_id","a","fetch","API_ENDPOINT","GET_STORYLET","method","response","json","data","JSON","parse","story","useEffect","STORY","DATA","close_parent_story","back_to_parent_story","slides","slide","print_parent_story","steps","duration","progress","fallbackMessage","hint","print_impress_story","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f14fed7.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nconst SlideStyle = styled.div`\r\n  width: ${(props) => { \r\n            switch(props.size) {\r\n                case 'small' : return '5vw';\r\n                case 'medium': return '30vw';\r\n                case 'full'  : return '40vw';\r\n                default      : return '40vw';\r\n            }}\r\n          };\r\n  height: ${(props) => {\r\n                switch(props.size) {\r\n                    case 'small' : return '5vw';\r\n                    case 'medium': return '30vw';\r\n                    case 'full'  : return '40vw';\r\n                    default      : return '40vw';\r\n                }}\r\n            };\r\n  position: relative;\r\n  background: url(${(props) => props.background});\r\n  background-size: cover;\r\n  background-color: var(--storylet-white);\r\n  box-shadow: ${ (props) => props.isParent ?  '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,1)' : '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)' };\r\n  border-radius: 4px\r\n`;\r\n\r\nexport default SlideStyle","import React from 'react';\r\n\r\nexport default function Text({component})\r\n{\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                top:component.y+'%',\r\n                left:component.x+'%',\r\n                width:component.w+'%',\r\n                height:component.h+'%',\r\n                transform:'scale(' + component.scale[0] + ',' + component.scale[1] + ') rotate(' + component.rotate + 'deg)',\r\n                zIndex:component.zIndex,\r\n                fontSize:0.05 * component.fontSize +'vw',\r\n                color:component.color,\r\n                position:'absolute'\r\n        }}>{component.value}</div>\r\n    )\r\n};","import React from 'react'\r\n\r\nexport default function Image({component})\r\n{\r\n    return (\r\n        <div className=\"image-moveable-container\"\r\n        style={{\r\n            top:component.y+'%',\r\n            left:component.x+'%',\r\n            width:component.w+'%',\r\n            height:component.h+'%',\r\n            transform:'scale(' + component.scale[0] + ',' + component.scale[1] + ') rotate(' + component.rotate + 'deg)',\r\n            zIndex:component.zIndex,\r\n            position: 'absolute'\r\n        }}>\r\n            <img style={{width:'100%', height:'100%'}} src={component.src} alt={component.src}/>\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\nimport SlideStyle from '../style/StyledSlide'\r\nimport Text from '../component/text'\r\nimport Image from '../component/image'\r\n\r\nfunction Slide({parameters, size, navigateLink, isParent})\r\n{\r\n    return (\r\n        <SlideStyle background={parameters.background} size={size} isParent={isParent}>\r\n            {(() => {\r\n                    if (!parameters.components) return null;\r\n                    return parameters.components.map((c, idx) => {\r\n                        switch (c.type) {\r\n                            case 'text'  :\r\n                                return (\r\n                                    <Text key={idx} component={c}  />\r\n                                );\r\n                            case 'image' :\r\n                                return (\r\n                                    <Image key={idx} component={c} />\r\n                                );\r\n                        }\r\n                    })\r\n                }\r\n            )()}\r\n            {parameters.storyLink ? (<button onClick={() => navigateLink(parameters.storyLink)}>LINK</button>) : null }\r\n        </SlideStyle>\r\n    );\r\n\r\n}\r\n\r\nexport default Slide;\r\n","import React, {useState, useEffect} from 'react';\nimport { Impress, Step } from 'react-impressjs';\nimport Slide from \"./component/Slide\";\nimport './App.css'\n\nfunction App()\n{\n    const off          = window.innerWidth*0.4;\n    const screen_width = window.innerWidth;\n\n    const [slideSize, setSlideSize]       = useState('full');\n    const [parentStory, setParentStory]   = useState(null);\n    const [currentStory, setCurrentStory] = useState(null);\n\n    const navigate_link = async (storylet_id) =>\n    {\n        let response = await fetch(window.API_ENDPOINT.GET_STORYLET+'/'+storylet_id, {method: 'GET'});\n        let data = await response.json();\n\n        setParentStory(currentStory);\n        setCurrentStory(JSON.parse(data.data.story));\n        setSlideSize('medium');\n    };\n\n    useEffect(() => {\n        setCurrentStory(window.STORY.DATA);\n    }, []);\n\n    const print_parent_story = () =>\n    {\n        let slides = parentStory.map((slide, idx) =>\n            <Slide key={idx} parameters={slide} size={'small'} isParent={true} />\n        );\n\n        return (\n            <div className={'parentStory'} onClick={back_to_parent_story}>\n                <div className={'contentParentStory'}>\n                    {slides}\n                </div>\n                <div onClick={close_parent_story} className={'closeParentStory'}>CLOSE</div>\n            </div>\n        )\n    };\n\n    const print_impress_story = () =>\n    {\n        let steps = currentStory.map((slide, idx) => {\n            return (\n                <Step key={idx} duration={1500} data={{x: idx === 0 ? 0 : ((screen_width-off)*idx)}}>\n                    <Slide key={idx} parameters={slide} size={slideSize} navigateLink={navigate_link}/>\n                </Step>\n            )\n        });\n\n        return <Impress progress={true} fallbackMessage={<p>Error</p>} hint={false}>{steps}</Impress>;\n    };\n\n    const close_parent_story = () =>\n    {\n        setParentStory(null);\n        setSlideSize('full');\n    };\n\n    const back_to_parent_story = () =>\n    {\n        setCurrentStory(parentStory);\n        close_parent_story();\n    };\n\n    return (\n        <>\n            {parentStory && print_parent_story() }\n            {currentStory && print_impress_story() }\n        </>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}